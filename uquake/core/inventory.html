<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 14.1.0"/>
    <title>uquake.core.inventory API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../core.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;uquake.core</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#SystemResponse">SystemResponse</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#SystemResponse.__init__">SystemResponse</a>
                        </li>
                        <li>
                                <a class="variable" href="#SystemResponse.components_info">components_info</a>
                        </li>
                        <li>
                                <a class="function" href="#SystemResponse.add_cable">add_cable</a>
                        </li>
                        <li>
                                <a class="function" href="#SystemResponse.add_digitizer">add_digitizer</a>
                        </li>
                        <li>
                                <a class="function" href="#SystemResponse.validate">validate</a>
                        </li>
                        <li>
                                <a class="function" href="#SystemResponse.generate_stage">generate_stage</a>
                        </li>
                        <li>
                                <a class="variable" href="#SystemResponse.response">response</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#geophone_sensor_response">geophone_sensor_response</a>
            </li>
            <li>
                    <a class="function" href="#accelerometer_sensor_response">accelerometer_sensor_response</a>
            </li>
            <li>
                    <a class="function" href="#sensor_cable_response">sensor_cable_response</a>
            </li>
            <li>
                    <a class="function" href="#get_response_from_nrl">get_response_from_nrl</a>
            </li>
            <li>
                    <a class="class" href="#Inventory">Inventory</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Inventory.from_obspy_inventory_object">from_obspy_inventory_object</a>
                        </li>
                        <li>
                                <a class="function" href="#Inventory.from_url">from_url</a>
                        </li>
                        <li>
                                <a class="function" href="#Inventory.from_bytes">from_bytes</a>
                        </li>
                        <li>
                                <a class="function" href="#Inventory.write">write</a>
                        </li>
                        <li>
                                <a class="function" href="#Inventory.get_station">get_station</a>
                        </li>
                        <li>
                                <a class="function" href="#Inventory.get_channel">get_channel</a>
                        </li>
                        <li>
                                <a class="function" href="#Inventory.select_instrument">select_instrument</a>
                        </li>
                        <li>
                                <a class="function" href="#Inventory.to_bytes">to_bytes</a>
                        </li>
                        <li>
                                <a class="variable" href="#Inventory.instruments">instruments</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Network">Network</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Network.__init__">Network</a>
                        </li>
                        <li>
                                <a class="function" href="#Network.from_obspy_network">from_obspy_network</a>
                        </li>
                        <li>
                                <a class="function" href="#Network.get_grid_extent">get_grid_extent</a>
                        </li>
                        <li>
                                <a class="variable" href="#Network.site_coordinates">site_coordinates</a>
                        </li>
                        <li>
                                <a class="variable" href="#Network.station_coordinates">station_coordinates</a>
                        </li>
                        <li>
                                <a class="variable" href="#Network.instruments">instruments</a>
                        </li>
                        <li>
                                <a class="variable" href="#Network.instrument_coordinates">instrument_coordinates</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Station">Station</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Station.__init__">Station</a>
                        </li>
                        <li>
                                <a class="variable" href="#Station.extra">extra</a>
                        </li>
                        <li>
                                <a class="function" href="#Station.from_obspy_station">from_obspy_station</a>
                        </li>
                        <li>
                                <a class="variable" href="#Station.x">x</a>
                        </li>
                        <li>
                                <a class="variable" href="#Station.y">y</a>
                        </li>
                        <li>
                                <a class="variable" href="#Station.z">z</a>
                        </li>
                        <li>
                                <a class="variable" href="#Station.loc">loc</a>
                        </li>
                        <li>
                                <a class="variable" href="#Station.instruments">instruments</a>
                        </li>
                        <li>
                                <a class="variable" href="#Station.instrument_coordinates">instrument_coordinates</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Instrument">Instrument</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Instrument.__init__">Instrument</a>
                        </li>
                        <li>
                                <a class="variable" href="#Instrument.location_code">location_code</a>
                        </li>
                        <li>
                                <a class="variable" href="#Instrument.station">station</a>
                        </li>
                        <li>
                                <a class="variable" href="#Instrument.channels">channels</a>
                        </li>
                        <li>
                                <a class="variable" href="#Instrument.loc">loc</a>
                        </li>
                        <li>
                                <a class="variable" href="#Instrument.alternate_code">alternate_code</a>
                        </li>
                        <li>
                                <a class="variable" href="#Instrument.x">x</a>
                        </li>
                        <li>
                                <a class="variable" href="#Instrument.y">y</a>
                        </li>
                        <li>
                                <a class="variable" href="#Instrument.z">z</a>
                        </li>
                        <li>
                                <a class="variable" href="#Instrument.coordinates">coordinates</a>
                        </li>
                        <li>
                                <a class="variable" href="#Instrument.station_code">station_code</a>
                        </li>
                        <li>
                                <a class="variable" href="#Instrument.instrument_code">instrument_code</a>
                        </li>
                        <li>
                                <a class="variable" href="#Instrument.simplified_code">simplified_code</a>
                        </li>
                        <li>
                                <a class="variable" href="#Instrument.code">code</a>
                        </li>
                        <li>
                                <a class="variable" href="#Instrument.sensor_type_code">sensor_type_code</a>
                        </li>
                        <li>
                                <a class="function" href="#Instrument.make_instrument_code">make_instrument_code</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Channel">Channel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Channel.__init__">Channel</a>
                        </li>
                        <li>
                                <a class="variable" href="#Channel.defaults">defaults</a>
                        </li>
                        <li>
                                <a class="function" href="#Channel.from_obspy_channel">from_obspy_channel</a>
                        </li>
                        <li>
                                <a class="function" href="#Channel.set_orientation">set_orientation</a>
                        </li>
                        <li>
                                <a class="variable" href="#Channel.orientation_vector">orientation_vector</a>
                        </li>
                        <li>
                                <a class="variable" href="#Channel.x">x</a>
                        </li>
                        <li>
                                <a class="variable" href="#Channel.y">y</a>
                        </li>
                        <li>
                                <a class="variable" href="#Channel.z">z</a>
                        </li>
                        <li>
                                <a class="variable" href="#Channel.loc">loc</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#load_from_excel">load_from_excel</a>
            </li>
            <li>
                    <a class="function" href="#read_inventory">read_inventory</a>
            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../../uquake.html">uquake</a><wbr>.<a href="./../core.html">core</a><wbr>.inventory    </h1>

                        <div class="docstring"><p>Expansion of the obspy.core.event module</p>

<p>:copyright:
    uquake development team (devs@uquake.org)
:license:
    GNU Lesser General Public License, Version 3
    (<a href="http://www.gnu.org/copyleft/lesser.html">http://www.gnu.org/copyleft/lesser.html</a>)</p>
</div>

                        <input id="mod-inventory-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-inventory-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">   1</span></a><span class="c1"># Copyright (C) 2023, Jean-Philippe Mercier</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">   2</span></a><span class="c1">#</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">   3</span></a><span class="c1"># This program is free software: you can redistribute it and/or modify</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">   4</span></a><span class="c1"># it under the terms of the GNU Affero General Public License as published by</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">   5</span></a><span class="c1"># the Free Software Foundation, either version 3 of the License, or</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">   6</span></a><span class="c1"># (at your option) any later version.</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">   7</span></a><span class="c1">#</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">   8</span></a><span class="c1"># This program is distributed in the hope that it will be useful,</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">   9</span></a><span class="c1"># but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">  10</span></a><span class="c1"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos">  11</span></a><span class="c1"># GNU Affero General Public License for more details.</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">  12</span></a><span class="c1">#</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos">  13</span></a><span class="c1"># You should have received a copy of the GNU Affero General Public License</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos">  14</span></a><span class="c1"># along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos">  15</span></a>
</span><span id="L-16"><a href="#L-16"><span class="linenos">  16</span></a><span class="c1"># -*- coding: utf-8 -*-</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos">  17</span></a><span class="c1"># ------------------------------------------------------------------</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos">  18</span></a><span class="c1"># Filename: inventory.py</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos">  19</span></a><span class="c1">#  Purpose: Expansion of the obspy.core.inventory.inventory module</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos">  20</span></a><span class="c1">#   Author: uquake development team</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos">  21</span></a><span class="c1">#    Email: devs@uquake.org</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos">  22</span></a><span class="c1">#</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos">  23</span></a><span class="c1"># Copyright (C) 2016 uquake development team</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos">  24</span></a><span class="c1"># --------------------------------------------------------------------</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">  25</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos">  26</span></a><span class="sd">Expansion of the obspy.core.event module</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos">  27</span></a>
</span><span id="L-28"><a href="#L-28"><span class="linenos">  28</span></a><span class="sd">:copyright:</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos">  29</span></a><span class="sd">    uquake development team (devs@uquake.org)</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos">  30</span></a><span class="sd">:license:</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos">  31</span></a><span class="sd">    GNU Lesser General Public License, Version 3</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos">  32</span></a><span class="sd">    (http://www.gnu.org/copyleft/lesser.html)</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos">  33</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos">  34</span></a><span class="kn">import</span> <span class="nn">io</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos">  35</span></a><span class="kn">from</span> <span class="nn">obspy.core</span> <span class="kn">import</span> <span class="n">inventory</span><span class="p">,</span> <span class="n">AttribDict</span><span class="p">,</span> <span class="n">UTCDateTime</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos">  36</span></a><span class="kn">from</span> <span class="nn">obspy.core.inventory</span> <span class="kn">import</span> <span class="n">Network</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos">  37</span></a><span class="kn">from</span> <span class="nn">obspy.signal.invsim</span> <span class="kn">import</span> <span class="n">corn_freq_2_paz</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos">  38</span></a><span class="kn">from</span> <span class="nn">obspy.core.inventory</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Response</span><span class="p">,</span> <span class="n">InstrumentSensitivity</span><span class="p">,</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos">  39</span></a>                                  <span class="n">PolesZerosResponseStage</span><span class="p">,</span> <span class="n">ResponseStage</span><span class="p">)</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos">  40</span></a><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos">  41</span></a><span class="kn">from</span> <span class="nn">obspy.core.inventory.util</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Equipment</span><span class="p">,</span> <span class="n">Operator</span><span class="p">,</span> <span class="n">Person</span><span class="p">,</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos">  42</span></a>                                       <span class="n">PhoneNumber</span><span class="p">,</span> <span class="n">Site</span><span class="p">,</span> <span class="n">_textwrap</span><span class="p">,</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos">  43</span></a>                                       <span class="n">_unified_content_strings</span><span class="p">)</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos">  44</span></a><span class="kn">from</span> <span class="nn">uquake.core.util.decorators</span> <span class="kn">import</span> <span class="n">expand_input_format_compatibility</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos">  45</span></a><span class="kn">from</span> <span class="nn">uquake.core.coordinates</span> <span class="kn">import</span> <span class="n">Coordinates</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos">  46</span></a><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos">  47</span></a>
</span><span id="L-48"><a href="#L-48"><span class="linenos">  48</span></a><span class="kn">from</span> <span class="nn">.logging</span> <span class="kn">import</span> <span class="n">logger</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos">  49</span></a><span class="kn">from</span> <span class="nn">uquake</span> <span class="kn">import</span> <span class="n">__package_name__</span> <span class="k">as</span> <span class="n">ns</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos">  50</span></a>
</span><span id="L-51"><a href="#L-51"><span class="linenos">  51</span></a><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos">  52</span></a><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">BytesIO</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos">  53</span></a><span class="kn">from</span> <span class="nn">.util.tools</span> <span class="kn">import</span> <span class="n">lon_lat_x_y</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos">  54</span></a>
</span><span id="L-55"><a href="#L-55"><span class="linenos">  55</span></a><span class="kn">from</span> <span class="nn">.util</span> <span class="kn">import</span> <span class="n">ENTRY_POINTS</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos">  56</span></a><span class="kn">from</span> <span class="nn">pkg_resources</span> <span class="kn">import</span> <span class="n">load_entry_point</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos">  57</span></a><span class="kn">from</span> <span class="nn">tempfile</span> <span class="kn">import</span> <span class="n">NamedTemporaryFile</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos">  58</span></a><span class="kn">import</span> <span class="nn">os</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos">  59</span></a><span class="kn">from</span> <span class="nn">.util.requests</span> <span class="kn">import</span> <span class="n">download_file_from_url</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos">  60</span></a><span class="kn">from</span> <span class="nn">uquake.core.util.attribute_handler</span> <span class="kn">import</span> <span class="n">set_extra</span><span class="p">,</span> <span class="n">get_extra</span><span class="p">,</span> <span class="n">namespace</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos">  61</span></a>
</span><span id="L-62"><a href="#L-62"><span class="linenos">  62</span></a>
</span><span id="L-63"><a href="#L-63"><span class="linenos">  63</span></a><span class="k">class</span> <span class="nc">SystemResponse</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos">  64</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sensor_type</span><span class="p">,</span> <span class="o">**</span><span class="n">sensor_params</span><span class="p">):</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos">  65</span></a>        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sensor_type</span><span class="p">,</span> <span class="o">**</span><span class="n">sensor_params</span><span class="p">):</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos">  66</span></a><span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos">  67</span></a><span class="sd">            Initialize a SystemResponse object.</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos">  68</span></a>
</span><span id="L-69"><a href="#L-69"><span class="linenos">  69</span></a><span class="sd">            Parameters:</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos">  70</span></a><span class="sd">            -----------</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos">  71</span></a><span class="sd">            sensor_type : str</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos">  72</span></a><span class="sd">                Type of the sensor. Accepted values are &#39;geophone&#39; or &#39;accelerometer&#39;.</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos">  73</span></a>
</span><span id="L-74"><a href="#L-74"><span class="linenos">  74</span></a><span class="sd">            **sensor_params : keyword arguments</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos">  75</span></a><span class="sd">                Additional parameters for configuring the sensor response. These vary based on the `sensor_type`.</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos">  76</span></a>
</span><span id="L-77"><a href="#L-77"><span class="linenos">  77</span></a><span class="sd">                For &#39;geophone&#39;:</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos">  78</span></a><span class="sd">                - resonance_frequency : float</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos">  79</span></a><span class="sd">                    The resonance frequency of the geophone, in Hz.</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos">  80</span></a><span class="sd">                - gain : float</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos">  81</span></a><span class="sd">                    The gain of the geophone response.</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos">  82</span></a><span class="sd">                - damping : float, optional</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos">  83</span></a><span class="sd">                    Damping factor. Default is 0.707.</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos">  84</span></a><span class="sd">                - stage_sequence_number : int, optional</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos">  85</span></a><span class="sd">                    Stage sequence number. Default is 1.</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos">  86</span></a>
</span><span id="L-87"><a href="#L-87"><span class="linenos">  87</span></a><span class="sd">                For &#39;accelerometer&#39;:</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos">  88</span></a><span class="sd">                - resonance_frequency : float</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos">  89</span></a><span class="sd">                    The resonance frequency of the accelerometer, in Hz.</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos">  90</span></a><span class="sd">                - gain : float</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos">  91</span></a><span class="sd">                    The gain of the accelerometer response.</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos">  92</span></a><span class="sd">                - sensitivity : float, optional</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos">  93</span></a><span class="sd">                    Sensitivity of the accelerometer. Default is 1.</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos">  94</span></a><span class="sd">                - damping : float, optional</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos">  95</span></a><span class="sd">                    Damping factor. Default is 0.707.</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos">  96</span></a><span class="sd">                - stage_sequence_number : int, optional</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos">  97</span></a><span class="sd">                    Stage sequence number. Default is 1.</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos">  98</span></a>
</span><span id="L-99"><a href="#L-99"><span class="linenos">  99</span></a><span class="sd">            Raises:</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos"> 100</span></a><span class="sd">            --------</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos"> 101</span></a><span class="sd">            ValueError</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos"> 102</span></a><span class="sd">                When an invalid `sensor_type` or unsupported `sensor_params` are supplied.</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos"> 103</span></a>
</span><span id="L-104"><a href="#L-104"><span class="linenos"> 104</span></a><span class="sd">            Examples:</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos"> 105</span></a><span class="sd">            ----------</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos"> 106</span></a><span class="sd">            &gt;&gt;&gt; sr = SystemResponse(&#39;geophone&#39;, resonance_frequency=4.5, gain=2.0)</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos"> 107</span></a><span class="sd">            &gt;&gt;&gt; sr = SystemResponse(&#39;accelerometer&#39;, resonance_frequency=15, gain=3.0, sensitivity=0.2)</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos"> 108</span></a><span class="sd">            &quot;&quot;&quot;</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos"> 109</span></a>
</span><span id="L-110"><a href="#L-110"><span class="linenos"> 110</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">components_info</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos"> 111</span></a>            <span class="s1">&#39;sensor&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">sensor_type</span><span class="p">,</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos"> 112</span></a>                       <span class="s1">&#39;params&#39;</span><span class="p">:</span> <span class="n">sensor_params</span><span class="p">}</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos"> 113</span></a>        <span class="p">}</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos"> 114</span></a>
</span><span id="L-115"><a href="#L-115"><span class="linenos"> 115</span></a>    <span class="k">def</span> <span class="nf">add_cable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">cable_params</span><span class="p">):</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos"> 116</span></a>        <span class="k">if</span> <span class="s1">&#39;cable&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components_info</span><span class="p">:</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos"> 117</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cable response already added.&quot;</span><span class="p">)</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos"> 118</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">components_info</span><span class="p">[</span><span class="s1">&#39;cable&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;params&#39;</span><span class="p">:</span> <span class="n">cable_params</span><span class="p">}</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos"> 119</span></a>
</span><span id="L-120"><a href="#L-120"><span class="linenos"> 120</span></a>    <span class="k">def</span> <span class="nf">add_digitizer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">digitizer_params</span><span class="p">):</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos"> 121</span></a>        <span class="k">if</span> <span class="s1">&#39;digitizer&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components_info</span><span class="p">:</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos"> 122</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Digitizer already added.&quot;</span><span class="p">)</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos"> 123</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">components_info</span><span class="p">[</span><span class="s1">&#39;digitizer&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;params&#39;</span><span class="p">:</span> <span class="n">digitizer_params</span><span class="p">}</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos"> 124</span></a>
</span><span id="L-125"><a href="#L-125"><span class="linenos"> 125</span></a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos"> 126</span></a>        <span class="k">if</span> <span class="s1">&#39;sensor&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components_info</span><span class="p">:</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos"> 127</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;System must have at least a sensor.&quot;</span><span class="p">)</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos"> 128</span></a>
</span><span id="L-129"><a href="#L-129"><span class="linenos"> 129</span></a>    <span class="k">def</span> <span class="nf">generate_stage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_key</span><span class="p">,</span> <span class="n">stage_sequence_number</span><span class="p">):</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos"> 130</span></a>        <span class="n">component_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">components_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">component_key</span><span class="p">,</span> <span class="p">{})</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos"> 131</span></a>        <span class="k">if</span> <span class="n">component_key</span> <span class="o">==</span> <span class="s1">&#39;sensor&#39;</span><span class="p">:</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos"> 132</span></a>            <span class="k">if</span> <span class="n">component_info</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;geophone&#39;</span><span class="p">:</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos"> 133</span></a>                <span class="n">stage</span> <span class="o">=</span> <span class="n">geophone_sensor_response</span><span class="p">(</span><span class="o">**</span><span class="n">component_info</span><span class="p">[</span><span class="s1">&#39;params&#39;</span><span class="p">])</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos"> 134</span></a>            <span class="k">elif</span> <span class="n">component_info</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;accelerometer&#39;</span><span class="p">:</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos"> 135</span></a>                <span class="n">stage</span> <span class="o">=</span> <span class="n">accelerometer_sensor_response</span><span class="p">(</span><span class="o">**</span><span class="n">component_info</span><span class="p">[</span><span class="s1">&#39;params&#39;</span><span class="p">])</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos"> 136</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos"> 137</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid sensor type.&quot;</span><span class="p">)</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos"> 138</span></a>        <span class="k">elif</span> <span class="n">component_key</span> <span class="o">==</span> <span class="s1">&#39;cable&#39;</span><span class="p">:</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos"> 139</span></a>            <span class="n">stage</span> <span class="o">=</span> <span class="n">sensor_cable_response</span><span class="p">(</span><span class="o">**</span><span class="n">component_info</span><span class="p">[</span><span class="s1">&#39;params&#39;</span><span class="p">])</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos"> 140</span></a>        <span class="c1"># Add more conditions for other components</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos"> 141</span></a>        <span class="n">stage</span><span class="o">.</span><span class="n">stage_sequence_number</span> <span class="o">=</span> <span class="n">stage_sequence_number</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos"> 142</span></a>        <span class="k">return</span> <span class="n">stage</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos"> 143</span></a>
</span><span id="L-144"><a href="#L-144"><span class="linenos"> 144</span></a>    <span class="nd">@property</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos"> 145</span></a>    <span class="k">def</span> <span class="nf">response</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos"> 146</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos"> 147</span></a>        <span class="n">response_stages</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos"> 148</span></a>        <span class="n">sequence_number</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos"> 149</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;sensor&#39;</span><span class="p">,</span> <span class="s1">&#39;cable&#39;</span><span class="p">,</span> <span class="s1">&#39;digitizer&#39;</span><span class="p">]:</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos"> 150</span></a>            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components_info</span><span class="p">:</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos"> 151</span></a>                <span class="n">stage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_stage</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">sequence_number</span><span class="p">)</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos"> 152</span></a>                <span class="n">response_stages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">stage</span><span class="p">)</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos"> 153</span></a>                <span class="n">sequence_number</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos"> 154</span></a>
</span><span id="L-155"><a href="#L-155"><span class="linenos"> 155</span></a>        <span class="c1"># Create and return a Response object using the gathered response stages</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos"> 156</span></a>        <span class="n">system_response</span> <span class="o">=</span> <span class="n">Response</span><span class="p">(</span><span class="n">response_stages</span><span class="o">=</span><span class="n">response_stages</span><span class="p">)</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos"> 157</span></a>
</span><span id="L-158"><a href="#L-158"><span class="linenos"> 158</span></a>        <span class="k">return</span> <span class="n">system_response</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos"> 159</span></a>
</span><span id="L-160"><a href="#L-160"><span class="linenos"> 160</span></a>
</span><span id="L-161"><a href="#L-161"><span class="linenos"> 161</span></a><span class="k">def</span> <span class="nf">geophone_sensor_response</span><span class="p">(</span><span class="n">resonance_frequency</span><span class="p">,</span> <span class="n">gain</span><span class="p">,</span> <span class="n">damping</span><span class="o">=</span><span class="mf">0.707</span><span class="p">,</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos"> 162</span></a>                             <span class="n">stage_sequence_number</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos"> 163</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos"> 164</span></a><span class="sd">    Generate a Poles and Zeros response stage for a geophone.</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos"> 165</span></a>
</span><span id="L-166"><a href="#L-166"><span class="linenos"> 166</span></a><span class="sd">    Parameters:</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos"> 167</span></a><span class="sd">    - resonance_frequency (float): Resonance frequency of the geophone in Hz.</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos"> 168</span></a><span class="sd">    - gain (float): Gain factor.</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos"> 169</span></a><span class="sd">    - damping (float, optional): Damping ratio. Defaults to 0.707 (critical damping).</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos"> 170</span></a><span class="sd">    - stage_sequence_number (int, optional): Sequence number for the response stage.</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos"> 171</span></a>
</span><span id="L-172"><a href="#L-172"><span class="linenos"> 172</span></a><span class="sd">    Returns:</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos"> 173</span></a><span class="sd">    - PolesZerosResponseStage: Response stage object with configured poles and zeros.</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos"> 174</span></a>
</span><span id="L-175"><a href="#L-175"><span class="linenos"> 175</span></a><span class="sd">    Notes:</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos"> 176</span></a><span class="sd">    - The function utilizes the Laplace transform in the frequency domain.</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos"> 177</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos"> 178</span></a>    <span class="n">paz</span> <span class="o">=</span> <span class="n">corn_freq_2_paz</span><span class="p">(</span><span class="n">resonance_frequency</span><span class="p">,</span> <span class="n">damp</span><span class="o">=</span><span class="n">damping</span><span class="p">)</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos"> 179</span></a>    <span class="n">pzr</span> <span class="o">=</span> <span class="n">PolesZerosResponseStage</span><span class="p">(</span><span class="n">stage_sequence_number</span><span class="p">,</span> <span class="n">gain</span><span class="p">,</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos"> 180</span></a>                                  <span class="n">resonance_frequency</span><span class="p">,</span> <span class="s1">&#39;M/S&#39;</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos"> 181</span></a>                                  <span class="s1">&#39;LAPLACE (RADIANT/SECOND)&#39;</span><span class="p">,</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos"> 182</span></a>                                  <span class="n">resonance_frequency</span><span class="p">,</span> <span class="n">paz</span><span class="p">[</span><span class="s1">&#39;zeros&#39;</span><span class="p">],</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos"> 183</span></a>                                  <span class="n">paz</span><span class="p">[</span><span class="s1">&#39;poles&#39;</span><span class="p">])</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos"> 184</span></a>    <span class="k">return</span> <span class="n">pzr</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos"> 185</span></a>
</span><span id="L-186"><a href="#L-186"><span class="linenos"> 186</span></a>
</span><span id="L-187"><a href="#L-187"><span class="linenos"> 187</span></a><span class="k">def</span> <span class="nf">accelerometer_sensor_response</span><span class="p">(</span><span class="n">resonance_frequency</span><span class="p">,</span> <span class="n">gain</span><span class="p">,</span> <span class="n">sensitivity</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos"> 188</span></a>                                  <span class="n">damping</span><span class="o">=</span><span class="mf">0.707</span><span class="p">,</span> <span class="n">stage_sequence_number</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos"> 189</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos"> 190</span></a><span class="sd">    Generate a Poles and Zeros response stage for an accelerometer.</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos"> 191</span></a>
</span><span id="L-192"><a href="#L-192"><span class="linenos"> 192</span></a><span class="sd">    Parameters:</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos"> 193</span></a><span class="sd">    - resonance_frequency (float): Resonance frequency of the accelerometer in Hz.</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos"> 194</span></a><span class="sd">    - gain (float): Gain factor.</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos"> 195</span></a><span class="sd">    - sensitivity (float, optional): Sensitivity of the sensor. Defaults to 1.</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos"> 196</span></a><span class="sd">    - damping (float, optional): Damping ratio. Defaults to 0.707 (critical damping).</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos"> 197</span></a><span class="sd">    - stage_sequence_number (int, optional): Sequence number for the response stage.</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos"> 198</span></a>
</span><span id="L-199"><a href="#L-199"><span class="linenos"> 199</span></a><span class="sd">    Returns:</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos"> 200</span></a><span class="sd">    - PolesZerosResponseStage: Response stage object with configured poles and zeros.</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos"> 201</span></a>
</span><span id="L-202"><a href="#L-202"><span class="linenos"> 202</span></a><span class="sd">    Notes:</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos"> 203</span></a><span class="sd">    - The function utilizes the Laplace transform in the frequency domain.</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos"> 204</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos"> 205</span></a>    <span class="n">paz</span> <span class="o">=</span> <span class="n">corn_freq_2_paz</span><span class="p">(</span><span class="n">resonance_frequency</span><span class="p">,</span> <span class="n">damp</span><span class="o">=</span><span class="n">damping</span><span class="p">)</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos"> 206</span></a>    <span class="n">paz</span><span class="p">[</span><span class="s1">&#39;zeros&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos"> 207</span></a>    <span class="n">pzr</span> <span class="o">=</span> <span class="n">PolesZerosResponseStage</span><span class="p">(</span><span class="n">stage_sequence_number</span><span class="p">,</span> <span class="n">gain</span><span class="p">,</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos"> 208</span></a>                                  <span class="n">resonance_frequency</span><span class="p">,</span> <span class="s1">&#39;M/S/S&#39;</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos"> 209</span></a>                                  <span class="s1">&#39;LAPLACE (RADIANT/SECOND)&#39;</span><span class="p">,</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos"> 210</span></a>                                  <span class="n">resonance_frequency</span><span class="p">,</span> <span class="n">paz</span><span class="p">[</span><span class="s1">&#39;zeros&#39;</span><span class="p">],</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos"> 211</span></a>                                  <span class="n">paz</span><span class="p">[</span><span class="s1">&#39;poles&#39;</span><span class="p">])</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos"> 212</span></a>    <span class="k">return</span> <span class="n">pzr</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos"> 213</span></a>
</span><span id="L-214"><a href="#L-214"><span class="linenos"> 214</span></a>
</span><span id="L-215"><a href="#L-215"><span class="linenos"> 215</span></a><span class="k">def</span> <span class="nf">sensor_cable_response</span><span class="p">(</span><span class="n">output_resistance</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="n">cable_length</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos"> 216</span></a>                          <span class="n">cable_capacitance</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="n">stage_sequence_number</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos"> 217</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos"> 218</span></a><span class="sd">    Generate a Poles and Zeros response stage for sensor-cable interaction.</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos"> 219</span></a>
</span><span id="L-220"><a href="#L-220"><span class="linenos"> 220</span></a><span class="sd">    Parameters:</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos"> 221</span></a><span class="sd">    - output_resistance (float, optional): Output resistance of the sensor in ohms. D</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos"> 222</span></a><span class="sd">    efaults to infinity.</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos"> 223</span></a><span class="sd">    - cable_length (float, optional): Length of the cable in meters. Defaults to</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos"> 224</span></a><span class="sd">    infinity.</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos"> 225</span></a><span class="sd">    - cable_capacitance (float, optional): Cable capacitance in farads per meter.</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos"> 226</span></a><span class="sd">    Defaults to infinity.</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos"> 227</span></a><span class="sd">    - stage_sequence_number (int, optional): Sequence number for the response stage.</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos"> 228</span></a>
</span><span id="L-229"><a href="#L-229"><span class="linenos"> 229</span></a><span class="sd">    Returns:</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos"> 230</span></a><span class="sd">    - PolesZerosResponseStage: Response stage object with configured poles.</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos"> 231</span></a>
</span><span id="L-232"><a href="#L-232"><span class="linenos"> 232</span></a><span class="sd">    Notes:</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos"> 233</span></a><span class="sd">    - Assumes a Laplace transform in the frequency domain for the response.</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos"> 234</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos"> 235</span></a>    <span class="n">R</span> <span class="o">=</span> <span class="n">output_resistance</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos"> 236</span></a>    <span class="n">l</span> <span class="o">=</span> <span class="n">cable_length</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos"> 237</span></a>    <span class="n">C</span> <span class="o">=</span> <span class="n">cable_capacitance</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos"> 238</span></a>    <span class="n">poles</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos"> 239</span></a>
</span><span id="L-240"><a href="#L-240"><span class="linenos"> 240</span></a>    <span class="k">if</span> <span class="p">((</span><span class="n">R</span> <span class="o">*</span> <span class="n">l</span> <span class="o">*</span> <span class="n">C</span><span class="p">)</span> <span class="o">!=</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">)</span> <span class="ow">and</span> <span class="p">((</span><span class="n">R</span> <span class="o">*</span> <span class="n">l</span> <span class="o">*</span> <span class="n">C</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos"> 241</span></a>        <span class="n">pole_cable</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="n">R</span> <span class="o">*</span> <span class="n">l</span> <span class="o">*</span> <span class="n">C</span><span class="p">)</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos"> 242</span></a>        <span class="n">poles</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pole_cable</span><span class="p">)</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos"> 243</span></a>
</span><span id="L-244"><a href="#L-244"><span class="linenos"> 244</span></a>    <span class="n">pzr</span> <span class="o">=</span> <span class="n">PolesZerosResponseStage</span><span class="p">(</span><span class="n">stage_sequence_number</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos"> 245</span></a>                                  <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos"> 246</span></a>                                  <span class="s1">&#39;LAPLACE (RADIANT/SECOND)&#39;</span><span class="p">,</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos"> 247</span></a>                                  <span class="mi">0</span><span class="p">,</span> <span class="p">[],</span> <span class="n">poles</span><span class="p">)</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos"> 248</span></a>    <span class="k">return</span> <span class="n">pzr</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos"> 249</span></a>
</span><span id="L-250"><a href="#L-250"><span class="linenos"> 250</span></a>
</span><span id="L-251"><a href="#L-251"><span class="linenos"> 251</span></a><span class="k">def</span> <span class="nf">get_response_from_nrl</span><span class="p">(</span><span class="n">datalogger_keys</span><span class="p">,</span> <span class="n">sensor_keys</span><span class="p">):</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos"> 252</span></a>    <span class="k">pass</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos"> 253</span></a>
</span><span id="L-254"><a href="#L-254"><span class="linenos"> 254</span></a>
</span><span id="L-255"><a href="#L-255"><span class="linenos"> 255</span></a><span class="k">class</span> <span class="nc">Inventory</span><span class="p">(</span><span class="n">inventory</span><span class="o">.</span><span class="n">Inventory</span><span class="p">):</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos"> 256</span></a>
</span><span id="L-257"><a href="#L-257"><span class="linenos"> 257</span></a>    <span class="c1"># def __init__(self, *args, **kwargs):</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos"> 258</span></a>    <span class="c1">#     super().__init__(self, *args, **kwargs)</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos"> 259</span></a>
</span><span id="L-260"><a href="#L-260"><span class="linenos"> 260</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos"> 261</span></a>    <span class="k">def</span> <span class="nf">from_obspy_inventory_object</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">obspy_inventory</span><span class="p">,</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos"> 262</span></a>                                    <span class="n">xy_from_lat_lon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos"> 263</span></a>                                    <span class="n">input_projection</span><span class="o">=</span><span class="mi">4326</span><span class="p">,</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos"> 264</span></a>                                    <span class="n">output_projection</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos"> 265</span></a>
</span><span id="L-266"><a href="#L-266"><span class="linenos"> 266</span></a>        <span class="n">source</span> <span class="o">=</span> <span class="n">ns</span>  <span class="c1"># Network ID of the institution sending</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos"> 267</span></a>        <span class="c1"># the message.</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos"> 268</span></a>
</span><span id="L-269"><a href="#L-269"><span class="linenos"> 269</span></a>        <span class="n">inv</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">([],</span> <span class="n">ns</span><span class="p">)</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos"> 270</span></a>        <span class="n">inv</span><span class="o">.</span><span class="n">networks</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos"> 271</span></a>        <span class="k">for</span> <span class="n">network</span> <span class="ow">in</span> <span class="n">obspy_inventory</span><span class="o">.</span><span class="n">networks</span><span class="p">:</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos"> 272</span></a>            <span class="n">inv</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Network</span><span class="o">.</span><span class="n">from_obspy_network</span><span class="p">(</span><span class="n">network</span><span class="p">,</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos"> 273</span></a>                                                           <span class="n">xy_from_lat_lon</span><span class="o">=</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos"> 274</span></a>                                                           <span class="n">xy_from_lat_lon</span><span class="p">,</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos"> 275</span></a>                                                           <span class="n">input_projection</span><span class="o">=</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos"> 276</span></a>                                                           <span class="n">input_projection</span><span class="p">,</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos"> 277</span></a>                                                           <span class="n">output_projection</span><span class="o">=</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos"> 278</span></a>                                                           <span class="n">output_projection</span><span class="p">))</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos"> 279</span></a>
</span><span id="L-280"><a href="#L-280"><span class="linenos"> 280</span></a>        <span class="k">return</span> <span class="n">inv</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos"> 281</span></a>
</span><span id="L-282"><a href="#L-282"><span class="linenos"> 282</span></a>    <span class="nd">@staticmethod</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos"> 283</span></a>    <span class="k">def</span> <span class="nf">from_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos"> 284</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos"> 285</span></a><span class="sd">        Load an ObsPy inventory object from a URL.</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos"> 286</span></a>
</span><span id="L-287"><a href="#L-287"><span class="linenos"> 287</span></a><span class="sd">        :param url: The URL to download the inventory file from.</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos"> 288</span></a><span class="sd">        :type url: str</span>
</span><span id="L-289"><a href="#L-289"><span class="linenos"> 289</span></a><span class="sd">        :return: The loaded ObsPy inventory object.</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos"> 290</span></a><span class="sd">        :rtype: obspy.core.inventory.Inventory</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos"> 291</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos"> 292</span></a>        <span class="c1"># Download the inventory file from the URL</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos"> 293</span></a>
</span><span id="L-294"><a href="#L-294"><span class="linenos"> 294</span></a>        <span class="n">inventory_data</span> <span class="o">=</span> <span class="n">download_file_from_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos"> 295</span></a>
</span><span id="L-296"><a href="#L-296"><span class="linenos"> 296</span></a>        <span class="c1"># Save the inventory data to a temporary file</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos"> 297</span></a>        <span class="k">with</span> <span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="n">delete</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="k">as</span> <span class="n">temp_file</span><span class="p">:</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos"> 298</span></a>            <span class="n">temp_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">inventory_data</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos"> 299</span></a>            <span class="n">temp_file</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos"> 300</span></a>
</span><span id="L-301"><a href="#L-301"><span class="linenos"> 301</span></a>            <span class="c1"># Load the inventory from the temporary file</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos"> 302</span></a>            <span class="n">file_format</span> <span class="o">=</span> <span class="s1">&#39;STATIONXML&#39;</span>  <span class="c1"># Replace with the correct format</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos"> 303</span></a>            <span class="n">inventory</span> <span class="o">=</span> <span class="n">read_inventory</span><span class="p">(</span><span class="n">temp_file</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="n">file_format</span><span class="p">)</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos"> 304</span></a>
</span><span id="L-305"><a href="#L-305"><span class="linenos"> 305</span></a>        <span class="c1"># Remove the temporary file after reading the inventory</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos"> 306</span></a>        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">temp_file</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos"> 307</span></a>
</span><span id="L-308"><a href="#L-308"><span class="linenos"> 308</span></a>        <span class="k">return</span> <span class="n">inventory</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos"> 309</span></a>
</span><span id="L-310"><a href="#L-310"><span class="linenos"> 310</span></a>    <span class="nd">@staticmethod</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos"> 311</span></a>    <span class="k">def</span> <span class="nf">from_bytes</span><span class="p">(</span><span class="n">byte_string</span><span class="p">):</span>
</span><span id="L-312"><a href="#L-312"><span class="linenos"> 312</span></a>        <span class="n">file_in</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">byte_string</span><span class="p">)</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos"> 313</span></a>        <span class="n">file_in</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos"> 314</span></a>        <span class="n">file_in</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos"> 315</span></a>        <span class="k">return</span> <span class="n">read_inventory</span><span class="p">(</span><span class="n">file_in</span><span class="p">)</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos"> 316</span></a>
</span><span id="L-317"><a href="#L-317"><span class="linenos"> 317</span></a>    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path_or_file_obj</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;stationxml&#39;</span><span class="p">,</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos"> 318</span></a>              <span class="n">nsmap</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;mq&#39;</span><span class="p">:</span> <span class="n">namespace</span><span class="p">},</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos"> 319</span></a>        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">path_or_file_obj</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos"> 320</span></a>                             <span class="n">nsmap</span><span class="o">=</span><span class="n">nsmap</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos"> 321</span></a>
</span><span id="L-322"><a href="#L-322"><span class="linenos"> 322</span></a>    <span class="k">def</span> <span class="nf">get_station</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sta</span><span class="p">):</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos"> 323</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">sta</span><span class="p">)</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos"> 324</span></a>
</span><span id="L-325"><a href="#L-325"><span class="linenos"> 325</span></a>    <span class="k">def</span> <span class="nf">get_channel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sta</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cha</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos"> 326</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">sta</span><span class="p">,</span> <span class="n">cha_code</span><span class="o">=</span><span class="n">cha</span><span class="p">)</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos"> 327</span></a>
</span><span id="L-328"><a href="#L-328"><span class="linenos"> 328</span></a>    <span class="k">def</span> <span class="nf">select_instrument</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instruments</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos"> 329</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">instruments</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos"> 330</span></a>            <span class="k">for</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">instruments</span><span class="p">:</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos"> 331</span></a>                <span class="k">for</span> <span class="n">obj_site</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">instruments</span><span class="p">:</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos"> 332</span></a>                    <span class="k">if</span> <span class="n">location</span><span class="o">.</span><span class="n">code</span> <span class="o">==</span> <span class="n">obj_site</span><span class="o">.</span><span class="n">code</span><span class="p">:</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos"> 333</span></a>                        <span class="k">yield</span> <span class="n">obj_site</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos"> 334</span></a>
</span><span id="L-335"><a href="#L-335"><span class="linenos"> 335</span></a>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">instruments</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos"> 336</span></a>            <span class="n">location</span> <span class="o">=</span> <span class="n">instruments</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos"> 337</span></a>            <span class="k">for</span> <span class="n">obj_site</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">instruments</span><span class="p">:</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos"> 338</span></a>                <span class="k">if</span> <span class="n">location</span><span class="o">.</span><span class="n">code</span> <span class="o">==</span> <span class="n">obj_site</span><span class="o">.</span><span class="n">code</span><span class="p">:</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos"> 339</span></a>                    <span class="k">return</span> <span class="n">obj_site</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos"> 340</span></a>
</span><span id="L-341"><a href="#L-341"><span class="linenos"> 341</span></a>    <span class="k">def</span> <span class="nf">to_bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos"> 342</span></a>
</span><span id="L-343"><a href="#L-343"><span class="linenos"> 343</span></a>        <span class="n">file_out</span> <span class="o">=</span> <span class="n">BytesIO</span><span class="p">()</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos"> 344</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">file_out</span><span class="p">)</span>
</span><span id="L-345"><a href="#L-345"><span class="linenos"> 345</span></a>        <span class="k">return</span> <span class="n">file_out</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos"> 346</span></a>
</span><span id="L-347"><a href="#L-347"><span class="linenos"> 347</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos"> 348</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instruments</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">instruments</span><span class="p">)</span>
</span><span id="L-349"><a href="#L-349"><span class="linenos"> 349</span></a>
</span><span id="L-350"><a href="#L-350"><span class="linenos"> 350</span></a>    <span class="c1"># def write(self, filename):</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos"> 351</span></a>    <span class="c1">#     super().write(self, filename, format=&#39;stationxml&#39;, nsmap={ns: ns})</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos"> 352</span></a>
</span><span id="L-353"><a href="#L-353"><span class="linenos"> 353</span></a>    <span class="nd">@property</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos"> 354</span></a>    <span class="k">def</span> <span class="nf">instruments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos"> 355</span></a>        <span class="n">instruments</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos"> 356</span></a>        <span class="k">for</span> <span class="n">network</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="p">:</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos"> 357</span></a>            <span class="k">for</span> <span class="n">station</span> <span class="ow">in</span> <span class="n">network</span><span class="o">.</span><span class="n">stations</span><span class="p">:</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos"> 358</span></a>                <span class="k">for</span> <span class="n">instrument</span> <span class="ow">in</span> <span class="n">station</span><span class="o">.</span><span class="n">instruments</span><span class="p">:</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos"> 359</span></a>                    <span class="n">instruments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">instrument</span><span class="p">)</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos"> 360</span></a>
</span><span id="L-361"><a href="#L-361"><span class="linenos"> 361</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">instruments</span><span class="p">)</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos"> 362</span></a>
</span><span id="L-363"><a href="#L-363"><span class="linenos"> 363</span></a>
</span><span id="L-364"><a href="#L-364"><span class="linenos"> 364</span></a><span class="k">class</span> <span class="nc">Network</span><span class="p">(</span><span class="n">inventory</span><span class="o">.</span><span class="n">Network</span><span class="p">):</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos"> 365</span></a>    <span class="vm">__doc__</span> <span class="o">=</span> <span class="n">inventory</span><span class="o">.</span><span class="n">Network</span><span class="o">.</span><span class="vm">__doc__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;obspy&#39;</span><span class="p">,</span> <span class="n">ns</span><span class="p">)</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos"> 366</span></a>
</span><span id="L-367"><a href="#L-367"><span class="linenos"> 367</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos"> 368</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos"> 369</span></a>
</span><span id="L-370"><a href="#L-370"><span class="linenos"> 370</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos"> 371</span></a>    <span class="k">def</span> <span class="nf">from_obspy_network</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">obspy_network</span><span class="p">,</span> <span class="n">xy_from_lat_lon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos"> 372</span></a>                           <span class="n">input_projection</span><span class="o">=</span><span class="mi">4326</span><span class="p">,</span> <span class="n">output_projection</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos"> 373</span></a>
</span><span id="L-374"><a href="#L-374"><span class="linenos"> 374</span></a>        <span class="n">net</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">obspy_network</span><span class="o">.</span><span class="n">code</span><span class="p">)</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos"> 375</span></a>
</span><span id="L-376"><a href="#L-376"><span class="linenos"> 376</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">obspy_network</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos"> 377</span></a>            <span class="k">if</span> <span class="s1">&#39;stations&#39;</span> <span class="ow">in</span> <span class="n">key</span><span class="p">:</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos"> 378</span></a>                <span class="n">net</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos"> 379</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos"> 380</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos"> 381</span></a>                    <span class="n">net</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">obspy_network</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos"> 382</span></a>                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos"> 383</span></a>                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos"> 384</span></a>
</span><span id="L-385"><a href="#L-385"><span class="linenos"> 385</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">station</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">obspy_network</span><span class="o">.</span><span class="n">stations</span><span class="p">):</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos"> 386</span></a>            <span class="n">net</span><span class="o">.</span><span class="n">stations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Station</span><span class="o">.</span><span class="n">from_obspy_station</span><span class="p">(</span><span class="n">station</span><span class="p">,</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos"> 387</span></a>                                                           <span class="n">xy_from_lat_lon</span><span class="p">,</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos"> 388</span></a>                                                           <span class="n">input_projection</span><span class="o">=</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos"> 389</span></a>                                                           <span class="n">input_projection</span><span class="p">,</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos"> 390</span></a>                                                           <span class="n">output_projection</span><span class="o">=</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos"> 391</span></a>                                                           <span class="n">output_projection</span><span class="p">))</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos"> 392</span></a>
</span><span id="L-393"><a href="#L-393"><span class="linenos"> 393</span></a>        <span class="k">return</span> <span class="n">net</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos"> 394</span></a>
</span><span id="L-395"><a href="#L-395"><span class="linenos"> 395</span></a>    <span class="k">def</span> <span class="nf">get_grid_extent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">padding_fraction</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">ignore_stations</span><span class="o">=</span><span class="p">[],</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos"> 396</span></a>                        <span class="n">ignore_sites</span><span class="o">=</span><span class="p">[]):</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos"> 397</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos"> 398</span></a><span class="sd">        return the extents of a grid encompassing all sensors comprised in the</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos"> 399</span></a><span class="sd">        network</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos"> 400</span></a><span class="sd">        :param padding_fraction: buffer to add around the stations</span>
</span><span id="L-401"><a href="#L-401"><span class="linenos"> 401</span></a><span class="sd">        :param ignore_stations: list of stations to exclude from the</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos"> 402</span></a><span class="sd">        calculation of the grid extents</span>
</span><span id="L-403"><a href="#L-403"><span class="linenos"> 403</span></a><span class="sd">        :param ignore_sites: list of location to exclude from the calculation of</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos"> 404</span></a><span class="sd">        the grid extents</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos"> 405</span></a><span class="sd">        :type ignore_stations: list</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos"> 406</span></a><span class="sd">        :return: return the lower and upper corners</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos"> 407</span></a><span class="sd">        :rtype: dict</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos"> 408</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos"> 409</span></a>
</span><span id="L-410"><a href="#L-410"><span class="linenos"> 410</span></a>        <span class="n">xs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-411"><a href="#L-411"><span class="linenos"> 411</span></a>        <span class="n">ys</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos"> 412</span></a>        <span class="n">zs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos"> 413</span></a>
</span><span id="L-414"><a href="#L-414"><span class="linenos"> 414</span></a>        <span class="n">coordinates</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-415"><a href="#L-415"><span class="linenos"> 415</span></a>        <span class="k">for</span> <span class="n">station</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stations</span><span class="p">:</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos"> 416</span></a>            <span class="k">if</span> <span class="n">station</span><span class="o">.</span><span class="n">code</span> <span class="ow">in</span> <span class="n">ignore_stations</span><span class="p">:</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos"> 417</span></a>                <span class="k">continue</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos"> 418</span></a>            <span class="k">for</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">station</span><span class="o">.</span><span class="n">instruments</span><span class="p">:</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos"> 419</span></a>                <span class="k">if</span> <span class="n">location</span><span class="o">.</span><span class="n">code</span> <span class="ow">in</span> <span class="n">ignore_sites</span><span class="p">:</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos"> 420</span></a>                    <span class="k">continue</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos"> 421</span></a>                <span class="n">coordinates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">location</span><span class="o">.</span><span class="n">loc</span><span class="p">)</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos"> 422</span></a>
</span><span id="L-423"><a href="#L-423"><span class="linenos"> 423</span></a>        <span class="nb">min</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">coordinates</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos"> 424</span></a>        <span class="nb">max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">coordinates</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos"> 425</span></a>        <span class="c1"># center = min + (max - min) / 2</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos"> 426</span></a>        <span class="n">center</span> <span class="o">=</span> <span class="p">(</span><span class="nb">min</span> <span class="o">+</span> <span class="nb">max</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos"> 427</span></a>        <span class="n">d</span> <span class="o">=</span> <span class="p">(</span><span class="nb">max</span> <span class="o">-</span> <span class="nb">min</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">padding_fraction</span><span class="p">)</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos"> 428</span></a>
</span><span id="L-429"><a href="#L-429"><span class="linenos"> 429</span></a>        <span class="n">c1</span> <span class="o">=</span> <span class="n">center</span> <span class="o">-</span> <span class="n">d</span> <span class="o">/</span> <span class="mi">2</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos"> 430</span></a>        <span class="n">c2</span> <span class="o">=</span> <span class="n">center</span> <span class="o">+</span> <span class="n">d</span> <span class="o">/</span> <span class="mi">2</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos"> 431</span></a>
</span><span id="L-432"><a href="#L-432"><span class="linenos"> 432</span></a>        <span class="k">return</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos"> 433</span></a>
</span><span id="L-434"><a href="#L-434"><span class="linenos"> 434</span></a>    <span class="nd">@property</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos"> 435</span></a>    <span class="k">def</span> <span class="nf">site_coordinates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-436"><a href="#L-436"><span class="linenos"> 436</span></a>        <span class="n">coordinates</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-437"><a href="#L-437"><span class="linenos"> 437</span></a>        <span class="k">for</span> <span class="n">station</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stations</span><span class="p">:</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos"> 438</span></a>            <span class="n">coordinates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">station</span><span class="o">.</span><span class="n">site_coordinates</span><span class="p">)</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos"> 439</span></a>
</span><span id="L-440"><a href="#L-440"><span class="linenos"> 440</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">coordinates</span><span class="p">)</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos"> 441</span></a>
</span><span id="L-442"><a href="#L-442"><span class="linenos"> 442</span></a>    <span class="nd">@property</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos"> 443</span></a>    <span class="k">def</span> <span class="nf">station_coordinates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos"> 444</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">station</span><span class="o">.</span><span class="n">loc</span> <span class="k">for</span> <span class="n">station</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stations</span><span class="p">])</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos"> 445</span></a>
</span><span id="L-446"><a href="#L-446"><span class="linenos"> 446</span></a>    <span class="nd">@property</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos"> 447</span></a>    <span class="k">def</span> <span class="nf">instruments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos"> 448</span></a>        <span class="n">instruments</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos"> 449</span></a>        <span class="k">for</span> <span class="n">station</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stations</span><span class="p">:</span>
</span><span id="L-450"><a href="#L-450"><span class="linenos"> 450</span></a>            <span class="k">for</span> <span class="n">instrument</span> <span class="ow">in</span> <span class="n">station</span><span class="o">.</span><span class="n">instruments</span><span class="p">:</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos"> 451</span></a>                <span class="n">instruments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">instrument</span><span class="p">)</span>
</span><span id="L-452"><a href="#L-452"><span class="linenos"> 452</span></a>        <span class="k">return</span> <span class="n">instruments</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos"> 453</span></a>
</span><span id="L-454"><a href="#L-454"><span class="linenos"> 454</span></a>    <span class="nd">@property</span>
</span><span id="L-455"><a href="#L-455"><span class="linenos"> 455</span></a>    <span class="k">def</span> <span class="nf">instrument_coordinates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos"> 456</span></a>        <span class="n">coordinates</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-457"><a href="#L-457"><span class="linenos"> 457</span></a>        <span class="k">for</span> <span class="n">instrument</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">instruments</span><span class="p">:</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos"> 458</span></a>            <span class="n">coordinates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">instrument</span><span class="o">.</span><span class="n">loc</span><span class="p">)</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos"> 459</span></a>
</span><span id="L-460"><a href="#L-460"><span class="linenos"> 460</span></a>
</span><span id="L-461"><a href="#L-461"><span class="linenos"> 461</span></a><span class="k">class</span> <span class="nc">Station</span><span class="p">(</span><span class="n">inventory</span><span class="o">.</span><span class="n">Station</span><span class="p">):</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos"> 462</span></a>    <span class="vm">__doc__</span> <span class="o">=</span> <span class="n">inventory</span><span class="o">.</span><span class="n">Station</span><span class="o">.</span><span class="vm">__doc__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;obspy&#39;</span><span class="p">,</span> <span class="n">ns</span><span class="p">)</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos"> 463</span></a>
</span><span id="L-464"><a href="#L-464"><span class="linenos"> 464</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">coordinates</span><span class="p">:</span> <span class="n">Coordinates</span> <span class="o">=</span> <span class="n">Coordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos"> 465</span></a>
</span><span id="L-466"><a href="#L-466"><span class="linenos"> 466</span></a>        <span class="k">if</span> <span class="s1">&#39;extra&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>  <span class="c1"># hack for deepcopy to work</span>
</span><span id="L-467"><a href="#L-467"><span class="linenos"> 467</span></a>            <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos"> 468</span></a>
</span><span id="L-469"><a href="#L-469"><span class="linenos"> 469</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="n">AttribDict</span><span class="p">()</span>
</span><span id="L-470"><a href="#L-470"><span class="linenos"> 470</span></a>
</span><span id="L-471"><a href="#L-471"><span class="linenos"> 471</span></a>        <span class="k">if</span> <span class="s1">&#39;latitude&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos"> 472</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-473"><a href="#L-473"><span class="linenos"> 473</span></a>        <span class="k">if</span> <span class="s1">&#39;longitude&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-474"><a href="#L-474"><span class="linenos"> 474</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos"> 475</span></a>        <span class="k">if</span> <span class="s1">&#39;elevation&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos"> 476</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;elevation&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos"> 477</span></a>
</span><span id="L-478"><a href="#L-478"><span class="linenos"> 478</span></a>        <span class="c1"># initialize the extra key</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos"> 479</span></a>
</span><span id="L-480"><a href="#L-480"><span class="linenos"> 480</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;extra&#39;</span><span class="p">):</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos"> 481</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="n">AttribDict</span><span class="p">()</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos"> 482</span></a>
</span><span id="L-483"><a href="#L-483"><span class="linenos"> 483</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos"> 484</span></a>
</span><span id="L-485"><a href="#L-485"><span class="linenos"> 485</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">[</span><span class="s1">&#39;coordinates&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">coordinates</span><span class="o">.</span><span class="n">to_extra_key</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos"> 486</span></a>
</span><span id="L-487"><a href="#L-487"><span class="linenos"> 487</span></a>    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos"> 488</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;coordinates&#39;</span><span class="p">:</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos"> 489</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">to_extra_key</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos"> 490</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-491"><a href="#L-491"><span class="linenos"> 491</span></a>            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos"> 492</span></a>
</span><span id="L-493"><a href="#L-493"><span class="linenos"> 493</span></a>    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos"> 494</span></a>        <span class="k">if</span> <span class="n">item</span> <span class="o">==</span> <span class="s1">&#39;coordinates&#39;</span><span class="p">:</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos"> 495</span></a>            <span class="k">return</span> <span class="n">Coordinates</span><span class="o">.</span><span class="n">from_extra_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">[</span><span class="n">item</span><span class="p">])</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos"> 496</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos"> 497</span></a>            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__getattr__</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</span><span id="L-498"><a href="#L-498"><span class="linenos"> 498</span></a>
</span><span id="L-499"><a href="#L-499"><span class="linenos"> 499</span></a>    <span class="c1"># def __getitem__(self, key):</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos"> 500</span></a>    <span class="c1">#     if isinstance(key, int):</span>
</span><span id="L-501"><a href="#L-501"><span class="linenos"> 501</span></a>    <span class="c1">#         return self[key]</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos"> 502</span></a>    <span class="c1">#     else:</span>
</span><span id="L-503"><a href="#L-503"><span class="linenos"> 503</span></a>    <span class="c1">#         return self.__dict__[key]</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos"> 504</span></a>
</span><span id="L-505"><a href="#L-505"><span class="linenos"> 505</span></a>    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="L-506"><a href="#L-506"><span class="linenos"> 506</span></a>        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos"> 507</span></a>
</span><span id="L-508"><a href="#L-508"><span class="linenos"> 508</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos"> 509</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos"> 510</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-511"><a href="#L-511"><span class="linenos"> 511</span></a>
</span><span id="L-512"><a href="#L-512"><span class="linenos"> 512</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">coordinates</span>
</span><span id="L-513"><a href="#L-513"><span class="linenos"> 513</span></a>
</span><span id="L-514"><a href="#L-514"><span class="linenos"> 514</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos"> 515</span></a>    <span class="k">def</span> <span class="nf">from_obspy_station</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">obspy_station</span><span class="p">,</span> <span class="n">xy_from_lat_lon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos"> 516</span></a>                           <span class="n">output_projection</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="L-517"><a href="#L-517"><span class="linenos"> 517</span></a>                           <span class="n">input_projection</span><span class="o">=</span><span class="mi">4326</span><span class="p">):</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos"> 518</span></a>
</span><span id="L-519"><a href="#L-519"><span class="linenos"> 519</span></a>        <span class="c1">#     cls(*params) is same as calling Station(*params):</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos"> 520</span></a>
</span><span id="L-521"><a href="#L-521"><span class="linenos"> 521</span></a>        <span class="n">stn</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">obspy_station</span><span class="o">.</span><span class="n">code</span><span class="p">,</span> <span class="n">latitude</span><span class="o">=</span><span class="n">obspy_station</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos"> 522</span></a>                  <span class="n">longitude</span><span class="o">=</span><span class="n">obspy_station</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos"> 523</span></a>                  <span class="n">elevation</span><span class="o">=</span><span class="n">obspy_station</span><span class="o">.</span><span class="n">elevation</span><span class="p">)</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos"> 524</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">obspy_station</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos"> 525</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos"> 526</span></a>                <span class="n">stn</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">obspy_station</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="L-527"><a href="#L-527"><span class="linenos"> 527</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos"> 528</span></a>                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos"> 529</span></a>
</span><span id="L-530"><a href="#L-530"><span class="linenos"> 530</span></a>        <span class="k">if</span> <span class="n">xy_from_lat_lon</span><span class="p">:</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos"> 531</span></a>            <span class="k">if</span> <span class="p">(</span><span class="n">stn</span><span class="o">.</span><span class="n">latitude</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">stn</span><span class="o">.</span><span class="n">longitude</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos"> 532</span></a>
</span><span id="L-533"><a href="#L-533"><span class="linenos"> 533</span></a>                <span class="n">stn</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">stn</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">lon_lat_x_y</span><span class="p">(</span><span class="n">input_projection</span><span class="p">,</span> <span class="n">output_projection</span><span class="p">,</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos"> 534</span></a>                                           <span class="n">longitude</span><span class="o">=</span><span class="n">stn</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span>
</span><span id="L-535"><a href="#L-535"><span class="linenos"> 535</span></a>                                           <span class="n">latitude</span><span class="o">=</span><span class="n">stn</span><span class="o">.</span><span class="n">latitude</span><span class="p">)</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos"> 536</span></a>
</span><span id="L-537"><a href="#L-537"><span class="linenos"> 537</span></a>                <span class="n">stn</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">obspy_station</span><span class="o">.</span><span class="n">elevation</span>
</span><span id="L-538"><a href="#L-538"><span class="linenos"> 538</span></a>
</span><span id="L-539"><a href="#L-539"><span class="linenos"> 539</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-540"><a href="#L-540"><span class="linenos"> 540</span></a>                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Latitude or Longitude are not&#39;</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos"> 541</span></a>                               <span class="sa">f</span><span class="s1">&#39;defined for station </span><span class="si">{</span><span class="n">obspy_station</span><span class="o">.</span><span class="n">code</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
</span><span id="L-542"><a href="#L-542"><span class="linenos"> 542</span></a>
</span><span id="L-543"><a href="#L-543"><span class="linenos"> 543</span></a>                <span class="n">output_projection</span> <span class="o">=</span> <span class="mi">32725</span>
</span><span id="L-544"><a href="#L-544"><span class="linenos"> 544</span></a>
</span><span id="L-545"><a href="#L-545"><span class="linenos"> 545</span></a>        <span class="n">stn</span><span class="o">.</span><span class="n">channels</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos"> 546</span></a>
</span><span id="L-547"><a href="#L-547"><span class="linenos"> 547</span></a>        <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="n">obspy_station</span><span class="o">.</span><span class="n">channels</span><span class="p">:</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos"> 548</span></a>            <span class="n">stn</span><span class="o">.</span><span class="n">channels</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Channel</span><span class="o">.</span><span class="n">from_obspy_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos"> 549</span></a>                                                           <span class="n">xy_from_lat_lon</span><span class="o">=</span>
</span><span id="L-550"><a href="#L-550"><span class="linenos"> 550</span></a>                                                           <span class="n">xy_from_lat_lon</span><span class="p">,</span>
</span><span id="L-551"><a href="#L-551"><span class="linenos"> 551</span></a>                                                           <span class="n">input_projection</span><span class="o">=</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos"> 552</span></a>                                                           <span class="n">input_projection</span><span class="p">,</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos"> 553</span></a>                                                           <span class="n">output_projection</span><span class="o">=</span>
</span><span id="L-554"><a href="#L-554"><span class="linenos"> 554</span></a>                                                           <span class="n">output_projection</span><span class="p">))</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos"> 555</span></a>
</span><span id="L-556"><a href="#L-556"><span class="linenos"> 556</span></a>        <span class="k">return</span> <span class="n">stn</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos"> 557</span></a>
</span><span id="L-558"><a href="#L-558"><span class="linenos"> 558</span></a>    <span class="nd">@property</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos"> 559</span></a>    <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos"> 560</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">x</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos"> 561</span></a>
</span><span id="L-562"><a href="#L-562"><span class="linenos"> 562</span></a>    <span class="nd">@property</span>
</span><span id="L-563"><a href="#L-563"><span class="linenos"> 563</span></a>    <span class="k">def</span> <span class="nf">y</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos"> 564</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">y</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos"> 565</span></a>
</span><span id="L-566"><a href="#L-566"><span class="linenos"> 566</span></a>    <span class="nd">@property</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos"> 567</span></a>    <span class="k">def</span> <span class="nf">z</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-568"><a href="#L-568"><span class="linenos"> 568</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">z</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos"> 569</span></a>
</span><span id="L-570"><a href="#L-570"><span class="linenos"> 570</span></a>    <span class="nd">@property</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos"> 571</span></a>    <span class="k">def</span> <span class="nf">loc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos"> 572</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">:</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos"> 573</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="L-574"><a href="#L-574"><span class="linenos"> 574</span></a>                    <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos"> 575</span></a>                <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">])</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos"> 576</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos"> 577</span></a>                <span class="k">raise</span> <span class="ne">AttributeError</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos"> 578</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-579"><a href="#L-579"><span class="linenos"> 579</span></a>            <span class="k">raise</span> <span class="ne">AttributeError</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos"> 580</span></a>
</span><span id="L-581"><a href="#L-581"><span class="linenos"> 581</span></a>    <span class="nd">@property</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos"> 582</span></a>    <span class="k">def</span> <span class="nf">instruments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos"> 583</span></a>        <span class="n">location_codes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos"> 584</span></a>        <span class="n">channel_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos"> 585</span></a>        <span class="n">instruments</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-586"><a href="#L-586"><span class="linenos"> 586</span></a>        <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">:</span>
</span><span id="L-587"><a href="#L-587"><span class="linenos"> 587</span></a>            <span class="n">location_codes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">channel</span><span class="o">.</span><span class="n">location_code</span><span class="p">)</span>
</span><span id="L-588"><a href="#L-588"><span class="linenos"> 588</span></a>            <span class="n">channel_dict</span><span class="p">[</span><span class="n">channel</span><span class="o">.</span><span class="n">location_code</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-589"><a href="#L-589"><span class="linenos"> 589</span></a>
</span><span id="L-590"><a href="#L-590"><span class="linenos"> 590</span></a>        <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">:</span>
</span><span id="L-591"><a href="#L-591"><span class="linenos"> 591</span></a>            <span class="n">channel_dict</span><span class="p">[</span><span class="n">channel</span><span class="o">.</span><span class="n">location_code</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
</span><span id="L-592"><a href="#L-592"><span class="linenos"> 592</span></a>
</span><span id="L-593"><a href="#L-593"><span class="linenos"> 593</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">channel_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-594"><a href="#L-594"><span class="linenos"> 594</span></a>            <span class="n">instruments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Instrument</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]))</span>
</span><span id="L-595"><a href="#L-595"><span class="linenos"> 595</span></a>
</span><span id="L-596"><a href="#L-596"><span class="linenos"> 596</span></a>        <span class="k">return</span> <span class="n">instruments</span>
</span><span id="L-597"><a href="#L-597"><span class="linenos"> 597</span></a>
</span><span id="L-598"><a href="#L-598"><span class="linenos"> 598</span></a>    <span class="nd">@property</span>
</span><span id="L-599"><a href="#L-599"><span class="linenos"> 599</span></a>    <span class="k">def</span> <span class="nf">instrument_coordinates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-600"><a href="#L-600"><span class="linenos"> 600</span></a>        <span class="n">coordinates</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-601"><a href="#L-601"><span class="linenos"> 601</span></a>        <span class="k">for</span> <span class="n">instrument</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">instruments</span><span class="p">:</span>
</span><span id="L-602"><a href="#L-602"><span class="linenos"> 602</span></a>            <span class="n">coordinates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">instrument</span><span class="o">.</span><span class="n">loc</span><span class="p">)</span>
</span><span id="L-603"><a href="#L-603"><span class="linenos"> 603</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">coordinates</span><span class="p">)</span>
</span><span id="L-604"><a href="#L-604"><span class="linenos"> 604</span></a>
</span><span id="L-605"><a href="#L-605"><span class="linenos"> 605</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-606"><a href="#L-606"><span class="linenos"> 606</span></a>        <span class="n">contents</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_contents</span><span class="p">()</span>
</span><span id="L-607"><a href="#L-607"><span class="linenos"> 607</span></a>
</span><span id="L-608"><a href="#L-608"><span class="linenos"> 608</span></a>        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span>
</span><span id="L-609"><a href="#L-609"><span class="linenos"> 609</span></a>        <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span>
</span><span id="L-610"><a href="#L-610"><span class="linenos"> 610</span></a>        <span class="n">z</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span>
</span><span id="L-611"><a href="#L-611"><span class="linenos"> 611</span></a>
</span><span id="L-612"><a href="#L-612"><span class="linenos"> 612</span></a>        <span class="n">location_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instruments</span><span class="p">)</span>
</span><span id="L-613"><a href="#L-613"><span class="linenos"> 613</span></a>        <span class="n">channel_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">)</span>
</span><span id="L-614"><a href="#L-614"><span class="linenos"> 614</span></a>
</span><span id="L-615"><a href="#L-615"><span class="linenos"> 615</span></a>        <span class="n">format_dict</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-616"><a href="#L-616"><span class="linenos"> 616</span></a>            <span class="s1">&#39;code&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">code</span> <span class="ow">or</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="L-617"><a href="#L-617"><span class="linenos"> 617</span></a>            <span class="s1">&#39;location_count&#39;</span><span class="p">:</span> <span class="n">location_count</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="L-618"><a href="#L-618"><span class="linenos"> 618</span></a>            <span class="s1">&#39;channel_count&#39;</span><span class="p">:</span> <span class="n">channel_count</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="L-619"><a href="#L-619"><span class="linenos"> 619</span></a>            <span class="s1">&#39;start_date&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_date</span> <span class="ow">or</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="L-620"><a href="#L-620"><span class="linenos"> 620</span></a>            <span class="s1">&#39;end_date&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_date</span> <span class="ow">or</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="L-621"><a href="#L-621"><span class="linenos"> 621</span></a>            <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="L-622"><a href="#L-622"><span class="linenos"> 622</span></a>            <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">y</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">y</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="L-623"><a href="#L-623"><span class="linenos"> 623</span></a>            <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">z</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">z</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="L-624"><a href="#L-624"><span class="linenos"> 624</span></a>        <span class="p">}</span>
</span><span id="L-625"><a href="#L-625"><span class="linenos"> 625</span></a>
</span><span id="L-626"><a href="#L-626"><span class="linenos"> 626</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Station Code: </span><span class="si">{code}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="L-627"><a href="#L-627"><span class="linenos"> 627</span></a>               <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Location Count: </span><span class="si">{location_count}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="L-628"><a href="#L-628"><span class="linenos"> 628</span></a>               <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Channel Count: </span><span class="si">{channel_count}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="L-629"><a href="#L-629"><span class="linenos"> 629</span></a>               <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Date range: </span><span class="si">{start_date}</span><span class="s2"> - </span><span class="si">{end_date}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="L-630"><a href="#L-630"><span class="linenos"> 630</span></a>               <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">x: </span><span class="si">{x}</span><span class="s2">, y: </span><span class="si">{y}</span><span class="s2">, z: </span><span class="si">{z}</span><span class="s2"> m</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">format_dict</span><span class="p">)</span>
</span><span id="L-631"><a href="#L-631"><span class="linenos"> 631</span></a>
</span><span id="L-632"><a href="#L-632"><span class="linenos"> 632</span></a>        <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;extra&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="L-633"><a href="#L-633"><span class="linenos"> 633</span></a>            <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span>
</span><span id="L-634"><a href="#L-634"><span class="linenos"> 634</span></a>                                                          <span class="kc">None</span><span class="p">):</span>
</span><span id="L-635"><a href="#L-635"><span class="linenos"> 635</span></a>                <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span>
</span><span id="L-636"><a href="#L-636"><span class="linenos"> 636</span></a>                <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span>
</span><span id="L-637"><a href="#L-637"><span class="linenos"> 637</span></a>                <span class="n">z</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span>
</span><span id="L-638"><a href="#L-638"><span class="linenos"> 638</span></a>                <span class="n">ret</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Station </span><span class="si">{station_name}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="L-639"><a href="#L-639"><span class="linenos"> 639</span></a>                       <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Station Code: </span><span class="si">{station_code}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="L-640"><a href="#L-640"><span class="linenos"> 640</span></a>                       <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Location Count: </span><span class="si">{site_count}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="L-641"><a href="#L-641"><span class="linenos"> 641</span></a>                       <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Channel Count: </span><span class="si">{selected}</span><span class="s2">/</span><span class="si">{total}</span><span class="s2">&quot;</span>
</span><span id="L-642"><a href="#L-642"><span class="linenos"> 642</span></a>                       <span class="s2">&quot; (Selected/Total)</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="L-643"><a href="#L-643"><span class="linenos"> 643</span></a>                       <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Date range: </span><span class="si">{start_date}</span><span class="s2"> - </span><span class="si">{end_date}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="L-644"><a href="#L-644"><span class="linenos"> 644</span></a>                       <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Easting [x]: </span><span class="si">{x:.0f}</span><span class="s2"> m, Northing [y] m: </span><span class="si">{y:.0f}</span><span class="s2">, &quot;</span>
</span><span id="L-645"><a href="#L-645"><span class="linenos"> 645</span></a>                       <span class="s2">&quot;Elevation [z]: </span><span class="si">{z:.0f}</span><span class="s2"> m</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-646"><a href="#L-646"><span class="linenos"> 646</span></a>
</span><span id="L-647"><a href="#L-647"><span class="linenos"> 647</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="n">ret</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
</span><span id="L-648"><a href="#L-648"><span class="linenos"> 648</span></a>            <span class="n">station_name</span><span class="o">=</span><span class="n">contents</span><span class="p">[</span><span class="s2">&quot;stations&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
</span><span id="L-649"><a href="#L-649"><span class="linenos"> 649</span></a>            <span class="n">station_code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">code</span><span class="p">,</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos"> 650</span></a>            <span class="n">site_count</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instruments</span><span class="p">),</span>
</span><span id="L-651"><a href="#L-651"><span class="linenos"> 651</span></a>            <span class="n">selected</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_number_of_channels</span><span class="p">,</span>
</span><span id="L-652"><a href="#L-652"><span class="linenos"> 652</span></a>            <span class="n">total</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">total_number_of_channels</span><span class="p">,</span>
</span><span id="L-653"><a href="#L-653"><span class="linenos"> 653</span></a>            <span class="n">start_date</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start_date</span><span class="p">),</span>
</span><span id="L-654"><a href="#L-654"><span class="linenos"> 654</span></a>            <span class="n">end_date</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">end_date</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_date</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="L-655"><a href="#L-655"><span class="linenos"> 655</span></a>            <span class="n">restricted</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">restricted_status</span><span class="p">,</span>
</span><span id="L-656"><a href="#L-656"><span class="linenos"> 656</span></a>            <span class="n">alternate_code</span><span class="o">=</span><span class="s2">&quot;Alternate Code: </span><span class="si">%s</span><span class="s2"> &quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">alternate_code</span> <span class="k">if</span>
</span><span id="L-657"><a href="#L-657"><span class="linenos"> 657</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">alternate_code</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="L-658"><a href="#L-658"><span class="linenos"> 658</span></a>            <span class="n">historical_code</span><span class="o">=</span><span class="s2">&quot;Historical Code: </span><span class="si">%s</span><span class="s2"> &quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">historical_code</span> <span class="k">if</span>
</span><span id="L-659"><a href="#L-659"><span class="linenos"> 659</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">historical_code</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="L-660"><a href="#L-660"><span class="linenos"> 660</span></a>            <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="n">z</span><span class="p">)</span>
</span><span id="L-661"><a href="#L-661"><span class="linenos"> 661</span></a>        <span class="n">ret</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Available Channels:</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="L-662"><a href="#L-662"><span class="linenos"> 662</span></a>        <span class="n">ret</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">_textwrap</span><span class="p">(</span>
</span><span id="L-663"><a href="#L-663"><span class="linenos"> 663</span></a>            <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">_unified_content_strings</span><span class="p">(</span><span class="n">contents</span><span class="p">[</span><span class="s2">&quot;channels&quot;</span><span class="p">])),</span>
</span><span id="L-664"><a href="#L-664"><span class="linenos"> 664</span></a>            <span class="n">initial_indent</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">subsequent_indent</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t\t</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="L-665"><a href="#L-665"><span class="linenos"> 665</span></a>            <span class="n">expand_tabs</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</span><span id="L-666"><a href="#L-666"><span class="linenos"> 666</span></a>
</span><span id="L-667"><a href="#L-667"><span class="linenos"> 667</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span><span id="L-668"><a href="#L-668"><span class="linenos"> 668</span></a>
</span><span id="L-669"><a href="#L-669"><span class="linenos"> 669</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-670"><a href="#L-670"><span class="linenos"> 670</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
</span><span id="L-671"><a href="#L-671"><span class="linenos"> 671</span></a>
</span><span id="L-672"><a href="#L-672"><span class="linenos"> 672</span></a>
</span><span id="L-673"><a href="#L-673"><span class="linenos"> 673</span></a><span class="k">class</span> <span class="nc">Instrument</span><span class="p">:</span>
</span><span id="L-674"><a href="#L-674"><span class="linenos"> 674</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-675"><a href="#L-675"><span class="linenos"> 675</span></a><span class="sd">    This class is a container for grouping the channels into coherent entity</span>
</span><span id="L-676"><a href="#L-676"><span class="linenos"> 676</span></a><span class="sd">    that are Instruments. From the uquake package perspective a station is</span>
</span><span id="L-677"><a href="#L-677"><span class="linenos"> 677</span></a><span class="sd">    the physical location where data acquisition instruments are grouped.</span>
</span><span id="L-678"><a href="#L-678"><span class="linenos"> 678</span></a><span class="sd">    One or multiple instruments can be connected to a station.</span>
</span><span id="L-679"><a href="#L-679"><span class="linenos"> 679</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-680"><a href="#L-680"><span class="linenos"> 680</span></a>
</span><span id="L-681"><a href="#L-681"><span class="linenos"> 681</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">station</span><span class="p">,</span> <span class="n">channels</span><span class="p">):</span>
</span><span id="L-682"><a href="#L-682"><span class="linenos"> 682</span></a>
</span><span id="L-683"><a href="#L-683"><span class="linenos"> 683</span></a>        <span class="n">location_codes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-684"><a href="#L-684"><span class="linenos"> 684</span></a>        <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="n">channels</span><span class="p">:</span>
</span><span id="L-685"><a href="#L-685"><span class="linenos"> 685</span></a>            <span class="n">location_codes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">channel</span><span class="o">.</span><span class="n">location_code</span><span class="p">)</span>
</span><span id="L-686"><a href="#L-686"><span class="linenos"> 686</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">location_codes</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-687"><a href="#L-687"><span class="linenos"> 687</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;the channels in the channel list should have a unique &#39;</span>
</span><span id="L-688"><a href="#L-688"><span class="linenos"> 688</span></a>                                 <span class="s1">&#39;location code&#39;</span><span class="p">)</span>
</span><span id="L-689"><a href="#L-689"><span class="linenos"> 689</span></a>
</span><span id="L-690"><a href="#L-690"><span class="linenos"> 690</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">location_code</span> <span class="o">=</span> <span class="n">location_codes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-691"><a href="#L-691"><span class="linenos"> 691</span></a>
</span><span id="L-692"><a href="#L-692"><span class="linenos"> 692</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">location_codes</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-693"><a href="#L-693"><span class="linenos"> 693</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;the channels in the channel list should have a&#39;</span>
</span><span id="L-694"><a href="#L-694"><span class="linenos"> 694</span></a>                         <span class="s1">&#39;unique location code&#39;</span><span class="p">)</span>
</span><span id="L-695"><a href="#L-695"><span class="linenos"> 695</span></a>            <span class="k">raise</span> <span class="ne">KeyError</span>
</span><span id="L-696"><a href="#L-696"><span class="linenos"> 696</span></a>
</span><span id="L-697"><a href="#L-697"><span class="linenos"> 697</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">station</span> <span class="o">=</span> <span class="n">station</span>
</span><span id="L-698"><a href="#L-698"><span class="linenos"> 698</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">channels</span> <span class="o">=</span> <span class="n">channels</span>
</span><span id="L-699"><a href="#L-699"><span class="linenos"> 699</span></a>
</span><span id="L-700"><a href="#L-700"><span class="linenos"> 700</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-701"><a href="#L-701"><span class="linenos"> 701</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">Location </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">location_code</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span> \
</span><span id="L-702"><a href="#L-702"><span class="linenos"> 702</span></a>              <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">x: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="si">:</span><span class="s1">.0f</span><span class="si">}</span><span class="s1"> m, y: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="si">:</span><span class="s1">.0f</span><span class="si">}</span><span class="s1"> m z: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="si">:</span><span class="s1">0.0f</span><span class="si">}</span><span class="s1"> m</span><span class="se">\n</span><span class="s1">&#39;</span> \
</span><span id="L-703"><a href="#L-703"><span class="linenos"> 703</span></a>              <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">Channel Count: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="L-704"><a href="#L-704"><span class="linenos"> 704</span></a>
</span><span id="L-705"><a href="#L-705"><span class="linenos"> 705</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span><span id="L-706"><a href="#L-706"><span class="linenos"> 706</span></a>
</span><span id="L-707"><a href="#L-707"><span class="linenos"> 707</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-708"><a href="#L-708"><span class="linenos"> 708</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">instrument_code</span>
</span><span id="L-709"><a href="#L-709"><span class="linenos"> 709</span></a>
</span><span id="L-710"><a href="#L-710"><span class="linenos"> 710</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-711"><a href="#L-711"><span class="linenos"> 711</span></a>        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="L-712"><a href="#L-712"><span class="linenos"> 712</span></a>
</span><span id="L-713"><a href="#L-713"><span class="linenos"> 713</span></a>    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-714"><a href="#L-714"><span class="linenos"> 714</span></a>        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">str</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="L-715"><a href="#L-715"><span class="linenos"> 715</span></a>
</span><span id="L-716"><a href="#L-716"><span class="linenos"> 716</span></a>    <span class="k">def</span> <span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-717"><a href="#L-717"><span class="linenos"> 717</span></a>        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">str</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="L-718"><a href="#L-718"><span class="linenos"> 718</span></a>
</span><span id="L-719"><a href="#L-719"><span class="linenos"> 719</span></a>    <span class="nd">@property</span>
</span><span id="L-720"><a href="#L-720"><span class="linenos"> 720</span></a>    <span class="k">def</span> <span class="nf">loc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-721"><a href="#L-721"><span class="linenos"> 721</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">])</span>
</span><span id="L-722"><a href="#L-722"><span class="linenos"> 722</span></a>
</span><span id="L-723"><a href="#L-723"><span class="linenos"> 723</span></a>    <span class="nd">@property</span>
</span><span id="L-724"><a href="#L-724"><span class="linenos"> 724</span></a>    <span class="k">def</span> <span class="nf">alternate_code</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-725"><a href="#L-725"><span class="linenos"> 725</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">alternative_code</span>
</span><span id="L-726"><a href="#L-726"><span class="linenos"> 726</span></a>
</span><span id="L-727"><a href="#L-727"><span class="linenos"> 727</span></a>    <span class="nd">@property</span>
</span><span id="L-728"><a href="#L-728"><span class="linenos"> 728</span></a>    <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-729"><a href="#L-729"><span class="linenos"> 729</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">x</span>
</span><span id="L-730"><a href="#L-730"><span class="linenos"> 730</span></a>
</span><span id="L-731"><a href="#L-731"><span class="linenos"> 731</span></a>    <span class="nd">@property</span>
</span><span id="L-732"><a href="#L-732"><span class="linenos"> 732</span></a>    <span class="k">def</span> <span class="nf">y</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-733"><a href="#L-733"><span class="linenos"> 733</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">y</span>
</span><span id="L-734"><a href="#L-734"><span class="linenos"> 734</span></a>
</span><span id="L-735"><a href="#L-735"><span class="linenos"> 735</span></a>    <span class="nd">@property</span>
</span><span id="L-736"><a href="#L-736"><span class="linenos"> 736</span></a>    <span class="k">def</span> <span class="nf">z</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-737"><a href="#L-737"><span class="linenos"> 737</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">z</span>
</span><span id="L-738"><a href="#L-738"><span class="linenos"> 738</span></a>
</span><span id="L-739"><a href="#L-739"><span class="linenos"> 739</span></a>    <span class="nd">@property</span>
</span><span id="L-740"><a href="#L-740"><span class="linenos"> 740</span></a>    <span class="k">def</span> <span class="nf">coordinates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-741"><a href="#L-741"><span class="linenos"> 741</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">coordinates</span>
</span><span id="L-742"><a href="#L-742"><span class="linenos"> 742</span></a>
</span><span id="L-743"><a href="#L-743"><span class="linenos"> 743</span></a>    <span class="nd">@property</span>
</span><span id="L-744"><a href="#L-744"><span class="linenos"> 744</span></a>    <span class="k">def</span> <span class="nf">station_code</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-745"><a href="#L-745"><span class="linenos"> 745</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">station</span><span class="o">.</span><span class="n">code</span>
</span><span id="L-746"><a href="#L-746"><span class="linenos"> 746</span></a>
</span><span id="L-747"><a href="#L-747"><span class="linenos"> 747</span></a>    <span class="nd">@property</span>
</span><span id="L-748"><a href="#L-748"><span class="linenos"> 748</span></a>    <span class="k">def</span> <span class="nf">instrument_code</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-749"><a href="#L-749"><span class="linenos"> 749</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">code</span>
</span><span id="L-750"><a href="#L-750"><span class="linenos"> 750</span></a>
</span><span id="L-751"><a href="#L-751"><span class="linenos"> 751</span></a>    <span class="nd">@property</span>
</span><span id="L-752"><a href="#L-752"><span class="linenos"> 752</span></a>    <span class="k">def</span> <span class="nf">simplified_code</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-753"><a href="#L-753"><span class="linenos"> 753</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">station_code</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">location_code</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="L-754"><a href="#L-754"><span class="linenos"> 754</span></a>
</span><span id="L-755"><a href="#L-755"><span class="linenos"> 755</span></a>    <span class="nd">@property</span>
</span><span id="L-756"><a href="#L-756"><span class="linenos"> 756</span></a>    <span class="k">def</span> <span class="nf">code</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-757"><a href="#L-757"><span class="linenos"> 757</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_instrument_code</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">station_code</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">location_code</span><span class="p">)</span>
</span><span id="L-758"><a href="#L-758"><span class="linenos"> 758</span></a>
</span><span id="L-759"><a href="#L-759"><span class="linenos"> 759</span></a>    <span class="nd">@property</span>
</span><span id="L-760"><a href="#L-760"><span class="linenos"> 760</span></a>    <span class="k">def</span> <span class="nf">sensor_type_code</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-761"><a href="#L-761"><span class="linenos"> 761</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">code</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="L-762"><a href="#L-762"><span class="linenos"> 762</span></a>
</span><span id="L-763"><a href="#L-763"><span class="linenos"> 763</span></a>    <span class="nd">@staticmethod</span>
</span><span id="L-764"><a href="#L-764"><span class="linenos"> 764</span></a>    <span class="k">def</span> <span class="nf">make_instrument_code</span><span class="p">(</span><span class="n">station_code</span><span class="p">,</span> <span class="n">location_code</span><span class="p">):</span>
</span><span id="L-765"><a href="#L-765"><span class="linenos"> 765</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">station_code</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">location_code</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="L-766"><a href="#L-766"><span class="linenos"> 766</span></a>
</span><span id="L-767"><a href="#L-767"><span class="linenos"> 767</span></a>
</span><span id="L-768"><a href="#L-768"><span class="linenos"> 768</span></a><span class="k">class</span> <span class="nc">Channel</span><span class="p">(</span><span class="n">inventory</span><span class="o">.</span><span class="n">Channel</span><span class="p">):</span>
</span><span id="L-769"><a href="#L-769"><span class="linenos"> 769</span></a>    <span class="n">defaults</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-770"><a href="#L-770"><span class="linenos"> 770</span></a>
</span><span id="L-771"><a href="#L-771"><span class="linenos"> 771</span></a>    <span class="vm">__doc__</span> <span class="o">=</span> <span class="n">inventory</span><span class="o">.</span><span class="n">Channel</span><span class="o">.</span><span class="vm">__doc__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;obspy&#39;</span><span class="p">,</span> <span class="n">ns</span><span class="p">)</span>
</span><span id="L-772"><a href="#L-772"><span class="linenos"> 772</span></a>
</span><span id="L-773"><a href="#L-773"><span class="linenos"> 773</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code</span><span class="p">,</span> <span class="n">location_code</span><span class="p">,</span> <span class="n">active</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">oriented</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-774"><a href="#L-774"><span class="linenos"> 774</span></a>                 <span class="n">coordinates</span><span class="p">:</span> <span class="n">Coordinates</span> <span class="o">=</span> <span class="n">Coordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
</span><span id="L-775"><a href="#L-775"><span class="linenos"> 775</span></a>                 <span class="n">orientation_vector</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-776"><a href="#L-776"><span class="linenos"> 776</span></a>
</span><span id="L-777"><a href="#L-777"><span class="linenos"> 777</span></a>        <span class="n">latitude</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;latitude&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="s1">&#39;latitude&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="L-778"><a href="#L-778"><span class="linenos"> 778</span></a>        <span class="n">longitude</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;longitude&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="s1">&#39;longitude&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="L-779"><a href="#L-779"><span class="linenos"> 779</span></a>        <span class="n">elevation</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;elevation&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="s1">&#39;elevation&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="L-780"><a href="#L-780"><span class="linenos"> 780</span></a>        <span class="n">depth</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;depth&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="s1">&#39;depth&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="L-781"><a href="#L-781"><span class="linenos"> 781</span></a>
</span><span id="L-782"><a href="#L-782"><span class="linenos"> 782</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">location_code</span><span class="p">,</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">,</span>
</span><span id="L-783"><a href="#L-783"><span class="linenos"> 783</span></a>                                      <span class="n">elevation</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-784"><a href="#L-784"><span class="linenos"> 784</span></a>
</span><span id="L-785"><a href="#L-785"><span class="linenos"> 785</span></a>        <span class="k">if</span> <span class="s1">&#39;extra&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>  <span class="c1"># hack for deepcopy to work</span>
</span><span id="L-786"><a href="#L-786"><span class="linenos"> 786</span></a>            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-787"><a href="#L-787"><span class="linenos"> 787</span></a>
</span><span id="L-788"><a href="#L-788"><span class="linenos"> 788</span></a>        <span class="k">if</span> <span class="n">orientation_vector</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-789"><a href="#L-789"><span class="linenos"> 789</span></a>            <span class="c1"># making the orientation vector (cosine vector) unitary</span>
</span><span id="L-790"><a href="#L-790"><span class="linenos"> 790</span></a>            <span class="n">orientation_vector</span> <span class="o">=</span> <span class="n">orientation_vector</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">orientation_vector</span><span class="p">)</span>
</span><span id="L-791"><a href="#L-791"><span class="linenos"> 791</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_orientation</span><span class="p">(</span><span class="n">orientation_vector</span><span class="p">)</span>
</span><span id="L-792"><a href="#L-792"><span class="linenos"> 792</span></a>
</span><span id="L-793"><a href="#L-793"><span class="linenos"> 793</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">[</span><span class="s1">&#39;coordinates&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">coordinates</span><span class="o">.</span><span class="n">to_extra_key</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
</span><span id="L-794"><a href="#L-794"><span class="linenos"> 794</span></a>        <span class="n">set_extra</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">,</span> <span class="n">active</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
</span><span id="L-795"><a href="#L-795"><span class="linenos"> 795</span></a>        <span class="n">set_extra</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;oriented&#39;</span><span class="p">,</span> <span class="n">oriented</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
</span><span id="L-796"><a href="#L-796"><span class="linenos"> 796</span></a>
</span><span id="L-797"><a href="#L-797"><span class="linenos"> 797</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-798"><a href="#L-798"><span class="linenos"> 798</span></a>    <span class="k">def</span> <span class="nf">from_obspy_channel</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">obspy_channel</span><span class="p">,</span> <span class="n">xy_from_lat_lon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="L-799"><a href="#L-799"><span class="linenos"> 799</span></a>                           <span class="n">output_projection</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">input_projection</span><span class="o">=</span><span class="mi">4326</span><span class="p">):</span>
</span><span id="L-800"><a href="#L-800"><span class="linenos"> 800</span></a>
</span><span id="L-801"><a href="#L-801"><span class="linenos"> 801</span></a>        <span class="n">cha</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">obspy_channel</span><span class="o">.</span><span class="n">code</span><span class="p">,</span> <span class="n">obspy_channel</span><span class="o">.</span><span class="n">location_code</span><span class="p">,</span>
</span><span id="L-802"><a href="#L-802"><span class="linenos"> 802</span></a>                  <span class="n">latitude</span><span class="o">=</span><span class="n">obspy_channel</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span>
</span><span id="L-803"><a href="#L-803"><span class="linenos"> 803</span></a>                  <span class="n">longitude</span><span class="o">=</span><span class="n">obspy_channel</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span>
</span><span id="L-804"><a href="#L-804"><span class="linenos"> 804</span></a>                  <span class="n">elevation</span><span class="o">=</span><span class="n">obspy_channel</span><span class="o">.</span><span class="n">elevation</span><span class="p">,</span>
</span><span id="L-805"><a href="#L-805"><span class="linenos"> 805</span></a>                  <span class="n">depth</span><span class="o">=</span><span class="n">obspy_channel</span><span class="o">.</span><span class="n">depth</span><span class="p">)</span>
</span><span id="L-806"><a href="#L-806"><span class="linenos"> 806</span></a>
</span><span id="L-807"><a href="#L-807"><span class="linenos"> 807</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obspy_channel</span><span class="p">,</span> <span class="s1">&#39;extra&#39;</span><span class="p">):</span>
</span><span id="L-808"><a href="#L-808"><span class="linenos"> 808</span></a>            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">cha</span><span class="o">.</span><span class="n">extra</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-809"><a href="#L-809"><span class="linenos"> 809</span></a>                <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">obspy_channel</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-810"><a href="#L-810"><span class="linenos"> 810</span></a>                    <span class="n">cha</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-811"><a href="#L-811"><span class="linenos"> 811</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-812"><a href="#L-812"><span class="linenos"> 812</span></a>                    <span class="n">cha</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> \
</span><span id="L-813"><a href="#L-813"><span class="linenos"> 813</span></a>                        <span class="n">obspy_channel</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">][</span><span class="n">key</span><span class="p">]</span>
</span><span id="L-814"><a href="#L-814"><span class="linenos"> 814</span></a>
</span><span id="L-815"><a href="#L-815"><span class="linenos"> 815</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">obspy_channel</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-816"><a href="#L-816"><span class="linenos"> 816</span></a>            <span class="n">cha</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">obspy_channel</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="L-817"><a href="#L-817"><span class="linenos"> 817</span></a>
</span><span id="L-818"><a href="#L-818"><span class="linenos"> 818</span></a>        <span class="k">if</span> <span class="n">xy_from_lat_lon</span><span class="p">:</span>
</span><span id="L-819"><a href="#L-819"><span class="linenos"> 819</span></a>            <span class="k">if</span> <span class="p">(</span><span class="n">cha</span><span class="o">.</span><span class="n">latitude</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">cha</span><span class="o">.</span><span class="n">longitude</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="L-820"><a href="#L-820"><span class="linenos"> 820</span></a>
</span><span id="L-821"><a href="#L-821"><span class="linenos"> 821</span></a>                <span class="n">cha</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">cha</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">lon_lat_x_y</span><span class="p">(</span><span class="n">input_projection</span><span class="p">,</span> <span class="n">output_projection</span><span class="p">,</span>
</span><span id="L-822"><a href="#L-822"><span class="linenos"> 822</span></a>                                           <span class="n">longitude</span><span class="o">=</span><span class="n">cha</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span>
</span><span id="L-823"><a href="#L-823"><span class="linenos"> 823</span></a>                                           <span class="n">latitude</span><span class="o">=</span><span class="n">cha</span><span class="o">.</span><span class="n">latitude</span><span class="p">)</span>
</span><span id="L-824"><a href="#L-824"><span class="linenos"> 824</span></a>
</span><span id="L-825"><a href="#L-825"><span class="linenos"> 825</span></a>                <span class="n">cha</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">cha</span><span class="o">.</span><span class="n">elevation</span>
</span><span id="L-826"><a href="#L-826"><span class="linenos"> 826</span></a>
</span><span id="L-827"><a href="#L-827"><span class="linenos"> 827</span></a>        <span class="k">return</span> <span class="n">cha</span>
</span><span id="L-828"><a href="#L-828"><span class="linenos"> 828</span></a>
</span><span id="L-829"><a href="#L-829"><span class="linenos"> 829</span></a>    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span><span id="L-830"><a href="#L-830"><span class="linenos"> 830</span></a>        <span class="k">if</span> <span class="n">item</span> <span class="o">==</span> <span class="s1">&#39;coordinates&#39;</span><span class="p">:</span>
</span><span id="L-831"><a href="#L-831"><span class="linenos"> 831</span></a>            <span class="k">return</span> <span class="n">Coordinates</span><span class="o">.</span><span class="n">from_extra_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">[</span><span class="s1">&#39;coordinates&#39;</span><span class="p">])</span>
</span><span id="L-832"><a href="#L-832"><span class="linenos"> 832</span></a>        <span class="k">elif</span> <span class="n">item</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">,</span> <span class="s1">&#39;oriented&#39;</span><span class="p">):</span>
</span><span id="L-833"><a href="#L-833"><span class="linenos"> 833</span></a>            <span class="k">return</span> <span class="n">get_extra</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</span><span id="L-834"><a href="#L-834"><span class="linenos"> 834</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-835"><a href="#L-835"><span class="linenos"> 835</span></a>            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="nb">super</span><span class="p">(),</span> <span class="n">item</span><span class="p">):</span>
</span><span id="L-836"><a href="#L-836"><span class="linenos"> 836</span></a>                <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="nb">super</span><span class="p">(),</span> <span class="n">item</span><span class="p">)</span>
</span><span id="L-837"><a href="#L-837"><span class="linenos"> 837</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-838"><a href="#L-838"><span class="linenos"> 838</span></a>                <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span>
</span><span id="L-839"><a href="#L-839"><span class="linenos"> 839</span></a>                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; object has no attribute &#39;</span><span class="si">{</span><span class="n">item</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</span><span id="L-840"><a href="#L-840"><span class="linenos"> 840</span></a>
</span><span id="L-841"><a href="#L-841"><span class="linenos"> 841</span></a>    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="L-842"><a href="#L-842"><span class="linenos"> 842</span></a>        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;coordinates&#39;</span><span class="p">:</span>
</span><span id="L-843"><a href="#L-843"><span class="linenos"> 843</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">to_extra_key</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
</span><span id="L-844"><a href="#L-844"><span class="linenos"> 844</span></a>        <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">,</span> <span class="s1">&#39;oriented&#39;</span><span class="p">):</span>
</span><span id="L-845"><a href="#L-845"><span class="linenos"> 845</span></a>            <span class="n">set_extra</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
</span><span id="L-846"><a href="#L-846"><span class="linenos"> 846</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-847"><a href="#L-847"><span class="linenos"> 847</span></a>            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="L-848"><a href="#L-848"><span class="linenos"> 848</span></a>
</span><span id="L-849"><a href="#L-849"><span class="linenos"> 849</span></a>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
</span><span id="L-850"><a href="#L-850"><span class="linenos"> 850</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="L-851"><a href="#L-851"><span class="linenos"> 851</span></a>
</span><span id="L-852"><a href="#L-852"><span class="linenos"> 852</span></a>    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="L-853"><a href="#L-853"><span class="linenos"> 853</span></a>        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-854"><a href="#L-854"><span class="linenos"> 854</span></a>
</span><span id="L-855"><a href="#L-855"><span class="linenos"> 855</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-856"><a href="#L-856"><span class="linenos"> 856</span></a>        <span class="n">time_range</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">start_date</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">end_date</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_date</span> <span class="ow">and</span> \
</span><span id="L-857"><a href="#L-857"><span class="linenos"> 857</span></a>                                                               <span class="bp">self</span><span class="o">.</span><span class="n">end_date</span> <span class="k">else</span> <span class="s1">&#39;N/A&#39;</span>
</span><span id="L-858"><a href="#L-858"><span class="linenos"> 858</span></a>
</span><span id="L-859"><a href="#L-859"><span class="linenos"> 859</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">coordinate_system</span> <span class="o">==</span> <span class="s1">&#39;ENU&#39;</span><span class="p">:</span>
</span><span id="L-860"><a href="#L-860"><span class="linenos"> 860</span></a>
</span><span id="L-861"><a href="#L-861"><span class="linenos"> 861</span></a>            <span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-862"><a href="#L-862"><span class="linenos"> 862</span></a>                <span class="s1">&#39;Channel&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">code</span><span class="p">,</span>
</span><span id="L-863"><a href="#L-863"><span class="linenos"> 863</span></a>                <span class="s1">&#39;Location&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">location_code</span><span class="p">,</span>
</span><span id="L-864"><a href="#L-864"><span class="linenos"> 864</span></a>                <span class="s1">&#39;Time range&#39;</span><span class="p">:</span> <span class="n">time_range</span><span class="p">,</span>
</span><span id="L-865"><a href="#L-865"><span class="linenos"> 865</span></a>                <span class="s1">&#39;Northing [x]&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="si">:</span><span class="s2">0.0f</span><span class="si">}</span><span class="s2"> m&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="L-866"><a href="#L-866"><span class="linenos"> 866</span></a>                <span class="s1">&#39;Easting [y]&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="si">:</span><span class="s2">0.0f</span><span class="si">}</span><span class="s2"> m&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="L-867"><a href="#L-867"><span class="linenos"> 867</span></a>                <span class="s1">&#39;Elevation [z]&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="si">:</span><span class="s2">0.0f</span><span class="si">}</span><span class="s2"> m&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="L-868"><a href="#L-868"><span class="linenos"> 868</span></a>                <span class="s1">&#39;Dip (degrees)&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dip</span><span class="si">:</span><span class="s2">0.0f</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dip</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="L-869"><a href="#L-869"><span class="linenos"> 869</span></a>                <span class="s1">&#39;Azimuth (degrees)&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span><span class="si">:</span><span class="s2">0.0f</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span>
</span><span id="L-870"><a href="#L-870"><span class="linenos"> 870</span></a>                                                               <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="L-871"><a href="#L-871"><span class="linenos"> 871</span></a>                <span class="s1">&#39;Response information&#39;</span><span class="p">:</span> <span class="s1">&#39;available&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">response</span> <span class="k">else</span> <span class="s1">&#39;not available&#39;</span>
</span><span id="L-872"><a href="#L-872"><span class="linenos"> 872</span></a>            <span class="p">}</span>
</span><span id="L-873"><a href="#L-873"><span class="linenos"> 873</span></a>
</span><span id="L-874"><a href="#L-874"><span class="linenos"> 874</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-875"><a href="#L-875"><span class="linenos"> 875</span></a>            <span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-876"><a href="#L-876"><span class="linenos"> 876</span></a>                <span class="s1">&#39;Channel&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">code</span><span class="p">,</span>
</span><span id="L-877"><a href="#L-877"><span class="linenos"> 877</span></a>                <span class="s1">&#39;Location&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">location_code</span><span class="p">,</span>
</span><span id="L-878"><a href="#L-878"><span class="linenos"> 878</span></a>                <span class="s1">&#39;Time range&#39;</span><span class="p">:</span> <span class="n">time_range</span><span class="p">,</span>
</span><span id="L-879"><a href="#L-879"><span class="linenos"> 879</span></a>                <span class="s1">&#39;Easting [x]&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="si">:</span><span class="s2">0.0f</span><span class="si">}</span><span class="s2"> m&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="L-880"><a href="#L-880"><span class="linenos"> 880</span></a>                <span class="s1">&#39;Northing [y]&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="si">:</span><span class="s2">0.0f</span><span class="si">}</span><span class="s2"> m&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="L-881"><a href="#L-881"><span class="linenos"> 881</span></a>                <span class="s1">&#39;Depth [z]&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="si">:</span><span class="s2">0.0f</span><span class="si">}</span><span class="s2"> m&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="L-882"><a href="#L-882"><span class="linenos"> 882</span></a>                <span class="s1">&#39;Dip (degrees)&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dip</span><span class="si">:</span><span class="s2">0.0f</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dip</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="L-883"><a href="#L-883"><span class="linenos"> 883</span></a>                <span class="s1">&#39;Azimuth (degrees)&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span><span class="si">:</span><span class="s2">0.0f</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span>
</span><span id="L-884"><a href="#L-884"><span class="linenos"> 884</span></a>                                                               <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="L-885"><a href="#L-885"><span class="linenos"> 885</span></a>                <span class="s1">&#39;Response information&#39;</span><span class="p">:</span> <span class="s1">&#39;available&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">response</span> <span class="k">else</span> <span class="s1">&#39;not available&#39;</span>
</span><span id="L-886"><a href="#L-886"><span class="linenos"> 886</span></a>            <span class="p">}</span>
</span><span id="L-887"><a href="#L-887"><span class="linenos"> 887</span></a>
</span><span id="L-888"><a href="#L-888"><span class="linenos"> 888</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">attributes</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
</span><span id="L-889"><a href="#L-889"><span class="linenos"> 889</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span><span id="L-890"><a href="#L-890"><span class="linenos"> 890</span></a>
</span><span id="L-891"><a href="#L-891"><span class="linenos"> 891</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-892"><a href="#L-892"><span class="linenos"> 892</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="L-893"><a href="#L-893"><span class="linenos"> 893</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-894"><a href="#L-894"><span class="linenos"> 894</span></a>
</span><span id="L-895"><a href="#L-895"><span class="linenos"> 895</span></a>        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">coordinates</span> <span class="ow">and</span>
</span><span id="L-896"><a href="#L-896"><span class="linenos"> 896</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">active</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">active</span> <span class="ow">and</span>
</span><span id="L-897"><a href="#L-897"><span class="linenos"> 897</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">oriented</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">oriented</span><span class="p">)</span>
</span><span id="L-898"><a href="#L-898"><span class="linenos"> 898</span></a>
</span><span id="L-899"><a href="#L-899"><span class="linenos"> 899</span></a>    <span class="k">def</span> <span class="nf">set_orientation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">orientation_vector</span><span class="p">):</span>
</span><span id="L-900"><a href="#L-900"><span class="linenos"> 900</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-901"><a href="#L-901"><span class="linenos"> 901</span></a><span class="sd">        set the Azimuth and Dip from an orientation vector assuming the</span>
</span><span id="L-902"><a href="#L-902"><span class="linenos"> 902</span></a><span class="sd">        orientation vector provided is east, north, up.</span>
</span><span id="L-903"><a href="#L-903"><span class="linenos"> 903</span></a><span class="sd">        :param self:</span>
</span><span id="L-904"><a href="#L-904"><span class="linenos"> 904</span></a><span class="sd">        :param orientation_vector:</span>
</span><span id="L-905"><a href="#L-905"><span class="linenos"> 905</span></a><span class="sd">        :return:</span>
</span><span id="L-906"><a href="#L-906"><span class="linenos"> 906</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-907"><a href="#L-907"><span class="linenos"> 907</span></a>
</span><span id="L-908"><a href="#L-908"><span class="linenos"> 908</span></a>        <span class="n">east</span> <span class="o">=</span> <span class="n">orientation_vector</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-909"><a href="#L-909"><span class="linenos"> 909</span></a>        <span class="n">north</span> <span class="o">=</span> <span class="n">orientation_vector</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="L-910"><a href="#L-910"><span class="linenos"> 910</span></a>        <span class="n">up</span> <span class="o">=</span> <span class="n">orientation_vector</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</span><span id="L-911"><a href="#L-911"><span class="linenos"> 911</span></a>
</span><span id="L-912"><a href="#L-912"><span class="linenos"> 912</span></a>        <span class="n">horizontal_length</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">([</span><span class="n">east</span><span class="p">,</span> <span class="n">north</span><span class="p">])</span>
</span><span id="L-913"><a href="#L-913"><span class="linenos"> 913</span></a>
</span><span id="L-914"><a href="#L-914"><span class="linenos"> 914</span></a>        <span class="n">azimuth</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">east</span><span class="p">,</span> <span class="n">north</span><span class="p">)</span> <span class="o">*</span> <span class="mi">180</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span>
</span><span id="L-915"><a href="#L-915"><span class="linenos"> 915</span></a>        <span class="k">if</span> <span class="n">azimuth</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-916"><a href="#L-916"><span class="linenos"> 916</span></a>            <span class="n">azimuth</span> <span class="o">=</span> <span class="mi">360</span> <span class="o">+</span> <span class="n">azimuth</span>
</span><span id="L-917"><a href="#L-917"><span class="linenos"> 917</span></a>
</span><span id="L-918"><a href="#L-918"><span class="linenos"> 918</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span> <span class="o">=</span> <span class="n">azimuth</span>
</span><span id="L-919"><a href="#L-919"><span class="linenos"> 919</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dip</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="o">-</span><span class="n">up</span><span class="p">,</span> <span class="n">horizontal_length</span><span class="p">)</span> <span class="o">*</span> <span class="mi">180</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span>
</span><span id="L-920"><a href="#L-920"><span class="linenos"> 920</span></a>
</span><span id="L-921"><a href="#L-921"><span class="linenos"> 921</span></a>    <span class="nd">@property</span>
</span><span id="L-922"><a href="#L-922"><span class="linenos"> 922</span></a>    <span class="k">def</span> <span class="nf">orientation_vector</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-923"><a href="#L-923"><span class="linenos"> 923</span></a>
</span><span id="L-924"><a href="#L-924"><span class="linenos"> 924</span></a>        <span class="n">up</span> <span class="o">=</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dip</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">180</span><span class="p">)</span>
</span><span id="L-925"><a href="#L-925"><span class="linenos"> 925</span></a>        <span class="n">east</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">180</span><span class="p">)</span> <span class="o">*</span> \
</span><span id="L-926"><a href="#L-926"><span class="linenos"> 926</span></a>               <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dip</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">180</span><span class="p">)</span>
</span><span id="L-927"><a href="#L-927"><span class="linenos"> 927</span></a>        <span class="n">north</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">180</span><span class="p">)</span> <span class="o">*</span> \
</span><span id="L-928"><a href="#L-928"><span class="linenos"> 928</span></a>                <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dip</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">180</span><span class="p">)</span>
</span><span id="L-929"><a href="#L-929"><span class="linenos"> 929</span></a>
</span><span id="L-930"><a href="#L-930"><span class="linenos"> 930</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">east</span><span class="p">,</span> <span class="n">north</span><span class="p">,</span> <span class="n">up</span><span class="p">])</span>
</span><span id="L-931"><a href="#L-931"><span class="linenos"> 931</span></a>
</span><span id="L-932"><a href="#L-932"><span class="linenos"> 932</span></a>    <span class="nd">@property</span>
</span><span id="L-933"><a href="#L-933"><span class="linenos"> 933</span></a>    <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-934"><a href="#L-934"><span class="linenos"> 934</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">x</span>
</span><span id="L-935"><a href="#L-935"><span class="linenos"> 935</span></a>
</span><span id="L-936"><a href="#L-936"><span class="linenos"> 936</span></a>    <span class="nd">@property</span>
</span><span id="L-937"><a href="#L-937"><span class="linenos"> 937</span></a>    <span class="k">def</span> <span class="nf">y</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-938"><a href="#L-938"><span class="linenos"> 938</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">y</span>
</span><span id="L-939"><a href="#L-939"><span class="linenos"> 939</span></a>
</span><span id="L-940"><a href="#L-940"><span class="linenos"> 940</span></a>    <span class="nd">@property</span>
</span><span id="L-941"><a href="#L-941"><span class="linenos"> 941</span></a>    <span class="k">def</span> <span class="nf">z</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-942"><a href="#L-942"><span class="linenos"> 942</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">z</span>
</span><span id="L-943"><a href="#L-943"><span class="linenos"> 943</span></a>
</span><span id="L-944"><a href="#L-944"><span class="linenos"> 944</span></a>    <span class="nd">@property</span>
</span><span id="L-945"><a href="#L-945"><span class="linenos"> 945</span></a>    <span class="k">def</span> <span class="nf">loc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-946"><a href="#L-946"><span class="linenos"> 946</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">])</span>
</span><span id="L-947"><a href="#L-947"><span class="linenos"> 947</span></a>
</span><span id="L-948"><a href="#L-948"><span class="linenos"> 948</span></a>
</span><span id="L-949"><a href="#L-949"><span class="linenos"> 949</span></a><span class="k">def</span> <span class="nf">load_from_excel</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Inventory</span><span class="p">:</span>
</span><span id="L-950"><a href="#L-950"><span class="linenos"> 950</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-951"><a href="#L-951"><span class="linenos"> 951</span></a><span class="sd">    Read in a multi-sheet excel file with network metadata sheets:</span>
</span><span id="L-952"><a href="#L-952"><span class="linenos"> 952</span></a><span class="sd">        Locations, Networks, Hubs, Stations, Components, Locations, Cables,</span>
</span><span id="L-953"><a href="#L-953"><span class="linenos"> 953</span></a><span class="sd">        Boreholes</span>
</span><span id="L-954"><a href="#L-954"><span class="linenos"> 954</span></a><span class="sd">    Organize these into a uquake Inventory object</span>
</span><span id="L-955"><a href="#L-955"><span class="linenos"> 955</span></a>
</span><span id="L-956"><a href="#L-956"><span class="linenos"> 956</span></a><span class="sd">    :param xls_file: path to excel file</span>
</span><span id="L-957"><a href="#L-957"><span class="linenos"> 957</span></a><span class="sd">    :type: xls_file: str</span>
</span><span id="L-958"><a href="#L-958"><span class="linenos"> 958</span></a><span class="sd">    :return: inventory</span>
</span><span id="L-959"><a href="#L-959"><span class="linenos"> 959</span></a><span class="sd">    :rtype: uquake.core.data.inventory.Inventory</span>
</span><span id="L-960"><a href="#L-960"><span class="linenos"> 960</span></a>
</span><span id="L-961"><a href="#L-961"><span class="linenos"> 961</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-962"><a href="#L-962"><span class="linenos"> 962</span></a>
</span><span id="L-963"><a href="#L-963"><span class="linenos"> 963</span></a>    <span class="n">df_dict</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</span><span id="L-964"><a href="#L-964"><span class="linenos"> 964</span></a>
</span><span id="L-965"><a href="#L-965"><span class="linenos"> 965</span></a>    <span class="n">source</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Locations&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;code&#39;</span><span class="p">]</span>
</span><span id="L-966"><a href="#L-966"><span class="linenos"> 966</span></a>    <span class="c1"># sender (str, optional) Name of the institution sending this message.</span>
</span><span id="L-967"><a href="#L-967"><span class="linenos"> 967</span></a>    <span class="n">sender</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Locations&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;operator&#39;</span><span class="p">]</span>
</span><span id="L-968"><a href="#L-968"><span class="linenos"> 968</span></a>    <span class="n">net_code</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Networks&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;code&#39;</span><span class="p">]</span>
</span><span id="L-969"><a href="#L-969"><span class="linenos"> 969</span></a>    <span class="n">net_descriptions</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Networks&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
</span><span id="L-970"><a href="#L-970"><span class="linenos"> 970</span></a>
</span><span id="L-971"><a href="#L-971"><span class="linenos"> 971</span></a>    <span class="n">contact_name</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Networks&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;contact_name&#39;</span><span class="p">]</span>
</span><span id="L-972"><a href="#L-972"><span class="linenos"> 972</span></a>    <span class="n">contact_email</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Networks&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;contact_email&#39;</span><span class="p">]</span>
</span><span id="L-973"><a href="#L-973"><span class="linenos"> 973</span></a>    <span class="n">contact_phone</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Networks&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;contact_phone&#39;</span><span class="p">]</span>
</span><span id="L-974"><a href="#L-974"><span class="linenos"> 974</span></a>    <span class="n">site_operator</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Locations&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;operator&#39;</span><span class="p">]</span>
</span><span id="L-975"><a href="#L-975"><span class="linenos"> 975</span></a>    <span class="n">site_country</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Locations&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;country&#39;</span><span class="p">]</span>
</span><span id="L-976"><a href="#L-976"><span class="linenos"> 976</span></a>    <span class="n">site_name</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Locations&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
</span><span id="L-977"><a href="#L-977"><span class="linenos"> 977</span></a>    <span class="n">location_code</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Locations&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;code&#39;</span><span class="p">]</span>
</span><span id="L-978"><a href="#L-978"><span class="linenos"> 978</span></a>
</span><span id="L-979"><a href="#L-979"><span class="linenos"> 979</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;source=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">source</span><span class="p">)</span>
</span><span id="L-980"><a href="#L-980"><span class="linenos"> 980</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;sender=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">sender</span><span class="p">)</span>
</span><span id="L-981"><a href="#L-981"><span class="linenos"> 981</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;net_code=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">net_code</span><span class="p">)</span>
</span><span id="L-982"><a href="#L-982"><span class="linenos"> 982</span></a>
</span><span id="L-983"><a href="#L-983"><span class="linenos"> 983</span></a>    <span class="n">network</span> <span class="o">=</span> <span class="n">Network</span><span class="p">(</span><span class="n">net_code</span><span class="p">)</span>
</span><span id="L-984"><a href="#L-984"><span class="linenos"> 984</span></a>    <span class="n">inventory</span> <span class="o">=</span> <span class="n">Inventory</span><span class="p">([</span><span class="n">network</span><span class="p">],</span> <span class="n">source</span><span class="p">)</span>
</span><span id="L-985"><a href="#L-985"><span class="linenos"> 985</span></a>
</span><span id="L-986"><a href="#L-986"><span class="linenos"> 986</span></a>    <span class="c1"># obspy requirements for PhoneNumber are super specific:</span>
</span><span id="L-987"><a href="#L-987"><span class="linenos"> 987</span></a>    <span class="c1"># So likely this will raise an error if/when someone changes the value in</span>
</span><span id="L-988"><a href="#L-988"><span class="linenos"> 988</span></a>    <span class="c1"># Networks.contact_phone</span>
</span><span id="L-989"><a href="#L-989"><span class="linenos"> 989</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-990"><a href="#L-990"><span class="linenos"> 990</span></a><span class="sd">    PhoneNumber(self, area_code, phone_number, country_code=None,</span>
</span><span id="L-991"><a href="#L-991"><span class="linenos"> 991</span></a><span class="sd">    description=None):</span>
</span><span id="L-992"><a href="#L-992"><span class="linenos"> 992</span></a><span class="sd">        :type area_code: int</span>
</span><span id="L-993"><a href="#L-993"><span class="linenos"> 993</span></a><span class="sd">        :param area_code: The area code.</span>
</span><span id="L-994"><a href="#L-994"><span class="linenos"> 994</span></a><span class="sd">        :type phone_number: str</span>
</span><span id="L-995"><a href="#L-995"><span class="linenos"> 995</span></a><span class="sd">        :param phone_number: The phone number minus the country and</span>
</span><span id="L-996"><a href="#L-996"><span class="linenos"> 996</span></a><span class="sd">        area code. Must be in the form &quot;[0-9]+-[0-9]+&quot;, e.g. 1234-5678.</span>
</span><span id="L-997"><a href="#L-997"><span class="linenos"> 997</span></a><span class="sd">        :type country_code: int, optional</span>
</span><span id="L-998"><a href="#L-998"><span class="linenos"> 998</span></a><span class="sd">        :param country_code: The country code.</span>
</span><span id="L-999"><a href="#L-999"><span class="linenos"> 999</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1000"><a href="#L-1000"><span class="linenos">1000</span></a>
</span><span id="L-1001"><a href="#L-1001"><span class="linenos">1001</span></a>    <span class="kn">import</span> <span class="nn">re</span>
</span><span id="L-1002"><a href="#L-1002"><span class="linenos">1002</span></a>    <span class="n">phone</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[\d&#39;]+&quot;</span><span class="p">,</span> <span class="n">contact_phone</span><span class="p">)</span>
</span><span id="L-1003"><a href="#L-1003"><span class="linenos">1003</span></a>    <span class="n">area_code</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">phone</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="L-1004"><a href="#L-1004"><span class="linenos">1004</span></a>    <span class="n">number</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">-</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">phone</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">phone</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</span><span id="L-1005"><a href="#L-1005"><span class="linenos">1005</span></a>    <span class="n">phone_number</span> <span class="o">=</span> <span class="n">PhoneNumber</span><span class="p">(</span><span class="n">area_code</span><span class="o">=</span><span class="n">area_code</span><span class="p">,</span> <span class="n">phone_number</span><span class="o">=</span><span class="n">number</span><span class="p">)</span>
</span><span id="L-1006"><a href="#L-1006"><span class="linenos">1006</span></a>
</span><span id="L-1007"><a href="#L-1007"><span class="linenos">1007</span></a>    <span class="n">person</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="n">contact_name</span><span class="p">],</span> <span class="n">agencies</span><span class="o">=</span><span class="p">[</span><span class="n">site_operator</span><span class="p">],</span>
</span><span id="L-1008"><a href="#L-1008"><span class="linenos">1008</span></a>                    <span class="n">emails</span><span class="o">=</span><span class="p">[</span><span class="n">contact_email</span><span class="p">],</span> <span class="n">phones</span><span class="o">=</span><span class="p">[</span><span class="n">phone_number</span><span class="p">])</span>
</span><span id="L-1009"><a href="#L-1009"><span class="linenos">1009</span></a>    <span class="n">operator</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">(</span><span class="n">site_operator</span><span class="p">,</span> <span class="n">contacts</span><span class="o">=</span><span class="p">[</span><span class="n">person</span><span class="p">])</span>
</span><span id="L-1010"><a href="#L-1010"><span class="linenos">1010</span></a>    <span class="n">location</span> <span class="o">=</span> <span class="n">Instrument</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">site_name</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="n">site_name</span><span class="p">,</span>
</span><span id="L-1011"><a href="#L-1011"><span class="linenos">1011</span></a>                          <span class="n">country</span><span class="o">=</span><span class="n">site_country</span><span class="p">)</span>
</span><span id="L-1012"><a href="#L-1012"><span class="linenos">1012</span></a>
</span><span id="L-1013"><a href="#L-1013"><span class="linenos">1013</span></a>    <span class="c1"># Merge Stations+Components+Locations+Cables info into sorted stations +</span>
</span><span id="L-1014"><a href="#L-1014"><span class="linenos">1014</span></a>    <span class="c1"># channels dicts:</span>
</span><span id="L-1015"><a href="#L-1015"><span class="linenos">1015</span></a>
</span><span id="L-1016"><a href="#L-1016"><span class="linenos">1016</span></a>    <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Stations&#39;</span><span class="p">][</span><span class="s1">&#39;station_code&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Stations&#39;</span><span class="p">][</span><span class="s1">&#39;code&#39;</span><span class="p">]</span>
</span><span id="L-1017"><a href="#L-1017"><span class="linenos">1017</span></a>    <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Locations&#39;</span><span class="p">][</span><span class="s1">&#39;sensor_code&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Locations&#39;</span><span class="p">][</span><span class="s1">&#39;code&#39;</span><span class="p">]</span>
</span><span id="L-1018"><a href="#L-1018"><span class="linenos">1018</span></a>    <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Components&#39;</span><span class="p">][</span><span class="s1">&#39;code_channel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Components&#39;</span><span class="p">][</span><span class="s1">&#39;code&#39;</span><span class="p">]</span>
</span><span id="L-1019"><a href="#L-1019"><span class="linenos">1019</span></a>    <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Components&#39;</span><span class="p">][</span><span class="s1">&#39;sensor&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Components&#39;</span><span class="p">][</span><span class="s1">&#39;sensor__code&#39;</span><span class="p">]</span>
</span><span id="L-1020"><a href="#L-1020"><span class="linenos">1020</span></a>    <span class="n">df_merge</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Stations&#39;</span><span class="p">],</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Locations&#39;</span><span class="p">],</span>
</span><span id="L-1021"><a href="#L-1021"><span class="linenos">1021</span></a>                        <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;station__code&#39;</span><span class="p">,</span>
</span><span id="L-1022"><a href="#L-1022"><span class="linenos">1022</span></a>                        <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">,</span> <span class="n">suffixes</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;_channel&#39;</span><span class="p">))</span>
</span><span id="L-1023"><a href="#L-1023"><span class="linenos">1023</span></a>
</span><span id="L-1024"><a href="#L-1024"><span class="linenos">1024</span></a>    <span class="n">df_merge2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_merge</span><span class="p">,</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Components&#39;</span><span class="p">],</span>
</span><span id="L-1025"><a href="#L-1025"><span class="linenos">1025</span></a>                         <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;sensor_code&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;sensor__code&#39;</span><span class="p">,</span>
</span><span id="L-1026"><a href="#L-1026"><span class="linenos">1026</span></a>                         <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">,</span> <span class="n">suffixes</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;_sensor&#39;</span><span class="p">))</span>
</span><span id="L-1027"><a href="#L-1027"><span class="linenos">1027</span></a>
</span><span id="L-1028"><a href="#L-1028"><span class="linenos">1028</span></a>    <span class="n">df_merge3</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_merge2</span><span class="p">,</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Cable types&#39;</span><span class="p">],</span>
</span><span id="L-1029"><a href="#L-1029"><span class="linenos">1029</span></a>                         <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;cable__code&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;code&#39;</span><span class="p">,</span>
</span><span id="L-1030"><a href="#L-1030"><span class="linenos">1030</span></a>                         <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">,</span> <span class="n">suffixes</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;_cable&#39;</span><span class="p">))</span>
</span><span id="L-1031"><a href="#L-1031"><span class="linenos">1031</span></a>
</span><span id="L-1032"><a href="#L-1032"><span class="linenos">1032</span></a>    <span class="n">df_merge4</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_merge3</span><span class="p">,</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Location types&#39;</span><span class="p">],</span>
</span><span id="L-1033"><a href="#L-1033"><span class="linenos">1033</span></a>                         <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;sensor_type__model&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;model&#39;</span><span class="p">,</span>
</span><span id="L-1034"><a href="#L-1034"><span class="linenos">1034</span></a>                         <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">,</span> <span class="n">suffixes</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;_sensor_type&#39;</span><span class="p">))</span>
</span><span id="L-1035"><a href="#L-1035"><span class="linenos">1035</span></a>
</span><span id="L-1036"><a href="#L-1036"><span class="linenos">1036</span></a>    <span class="n">df</span> <span class="o">=</span> <span class="n">df_merge4</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s1">&#39;sensor_code&#39;</span><span class="p">,</span> <span class="s1">&#39;location_code&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-1037"><a href="#L-1037"><span class="linenos">1037</span></a>
</span><span id="L-1038"><a href="#L-1038"><span class="linenos">1038</span></a>    <span class="c1"># Need to sort by unique station codes, then look through 1-3 channels</span>
</span><span id="L-1039"><a href="#L-1039"><span class="linenos">1039</span></a>    <span class="c1"># to add</span>
</span><span id="L-1040"><a href="#L-1040"><span class="linenos">1040</span></a>    <span class="n">stn_codes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;sensor_code&#39;</span><span class="p">])</span>
</span><span id="L-1041"><a href="#L-1041"><span class="linenos">1041</span></a>    <span class="n">stations</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1042"><a href="#L-1042"><span class="linenos">1042</span></a>
</span><span id="L-1043"><a href="#L-1043"><span class="linenos">1043</span></a>    <span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">stn_codes</span><span class="p">:</span>
</span><span id="L-1044"><a href="#L-1044"><span class="linenos">1044</span></a>        <span class="n">chan_rows</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;sensor_code&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">code</span><span class="p">]</span>
</span><span id="L-1045"><a href="#L-1045"><span class="linenos">1045</span></a>        <span class="n">row</span> <span class="o">=</span> <span class="n">chan_rows</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-1046"><a href="#L-1046"><span class="linenos">1046</span></a>        <span class="n">station</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-1047"><a href="#L-1047"><span class="linenos">1047</span></a>        <span class="c1"># Set some keys explicitly</span>
</span><span id="L-1048"><a href="#L-1048"><span class="linenos">1048</span></a>        <span class="c1">#     from ipdb import set_trace; set_trace()</span>
</span><span id="L-1049"><a href="#L-1049"><span class="linenos">1049</span></a>        <span class="n">station</span><span class="p">[</span><span class="s1">&#39;code&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;sensor_code&#39;</span><span class="p">])</span>
</span><span id="L-1050"><a href="#L-1050"><span class="linenos">1050</span></a>        <span class="n">station</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;location_x_channel&#39;</span><span class="p">]</span>
</span><span id="L-1051"><a href="#L-1051"><span class="linenos">1051</span></a>        <span class="n">station</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;location_y_channel&#39;</span><span class="p">]</span>
</span><span id="L-1052"><a href="#L-1052"><span class="linenos">1052</span></a>        <span class="n">station</span><span class="p">[</span><span class="s1">&#39;z&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;location_z_channel&#39;</span><span class="p">]</span>
</span><span id="L-1053"><a href="#L-1053"><span class="linenos">1053</span></a>        <span class="n">station</span><span class="p">[</span><span class="s1">&#39;loc&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
</span><span id="L-1054"><a href="#L-1054"><span class="linenos">1054</span></a>            <span class="p">[</span><span class="n">station</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">station</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">],</span> <span class="n">station</span><span class="p">[</span><span class="s1">&#39;z&#39;</span><span class="p">]])</span>
</span><span id="L-1055"><a href="#L-1055"><span class="linenos">1055</span></a>        <span class="n">station</span><span class="p">[</span><span class="s1">&#39;long_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">.</span><span class="si">{:02d}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;network__code&#39;</span><span class="p">],</span>
</span><span id="L-1056"><a href="#L-1056"><span class="linenos">1056</span></a>                                                     <span class="n">row</span><span class="p">[</span><span class="s1">&#39;station_code&#39;</span><span class="p">],</span>
</span><span id="L-1057"><a href="#L-1057"><span class="linenos">1057</span></a>                                                     <span class="n">row</span><span class="p">[</span><span class="s1">&#39;location_code&#39;</span><span class="p">])</span>
</span><span id="L-1058"><a href="#L-1058"><span class="linenos">1058</span></a>
</span><span id="L-1059"><a href="#L-1059"><span class="linenos">1059</span></a>        <span class="c1"># MTH: 2019/07 Seem to have moved from pF to F on Cables sheet:</span>
</span><span id="L-1060"><a href="#L-1060"><span class="linenos">1060</span></a>        <span class="n">station</span><span class="p">[</span><span class="s1">&#39;cable_capacitance_pF_per_meter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mf">1e12</span>
</span><span id="L-1061"><a href="#L-1061"><span class="linenos">1061</span></a>
</span><span id="L-1062"><a href="#L-1062"><span class="linenos">1062</span></a>        <span class="c1"># Set the rest (minus empty fields) directly from spreadsheet names:</span>
</span><span id="L-1063"><a href="#L-1063"><span class="linenos">1063</span></a>        <span class="n">renamed_keys</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;sensor_code&#39;</span><span class="p">,</span> <span class="s1">&#39;location_x&#39;</span><span class="p">,</span> <span class="s1">&#39;location_y&#39;</span><span class="p">,</span>
</span><span id="L-1064"><a href="#L-1064"><span class="linenos">1064</span></a>                        <span class="s1">&#39;location_z&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">}</span>
</span><span id="L-1065"><a href="#L-1065"><span class="linenos">1065</span></a>
</span><span id="L-1066"><a href="#L-1066"><span class="linenos">1066</span></a>        <span class="c1"># These keys are either redundant or specific to channel, not station:</span>
</span><span id="L-1067"><a href="#L-1067"><span class="linenos">1067</span></a>        <span class="n">remove_keys</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;id_channel&#39;</span><span class="p">,</span> <span class="s1">&#39;orientation_x&#39;</span><span class="p">,</span>
</span><span id="L-1068"><a href="#L-1068"><span class="linenos">1068</span></a>                       <span class="s1">&#39;orientation_y&#39;</span><span class="p">,</span> <span class="s1">&#39;orientation_z&#39;</span><span class="p">,</span> <span class="s1">&#39;id_sensor&#39;</span><span class="p">,</span>
</span><span id="L-1069"><a href="#L-1069"><span class="linenos">1069</span></a>                       <span class="s1">&#39;enabled_channel&#39;</span><span class="p">,</span> <span class="s1">&#39;station_id&#39;</span><span class="p">,</span> <span class="s1">&#39;id_cable&#39;</span><span class="p">}</span>
</span><span id="L-1070"><a href="#L-1070"><span class="linenos">1070</span></a>        <span class="n">keys</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</span><span id="L-1071"><a href="#L-1071"><span class="linenos">1071</span></a>        <span class="n">empty_keys</span> <span class="o">=</span> <span class="n">keys</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">row</span><span class="p">)]</span>
</span><span id="L-1072"><a href="#L-1072"><span class="linenos">1072</span></a>        <span class="n">keys</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">empty_keys</span><span class="p">)</span> <span class="o">-</span> <span class="n">renamed_keys</span> <span class="o">-</span> <span class="n">remove_keys</span>
</span><span id="L-1073"><a href="#L-1073"><span class="linenos">1073</span></a>
</span><span id="L-1074"><a href="#L-1074"><span class="linenos">1074</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
</span><span id="L-1075"><a href="#L-1075"><span class="linenos">1075</span></a>            <span class="n">station</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="L-1076"><a href="#L-1076"><span class="linenos">1076</span></a>
</span><span id="L-1077"><a href="#L-1077"><span class="linenos">1077</span></a>        <span class="c1"># Added keys:</span>
</span><span id="L-1078"><a href="#L-1078"><span class="linenos">1078</span></a>        <span class="n">station</span><span class="p">[</span><span class="s1">&#39;motion&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;VELOCITY&#39;</span>
</span><span id="L-1079"><a href="#L-1079"><span class="linenos">1079</span></a>
</span><span id="L-1080"><a href="#L-1080"><span class="linenos">1080</span></a>        <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;sensor_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;ACCELEROMETER&#39;</span><span class="p">:</span>
</span><span id="L-1081"><a href="#L-1081"><span class="linenos">1081</span></a>            <span class="n">station</span><span class="p">[</span><span class="s1">&#39;motion&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;ACCELERATION&#39;</span>
</span><span id="L-1082"><a href="#L-1082"><span class="linenos">1082</span></a>
</span><span id="L-1083"><a href="#L-1083"><span class="linenos">1083</span></a>        <span class="c1"># Attach channels:</span>
</span><span id="L-1084"><a href="#L-1084"><span class="linenos">1084</span></a>        <span class="n">station</span><span class="p">[</span><span class="s1">&#39;channels&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1085"><a href="#L-1085"><span class="linenos">1085</span></a>
</span><span id="L-1086"><a href="#L-1086"><span class="linenos">1086</span></a>        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">rr</span> <span class="ow">in</span> <span class="n">chan_rows</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
</span><span id="L-1087"><a href="#L-1087"><span class="linenos">1087</span></a>            <span class="n">chan</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-1088"><a href="#L-1088"><span class="linenos">1088</span></a>            <span class="n">chan</span><span class="p">[</span><span class="s1">&#39;cmp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rr</span><span class="p">[</span><span class="s1">&#39;code_channel_sensor&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
</span><span id="L-1089"><a href="#L-1089"><span class="linenos">1089</span></a>            <span class="n">chan</span><span class="p">[</span><span class="s1">&#39;orientation&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">rr</span><span class="p">[</span><span class="s1">&#39;orientation_x&#39;</span><span class="p">],</span>
</span><span id="L-1090"><a href="#L-1090"><span class="linenos">1090</span></a>                                            <span class="n">rr</span><span class="p">[</span><span class="s1">&#39;orientation_y&#39;</span><span class="p">],</span>
</span><span id="L-1091"><a href="#L-1091"><span class="linenos">1091</span></a>                                            <span class="n">rr</span><span class="p">[</span><span class="s1">&#39;orientation_z&#39;</span><span class="p">]])</span>
</span><span id="L-1092"><a href="#L-1092"><span class="linenos">1092</span></a>            <span class="n">chan</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;location_x_channel&#39;</span><span class="p">]</span>
</span><span id="L-1093"><a href="#L-1093"><span class="linenos">1093</span></a>            <span class="n">chan</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;location_y_channel&#39;</span><span class="p">]</span>
</span><span id="L-1094"><a href="#L-1094"><span class="linenos">1094</span></a>            <span class="n">chan</span><span class="p">[</span><span class="s1">&#39;z&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;location_z_channel&#39;</span><span class="p">]</span>
</span><span id="L-1095"><a href="#L-1095"><span class="linenos">1095</span></a>            <span class="n">chan</span><span class="p">[</span><span class="s1">&#39;enabled&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rr</span><span class="p">[</span><span class="s1">&#39;enabled&#39;</span><span class="p">]</span>
</span><span id="L-1096"><a href="#L-1096"><span class="linenos">1096</span></a>            <span class="n">station</span><span class="p">[</span><span class="s1">&#39;channels&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>
</span><span id="L-1097"><a href="#L-1097"><span class="linenos">1097</span></a>
</span><span id="L-1098"><a href="#L-1098"><span class="linenos">1098</span></a>        <span class="n">stations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">station</span><span class="p">)</span>
</span><span id="L-1099"><a href="#L-1099"><span class="linenos">1099</span></a>
</span><span id="L-1100"><a href="#L-1100"><span class="linenos">1100</span></a>    <span class="c1"># from ipdb import set_trace; set_trace()</span>
</span><span id="L-1101"><a href="#L-1101"><span class="linenos">1101</span></a>
</span><span id="L-1102"><a href="#L-1102"><span class="linenos">1102</span></a>    <span class="c1"># Convert these station dicts to inventory.Station objects and attach to</span>
</span><span id="L-1103"><a href="#L-1103"><span class="linenos">1103</span></a>    <span class="c1"># inventory.network:</span>
</span><span id="L-1104"><a href="#L-1104"><span class="linenos">1104</span></a>    <span class="n">station_list</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1105"><a href="#L-1105"><span class="linenos">1105</span></a>
</span><span id="L-1106"><a href="#L-1106"><span class="linenos">1106</span></a>    <span class="k">for</span> <span class="n">station</span> <span class="ow">in</span> <span class="n">stations</span><span class="p">:</span>
</span><span id="L-1107"><a href="#L-1107"><span class="linenos">1107</span></a>        <span class="c1"># This is where namespace is first employed:</span>
</span><span id="L-1108"><a href="#L-1108"><span class="linenos">1108</span></a>        <span class="n">station</span> <span class="o">=</span> <span class="n">Station</span><span class="o">.</span><span class="n">from_station_dict</span><span class="p">(</span><span class="n">station</span><span class="p">,</span> <span class="n">site_name</span><span class="p">)</span>
</span><span id="L-1109"><a href="#L-1109"><span class="linenos">1109</span></a>        <span class="n">station</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">location</span>
</span><span id="L-1110"><a href="#L-1110"><span class="linenos">1110</span></a>        <span class="n">station</span><span class="o">.</span><span class="n">operators</span> <span class="o">=</span> <span class="p">[</span><span class="n">operator</span><span class="p">]</span>
</span><span id="L-1111"><a href="#L-1111"><span class="linenos">1111</span></a>        <span class="n">station_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">station</span><span class="p">)</span>
</span><span id="L-1112"><a href="#L-1112"><span class="linenos">1112</span></a>
</span><span id="L-1113"><a href="#L-1113"><span class="linenos">1113</span></a>    <span class="n">network</span><span class="o">.</span><span class="n">stations</span> <span class="o">=</span> <span class="n">station_list</span>
</span><span id="L-1114"><a href="#L-1114"><span class="linenos">1114</span></a>
</span><span id="L-1115"><a href="#L-1115"><span class="linenos">1115</span></a>    <span class="k">return</span> <span class="n">inventory</span>
</span><span id="L-1116"><a href="#L-1116"><span class="linenos">1116</span></a>
</span><span id="L-1117"><a href="#L-1117"><span class="linenos">1117</span></a>
</span><span id="L-1118"><a href="#L-1118"><span class="linenos">1118</span></a><span class="nd">@expand_input_format_compatibility</span>
</span><span id="L-1119"><a href="#L-1119"><span class="linenos">1119</span></a><span class="k">def</span> <span class="nf">read_inventory</span><span class="p">(</span><span class="n">path_or_file_object</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;STATIONXML&#39;</span><span class="p">,</span>
</span><span id="L-1120"><a href="#L-1120"><span class="linenos">1120</span></a>                   <span class="n">xy_from_lat_lon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">input_projection</span><span class="o">=</span><span class="mi">4326</span><span class="p">,</span>
</span><span id="L-1121"><a href="#L-1121"><span class="linenos">1121</span></a>                   <span class="n">output_projection</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Inventory</span><span class="p">:</span>
</span><span id="L-1122"><a href="#L-1122"><span class="linenos">1122</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1123"><a href="#L-1123"><span class="linenos">1123</span></a><span class="sd">    Read inventory file</span>
</span><span id="L-1124"><a href="#L-1124"><span class="linenos">1124</span></a><span class="sd">    :param path_or_file_object: the path to the inventory file or a file object</span>
</span><span id="L-1125"><a href="#L-1125"><span class="linenos">1125</span></a><span class="sd">    :param format: the format</span>
</span><span id="L-1126"><a href="#L-1126"><span class="linenos">1126</span></a><span class="sd">    :param xy_from_lat_lon: if True convert populate the XY field by converting</span>
</span><span id="L-1127"><a href="#L-1127"><span class="linenos">1127</span></a><span class="sd">    the latitude and longitude to UTM</span>
</span><span id="L-1128"><a href="#L-1128"><span class="linenos">1128</span></a><span class="sd">    :param input_projection: The input projection. Applicable if</span>
</span><span id="L-1129"><a href="#L-1129"><span class="linenos">1129</span></a><span class="sd">    xy_from_lat_lon is True (default=4326 for latitude longitude)</span>
</span><span id="L-1130"><a href="#L-1130"><span class="linenos">1130</span></a><span class="sd">    :param output_projection: The output projection. Has to be specified if</span>
</span><span id="L-1131"><a href="#L-1131"><span class="linenos">1131</span></a><span class="sd">    xy_from_lat_lon is True. Default=None</span>
</span><span id="L-1132"><a href="#L-1132"><span class="linenos">1132</span></a><span class="sd">    :param args: see obspy.core.inventory.read_inventory for more information</span>
</span><span id="L-1133"><a href="#L-1133"><span class="linenos">1133</span></a><span class="sd">    :param kwargs: see obspy.core.inventory.read_inventory for more information</span>
</span><span id="L-1134"><a href="#L-1134"><span class="linenos">1134</span></a><span class="sd">    :return: an inventory object</span>
</span><span id="L-1135"><a href="#L-1135"><span class="linenos">1135</span></a><span class="sd">    :rtype: ~uquake.core.inventory.Inventory</span>
</span><span id="L-1136"><a href="#L-1136"><span class="linenos">1136</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1137"><a href="#L-1137"><span class="linenos">1137</span></a>
</span><span id="L-1138"><a href="#L-1138"><span class="linenos">1138</span></a>    <span class="k">if</span> <span class="n">xy_from_lat_lon</span> <span class="ow">and</span> <span class="p">(</span><span class="n">output_projection</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="L-1139"><a href="#L-1139"><span class="linenos">1139</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;the output projection is needed for conversion&#39;</span>
</span><span id="L-1140"><a href="#L-1140"><span class="linenos">1140</span></a>                         <span class="s1">&#39;from latitude-longitude to UTM&#39;</span><span class="p">)</span>
</span><span id="L-1141"><a href="#L-1141"><span class="linenos">1141</span></a>
</span><span id="L-1142"><a href="#L-1142"><span class="linenos">1142</span></a>    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">path_or_file_object</span><span class="p">)</span> <span class="ow">is</span> <span class="n">Path</span><span class="p">:</span>
</span><span id="L-1143"><a href="#L-1143"><span class="linenos">1143</span></a>        <span class="n">path_or_file_object</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">path_or_file_object</span><span class="p">)</span>
</span><span id="L-1144"><a href="#L-1144"><span class="linenos">1144</span></a>
</span><span id="L-1145"><a href="#L-1145"><span class="linenos">1145</span></a>    <span class="c1"># del kwargs[&#39;xy_from_lat_lon&#39;]</span>
</span><span id="L-1146"><a href="#L-1146"><span class="linenos">1146</span></a>
</span><span id="L-1147"><a href="#L-1147"><span class="linenos">1147</span></a>    <span class="k">if</span> <span class="p">(</span><span class="nb">format</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ENTRY_POINTS</span><span class="p">[</span><span class="s1">&#39;inventory&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="ow">or</span> \
</span><span id="L-1148"><a href="#L-1148"><span class="linenos">1148</span></a>            <span class="p">(</span><span class="nb">format</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;STATIONXML&#39;</span><span class="p">):</span>
</span><span id="L-1149"><a href="#L-1149"><span class="linenos">1149</span></a>
</span><span id="L-1150"><a href="#L-1150"><span class="linenos">1150</span></a>        <span class="n">obspy_inv</span> <span class="o">=</span> <span class="n">inventory</span><span class="o">.</span><span class="n">read_inventory</span><span class="p">(</span><span class="n">path_or_file_object</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span>
</span><span id="L-1151"><a href="#L-1151"><span class="linenos">1151</span></a>                                             <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1152"><a href="#L-1152"><span class="linenos">1152</span></a>
</span><span id="L-1153"><a href="#L-1153"><span class="linenos">1153</span></a>        <span class="k">return</span> <span class="n">Inventory</span><span class="o">.</span><span class="n">from_obspy_inventory_object</span><span class="p">(</span>
</span><span id="L-1154"><a href="#L-1154"><span class="linenos">1154</span></a>            <span class="n">obspy_inv</span><span class="p">,</span> <span class="n">xy_from_lat_lon</span><span class="o">=</span><span class="n">xy_from_lat_lon</span><span class="p">,</span>
</span><span id="L-1155"><a href="#L-1155"><span class="linenos">1155</span></a>            <span class="n">output_projection</span><span class="o">=</span><span class="n">output_projection</span><span class="p">,</span>
</span><span id="L-1156"><a href="#L-1156"><span class="linenos">1156</span></a>            <span class="n">input_projection</span><span class="o">=</span><span class="n">input_projection</span><span class="p">)</span>
</span><span id="L-1157"><a href="#L-1157"><span class="linenos">1157</span></a>
</span><span id="L-1158"><a href="#L-1158"><span class="linenos">1158</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-1159"><a href="#L-1159"><span class="linenos">1159</span></a>        <span class="n">format_ep</span> <span class="o">=</span> <span class="n">ENTRY_POINTS</span><span class="p">[</span><span class="s1">&#39;inventory&#39;</span><span class="p">][</span><span class="nb">format</span><span class="p">]</span>
</span><span id="L-1160"><a href="#L-1160"><span class="linenos">1160</span></a>
</span><span id="L-1161"><a href="#L-1161"><span class="linenos">1161</span></a>        <span class="n">read_format</span> <span class="o">=</span> <span class="n">load_entry_point</span><span class="p">(</span><span class="n">format_ep</span><span class="o">.</span><span class="n">dist</span><span class="o">.</span><span class="n">key</span><span class="p">,</span>
</span><span id="L-1162"><a href="#L-1162"><span class="linenos">1162</span></a>                                       <span class="s1">&#39;obspy.io.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span>
</span><span id="L-1163"><a href="#L-1163"><span class="linenos">1163</span></a>                                       <span class="n">format_ep</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;readFormat&#39;</span><span class="p">)</span>
</span><span id="L-1164"><a href="#L-1164"><span class="linenos">1164</span></a>
</span><span id="L-1165"><a href="#L-1165"><span class="linenos">1165</span></a>        <span class="k">return</span> <span class="n">expand_input_format_compatibility</span><span class="p">(</span>
</span><span id="L-1166"><a href="#L-1166"><span class="linenos">1166</span></a>            <span class="n">read_format</span><span class="p">(</span><span class="n">path_or_file_object</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
</span><span id="L-1167"><a href="#L-1167"><span class="linenos">1167</span></a>
</span><span id="L-1168"><a href="#L-1168"><span class="linenos">1168</span></a>    <span class="c1"># else:</span>
</span><span id="L-1169"><a href="#L-1169"><span class="linenos">1169</span></a>
</span><span id="L-1170"><a href="#L-1170"><span class="linenos">1170</span></a>
</span><span id="L-1171"><a href="#L-1171"><span class="linenos">1171</span></a><span class="c1"># def read_inventory(filename, format=&#39;STATIONXML&#39;, **kwargs):</span>
</span><span id="L-1172"><a href="#L-1172"><span class="linenos">1172</span></a><span class="c1">#     if isinstance(filename, Path):</span>
</span><span id="L-1173"><a href="#L-1173"><span class="linenos">1173</span></a><span class="c1">#         filename = str(filename)</span>
</span><span id="L-1174"><a href="#L-1174"><span class="linenos">1174</span></a><span class="c1">#</span>
</span><span id="L-1175"><a href="#L-1175"><span class="linenos">1175</span></a><span class="c1">#     if format in ENTRY_POINTS[&#39;inventory&#39;].keys():</span>
</span><span id="L-1176"><a href="#L-1176"><span class="linenos">1176</span></a><span class="c1">#         format_ep = ENTRY_POINTS[&#39;inventory&#39;][format]</span>
</span><span id="L-1177"><a href="#L-1177"><span class="linenos">1177</span></a><span class="c1">#         read_format = load_entry_point(format_ep.dist.key,</span>
</span><span id="L-1178"><a href="#L-1178"><span class="linenos">1178</span></a><span class="c1">#                                        &#39;obspy.plugin.inventory.%s&#39; %</span>
</span><span id="L-1179"><a href="#L-1179"><span class="linenos">1179</span></a><span class="c1">#                                        format_ep.name, &#39;readFormat&#39;)</span>
</span><span id="L-1180"><a href="#L-1180"><span class="linenos">1180</span></a><span class="c1">#</span>
</span><span id="L-1181"><a href="#L-1181"><span class="linenos">1181</span></a><span class="c1">#         return Inventory(inventory=read_format(filename, **kwargs))</span>
</span><span id="L-1182"><a href="#L-1182"><span class="linenos">1182</span></a><span class="c1">#</span>
</span><span id="L-1183"><a href="#L-1183"><span class="linenos">1183</span></a><span class="c1">#     else:</span>
</span><span id="L-1184"><a href="#L-1184"><span class="linenos">1184</span></a><span class="c1">#         return inventory.read_inventory(filename, format=format,</span>
</span><span id="L-1185"><a href="#L-1185"><span class="linenos">1185</span></a><span class="c1">#                                                **kwargs)</span>
</span><span id="L-1186"><a href="#L-1186"><span class="linenos">1186</span></a>
</span><span id="L-1187"><a href="#L-1187"><span class="linenos">1187</span></a>
</span><span id="L-1188"><a href="#L-1188"><span class="linenos">1188</span></a><span class="n">read_inventory</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="n">inventory</span><span class="o">.</span><span class="n">read_inventory</span><span class="o">.</span><span class="vm">__doc__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
</span><span id="L-1189"><a href="#L-1189"><span class="linenos">1189</span></a>    <span class="s1">&#39;obspy&#39;</span><span class="p">,</span> <span class="n">ns</span><span class="p">)</span>
</span></pre></div>


            </section>
                <section id="SystemResponse">
                            <input id="SystemResponse-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">SystemResponse</span>:

                <label class="view-source-button" for="SystemResponse-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SystemResponse"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SystemResponse-64"><a href="#SystemResponse-64"><span class="linenos"> 64</span></a><span class="k">class</span> <span class="nc">SystemResponse</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="SystemResponse-65"><a href="#SystemResponse-65"><span class="linenos"> 65</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sensor_type</span><span class="p">,</span> <span class="o">**</span><span class="n">sensor_params</span><span class="p">):</span>
</span><span id="SystemResponse-66"><a href="#SystemResponse-66"><span class="linenos"> 66</span></a>        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sensor_type</span><span class="p">,</span> <span class="o">**</span><span class="n">sensor_params</span><span class="p">):</span>
</span><span id="SystemResponse-67"><a href="#SystemResponse-67"><span class="linenos"> 67</span></a><span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="SystemResponse-68"><a href="#SystemResponse-68"><span class="linenos"> 68</span></a><span class="sd">            Initialize a SystemResponse object.</span>
</span><span id="SystemResponse-69"><a href="#SystemResponse-69"><span class="linenos"> 69</span></a>
</span><span id="SystemResponse-70"><a href="#SystemResponse-70"><span class="linenos"> 70</span></a><span class="sd">            Parameters:</span>
</span><span id="SystemResponse-71"><a href="#SystemResponse-71"><span class="linenos"> 71</span></a><span class="sd">            -----------</span>
</span><span id="SystemResponse-72"><a href="#SystemResponse-72"><span class="linenos"> 72</span></a><span class="sd">            sensor_type : str</span>
</span><span id="SystemResponse-73"><a href="#SystemResponse-73"><span class="linenos"> 73</span></a><span class="sd">                Type of the sensor. Accepted values are &#39;geophone&#39; or &#39;accelerometer&#39;.</span>
</span><span id="SystemResponse-74"><a href="#SystemResponse-74"><span class="linenos"> 74</span></a>
</span><span id="SystemResponse-75"><a href="#SystemResponse-75"><span class="linenos"> 75</span></a><span class="sd">            **sensor_params : keyword arguments</span>
</span><span id="SystemResponse-76"><a href="#SystemResponse-76"><span class="linenos"> 76</span></a><span class="sd">                Additional parameters for configuring the sensor response. These vary based on the `sensor_type`.</span>
</span><span id="SystemResponse-77"><a href="#SystemResponse-77"><span class="linenos"> 77</span></a>
</span><span id="SystemResponse-78"><a href="#SystemResponse-78"><span class="linenos"> 78</span></a><span class="sd">                For &#39;geophone&#39;:</span>
</span><span id="SystemResponse-79"><a href="#SystemResponse-79"><span class="linenos"> 79</span></a><span class="sd">                - resonance_frequency : float</span>
</span><span id="SystemResponse-80"><a href="#SystemResponse-80"><span class="linenos"> 80</span></a><span class="sd">                    The resonance frequency of the geophone, in Hz.</span>
</span><span id="SystemResponse-81"><a href="#SystemResponse-81"><span class="linenos"> 81</span></a><span class="sd">                - gain : float</span>
</span><span id="SystemResponse-82"><a href="#SystemResponse-82"><span class="linenos"> 82</span></a><span class="sd">                    The gain of the geophone response.</span>
</span><span id="SystemResponse-83"><a href="#SystemResponse-83"><span class="linenos"> 83</span></a><span class="sd">                - damping : float, optional</span>
</span><span id="SystemResponse-84"><a href="#SystemResponse-84"><span class="linenos"> 84</span></a><span class="sd">                    Damping factor. Default is 0.707.</span>
</span><span id="SystemResponse-85"><a href="#SystemResponse-85"><span class="linenos"> 85</span></a><span class="sd">                - stage_sequence_number : int, optional</span>
</span><span id="SystemResponse-86"><a href="#SystemResponse-86"><span class="linenos"> 86</span></a><span class="sd">                    Stage sequence number. Default is 1.</span>
</span><span id="SystemResponse-87"><a href="#SystemResponse-87"><span class="linenos"> 87</span></a>
</span><span id="SystemResponse-88"><a href="#SystemResponse-88"><span class="linenos"> 88</span></a><span class="sd">                For &#39;accelerometer&#39;:</span>
</span><span id="SystemResponse-89"><a href="#SystemResponse-89"><span class="linenos"> 89</span></a><span class="sd">                - resonance_frequency : float</span>
</span><span id="SystemResponse-90"><a href="#SystemResponse-90"><span class="linenos"> 90</span></a><span class="sd">                    The resonance frequency of the accelerometer, in Hz.</span>
</span><span id="SystemResponse-91"><a href="#SystemResponse-91"><span class="linenos"> 91</span></a><span class="sd">                - gain : float</span>
</span><span id="SystemResponse-92"><a href="#SystemResponse-92"><span class="linenos"> 92</span></a><span class="sd">                    The gain of the accelerometer response.</span>
</span><span id="SystemResponse-93"><a href="#SystemResponse-93"><span class="linenos"> 93</span></a><span class="sd">                - sensitivity : float, optional</span>
</span><span id="SystemResponse-94"><a href="#SystemResponse-94"><span class="linenos"> 94</span></a><span class="sd">                    Sensitivity of the accelerometer. Default is 1.</span>
</span><span id="SystemResponse-95"><a href="#SystemResponse-95"><span class="linenos"> 95</span></a><span class="sd">                - damping : float, optional</span>
</span><span id="SystemResponse-96"><a href="#SystemResponse-96"><span class="linenos"> 96</span></a><span class="sd">                    Damping factor. Default is 0.707.</span>
</span><span id="SystemResponse-97"><a href="#SystemResponse-97"><span class="linenos"> 97</span></a><span class="sd">                - stage_sequence_number : int, optional</span>
</span><span id="SystemResponse-98"><a href="#SystemResponse-98"><span class="linenos"> 98</span></a><span class="sd">                    Stage sequence number. Default is 1.</span>
</span><span id="SystemResponse-99"><a href="#SystemResponse-99"><span class="linenos"> 99</span></a>
</span><span id="SystemResponse-100"><a href="#SystemResponse-100"><span class="linenos">100</span></a><span class="sd">            Raises:</span>
</span><span id="SystemResponse-101"><a href="#SystemResponse-101"><span class="linenos">101</span></a><span class="sd">            --------</span>
</span><span id="SystemResponse-102"><a href="#SystemResponse-102"><span class="linenos">102</span></a><span class="sd">            ValueError</span>
</span><span id="SystemResponse-103"><a href="#SystemResponse-103"><span class="linenos">103</span></a><span class="sd">                When an invalid `sensor_type` or unsupported `sensor_params` are supplied.</span>
</span><span id="SystemResponse-104"><a href="#SystemResponse-104"><span class="linenos">104</span></a>
</span><span id="SystemResponse-105"><a href="#SystemResponse-105"><span class="linenos">105</span></a><span class="sd">            Examples:</span>
</span><span id="SystemResponse-106"><a href="#SystemResponse-106"><span class="linenos">106</span></a><span class="sd">            ----------</span>
</span><span id="SystemResponse-107"><a href="#SystemResponse-107"><span class="linenos">107</span></a><span class="sd">            &gt;&gt;&gt; sr = SystemResponse(&#39;geophone&#39;, resonance_frequency=4.5, gain=2.0)</span>
</span><span id="SystemResponse-108"><a href="#SystemResponse-108"><span class="linenos">108</span></a><span class="sd">            &gt;&gt;&gt; sr = SystemResponse(&#39;accelerometer&#39;, resonance_frequency=15, gain=3.0, sensitivity=0.2)</span>
</span><span id="SystemResponse-109"><a href="#SystemResponse-109"><span class="linenos">109</span></a><span class="sd">            &quot;&quot;&quot;</span>
</span><span id="SystemResponse-110"><a href="#SystemResponse-110"><span class="linenos">110</span></a>
</span><span id="SystemResponse-111"><a href="#SystemResponse-111"><span class="linenos">111</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">components_info</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="SystemResponse-112"><a href="#SystemResponse-112"><span class="linenos">112</span></a>            <span class="s1">&#39;sensor&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">sensor_type</span><span class="p">,</span>
</span><span id="SystemResponse-113"><a href="#SystemResponse-113"><span class="linenos">113</span></a>                       <span class="s1">&#39;params&#39;</span><span class="p">:</span> <span class="n">sensor_params</span><span class="p">}</span>
</span><span id="SystemResponse-114"><a href="#SystemResponse-114"><span class="linenos">114</span></a>        <span class="p">}</span>
</span><span id="SystemResponse-115"><a href="#SystemResponse-115"><span class="linenos">115</span></a>
</span><span id="SystemResponse-116"><a href="#SystemResponse-116"><span class="linenos">116</span></a>    <span class="k">def</span> <span class="nf">add_cable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">cable_params</span><span class="p">):</span>
</span><span id="SystemResponse-117"><a href="#SystemResponse-117"><span class="linenos">117</span></a>        <span class="k">if</span> <span class="s1">&#39;cable&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components_info</span><span class="p">:</span>
</span><span id="SystemResponse-118"><a href="#SystemResponse-118"><span class="linenos">118</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cable response already added.&quot;</span><span class="p">)</span>
</span><span id="SystemResponse-119"><a href="#SystemResponse-119"><span class="linenos">119</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">components_info</span><span class="p">[</span><span class="s1">&#39;cable&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;params&#39;</span><span class="p">:</span> <span class="n">cable_params</span><span class="p">}</span>
</span><span id="SystemResponse-120"><a href="#SystemResponse-120"><span class="linenos">120</span></a>
</span><span id="SystemResponse-121"><a href="#SystemResponse-121"><span class="linenos">121</span></a>    <span class="k">def</span> <span class="nf">add_digitizer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">digitizer_params</span><span class="p">):</span>
</span><span id="SystemResponse-122"><a href="#SystemResponse-122"><span class="linenos">122</span></a>        <span class="k">if</span> <span class="s1">&#39;digitizer&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components_info</span><span class="p">:</span>
</span><span id="SystemResponse-123"><a href="#SystemResponse-123"><span class="linenos">123</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Digitizer already added.&quot;</span><span class="p">)</span>
</span><span id="SystemResponse-124"><a href="#SystemResponse-124"><span class="linenos">124</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">components_info</span><span class="p">[</span><span class="s1">&#39;digitizer&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;params&#39;</span><span class="p">:</span> <span class="n">digitizer_params</span><span class="p">}</span>
</span><span id="SystemResponse-125"><a href="#SystemResponse-125"><span class="linenos">125</span></a>
</span><span id="SystemResponse-126"><a href="#SystemResponse-126"><span class="linenos">126</span></a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SystemResponse-127"><a href="#SystemResponse-127"><span class="linenos">127</span></a>        <span class="k">if</span> <span class="s1">&#39;sensor&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components_info</span><span class="p">:</span>
</span><span id="SystemResponse-128"><a href="#SystemResponse-128"><span class="linenos">128</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;System must have at least a sensor.&quot;</span><span class="p">)</span>
</span><span id="SystemResponse-129"><a href="#SystemResponse-129"><span class="linenos">129</span></a>
</span><span id="SystemResponse-130"><a href="#SystemResponse-130"><span class="linenos">130</span></a>    <span class="k">def</span> <span class="nf">generate_stage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_key</span><span class="p">,</span> <span class="n">stage_sequence_number</span><span class="p">):</span>
</span><span id="SystemResponse-131"><a href="#SystemResponse-131"><span class="linenos">131</span></a>        <span class="n">component_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">components_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">component_key</span><span class="p">,</span> <span class="p">{})</span>
</span><span id="SystemResponse-132"><a href="#SystemResponse-132"><span class="linenos">132</span></a>        <span class="k">if</span> <span class="n">component_key</span> <span class="o">==</span> <span class="s1">&#39;sensor&#39;</span><span class="p">:</span>
</span><span id="SystemResponse-133"><a href="#SystemResponse-133"><span class="linenos">133</span></a>            <span class="k">if</span> <span class="n">component_info</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;geophone&#39;</span><span class="p">:</span>
</span><span id="SystemResponse-134"><a href="#SystemResponse-134"><span class="linenos">134</span></a>                <span class="n">stage</span> <span class="o">=</span> <span class="n">geophone_sensor_response</span><span class="p">(</span><span class="o">**</span><span class="n">component_info</span><span class="p">[</span><span class="s1">&#39;params&#39;</span><span class="p">])</span>
</span><span id="SystemResponse-135"><a href="#SystemResponse-135"><span class="linenos">135</span></a>            <span class="k">elif</span> <span class="n">component_info</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;accelerometer&#39;</span><span class="p">:</span>
</span><span id="SystemResponse-136"><a href="#SystemResponse-136"><span class="linenos">136</span></a>                <span class="n">stage</span> <span class="o">=</span> <span class="n">accelerometer_sensor_response</span><span class="p">(</span><span class="o">**</span><span class="n">component_info</span><span class="p">[</span><span class="s1">&#39;params&#39;</span><span class="p">])</span>
</span><span id="SystemResponse-137"><a href="#SystemResponse-137"><span class="linenos">137</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="SystemResponse-138"><a href="#SystemResponse-138"><span class="linenos">138</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid sensor type.&quot;</span><span class="p">)</span>
</span><span id="SystemResponse-139"><a href="#SystemResponse-139"><span class="linenos">139</span></a>        <span class="k">elif</span> <span class="n">component_key</span> <span class="o">==</span> <span class="s1">&#39;cable&#39;</span><span class="p">:</span>
</span><span id="SystemResponse-140"><a href="#SystemResponse-140"><span class="linenos">140</span></a>            <span class="n">stage</span> <span class="o">=</span> <span class="n">sensor_cable_response</span><span class="p">(</span><span class="o">**</span><span class="n">component_info</span><span class="p">[</span><span class="s1">&#39;params&#39;</span><span class="p">])</span>
</span><span id="SystemResponse-141"><a href="#SystemResponse-141"><span class="linenos">141</span></a>        <span class="c1"># Add more conditions for other components</span>
</span><span id="SystemResponse-142"><a href="#SystemResponse-142"><span class="linenos">142</span></a>        <span class="n">stage</span><span class="o">.</span><span class="n">stage_sequence_number</span> <span class="o">=</span> <span class="n">stage_sequence_number</span>
</span><span id="SystemResponse-143"><a href="#SystemResponse-143"><span class="linenos">143</span></a>        <span class="k">return</span> <span class="n">stage</span>
</span><span id="SystemResponse-144"><a href="#SystemResponse-144"><span class="linenos">144</span></a>
</span><span id="SystemResponse-145"><a href="#SystemResponse-145"><span class="linenos">145</span></a>    <span class="nd">@property</span>
</span><span id="SystemResponse-146"><a href="#SystemResponse-146"><span class="linenos">146</span></a>    <span class="k">def</span> <span class="nf">response</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SystemResponse-147"><a href="#SystemResponse-147"><span class="linenos">147</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
</span><span id="SystemResponse-148"><a href="#SystemResponse-148"><span class="linenos">148</span></a>        <span class="n">response_stages</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="SystemResponse-149"><a href="#SystemResponse-149"><span class="linenos">149</span></a>        <span class="n">sequence_number</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="SystemResponse-150"><a href="#SystemResponse-150"><span class="linenos">150</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;sensor&#39;</span><span class="p">,</span> <span class="s1">&#39;cable&#39;</span><span class="p">,</span> <span class="s1">&#39;digitizer&#39;</span><span class="p">]:</span>
</span><span id="SystemResponse-151"><a href="#SystemResponse-151"><span class="linenos">151</span></a>            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components_info</span><span class="p">:</span>
</span><span id="SystemResponse-152"><a href="#SystemResponse-152"><span class="linenos">152</span></a>                <span class="n">stage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_stage</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">sequence_number</span><span class="p">)</span>
</span><span id="SystemResponse-153"><a href="#SystemResponse-153"><span class="linenos">153</span></a>                <span class="n">response_stages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">stage</span><span class="p">)</span>
</span><span id="SystemResponse-154"><a href="#SystemResponse-154"><span class="linenos">154</span></a>                <span class="n">sequence_number</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="SystemResponse-155"><a href="#SystemResponse-155"><span class="linenos">155</span></a>
</span><span id="SystemResponse-156"><a href="#SystemResponse-156"><span class="linenos">156</span></a>        <span class="c1"># Create and return a Response object using the gathered response stages</span>
</span><span id="SystemResponse-157"><a href="#SystemResponse-157"><span class="linenos">157</span></a>        <span class="n">system_response</span> <span class="o">=</span> <span class="n">Response</span><span class="p">(</span><span class="n">response_stages</span><span class="o">=</span><span class="n">response_stages</span><span class="p">)</span>
</span><span id="SystemResponse-158"><a href="#SystemResponse-158"><span class="linenos">158</span></a>
</span><span id="SystemResponse-159"><a href="#SystemResponse-159"><span class="linenos">159</span></a>        <span class="k">return</span> <span class="n">system_response</span>
</span></pre></div>


    

                            <div id="SystemResponse.__init__" class="classattr">
                                        <input id="SystemResponse.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">SystemResponse</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">sensor_type</span>, </span><span class="param"><span class="o">**</span><span class="n">sensor_params</span></span>)</span>

                <label class="view-source-button" for="SystemResponse.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SystemResponse.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SystemResponse.__init__-65"><a href="#SystemResponse.__init__-65"><span class="linenos"> 65</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sensor_type</span><span class="p">,</span> <span class="o">**</span><span class="n">sensor_params</span><span class="p">):</span>
</span><span id="SystemResponse.__init__-66"><a href="#SystemResponse.__init__-66"><span class="linenos"> 66</span></a>        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sensor_type</span><span class="p">,</span> <span class="o">**</span><span class="n">sensor_params</span><span class="p">):</span>
</span><span id="SystemResponse.__init__-67"><a href="#SystemResponse.__init__-67"><span class="linenos"> 67</span></a><span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="SystemResponse.__init__-68"><a href="#SystemResponse.__init__-68"><span class="linenos"> 68</span></a><span class="sd">            Initialize a SystemResponse object.</span>
</span><span id="SystemResponse.__init__-69"><a href="#SystemResponse.__init__-69"><span class="linenos"> 69</span></a>
</span><span id="SystemResponse.__init__-70"><a href="#SystemResponse.__init__-70"><span class="linenos"> 70</span></a><span class="sd">            Parameters:</span>
</span><span id="SystemResponse.__init__-71"><a href="#SystemResponse.__init__-71"><span class="linenos"> 71</span></a><span class="sd">            -----------</span>
</span><span id="SystemResponse.__init__-72"><a href="#SystemResponse.__init__-72"><span class="linenos"> 72</span></a><span class="sd">            sensor_type : str</span>
</span><span id="SystemResponse.__init__-73"><a href="#SystemResponse.__init__-73"><span class="linenos"> 73</span></a><span class="sd">                Type of the sensor. Accepted values are &#39;geophone&#39; or &#39;accelerometer&#39;.</span>
</span><span id="SystemResponse.__init__-74"><a href="#SystemResponse.__init__-74"><span class="linenos"> 74</span></a>
</span><span id="SystemResponse.__init__-75"><a href="#SystemResponse.__init__-75"><span class="linenos"> 75</span></a><span class="sd">            **sensor_params : keyword arguments</span>
</span><span id="SystemResponse.__init__-76"><a href="#SystemResponse.__init__-76"><span class="linenos"> 76</span></a><span class="sd">                Additional parameters for configuring the sensor response. These vary based on the `sensor_type`.</span>
</span><span id="SystemResponse.__init__-77"><a href="#SystemResponse.__init__-77"><span class="linenos"> 77</span></a>
</span><span id="SystemResponse.__init__-78"><a href="#SystemResponse.__init__-78"><span class="linenos"> 78</span></a><span class="sd">                For &#39;geophone&#39;:</span>
</span><span id="SystemResponse.__init__-79"><a href="#SystemResponse.__init__-79"><span class="linenos"> 79</span></a><span class="sd">                - resonance_frequency : float</span>
</span><span id="SystemResponse.__init__-80"><a href="#SystemResponse.__init__-80"><span class="linenos"> 80</span></a><span class="sd">                    The resonance frequency of the geophone, in Hz.</span>
</span><span id="SystemResponse.__init__-81"><a href="#SystemResponse.__init__-81"><span class="linenos"> 81</span></a><span class="sd">                - gain : float</span>
</span><span id="SystemResponse.__init__-82"><a href="#SystemResponse.__init__-82"><span class="linenos"> 82</span></a><span class="sd">                    The gain of the geophone response.</span>
</span><span id="SystemResponse.__init__-83"><a href="#SystemResponse.__init__-83"><span class="linenos"> 83</span></a><span class="sd">                - damping : float, optional</span>
</span><span id="SystemResponse.__init__-84"><a href="#SystemResponse.__init__-84"><span class="linenos"> 84</span></a><span class="sd">                    Damping factor. Default is 0.707.</span>
</span><span id="SystemResponse.__init__-85"><a href="#SystemResponse.__init__-85"><span class="linenos"> 85</span></a><span class="sd">                - stage_sequence_number : int, optional</span>
</span><span id="SystemResponse.__init__-86"><a href="#SystemResponse.__init__-86"><span class="linenos"> 86</span></a><span class="sd">                    Stage sequence number. Default is 1.</span>
</span><span id="SystemResponse.__init__-87"><a href="#SystemResponse.__init__-87"><span class="linenos"> 87</span></a>
</span><span id="SystemResponse.__init__-88"><a href="#SystemResponse.__init__-88"><span class="linenos"> 88</span></a><span class="sd">                For &#39;accelerometer&#39;:</span>
</span><span id="SystemResponse.__init__-89"><a href="#SystemResponse.__init__-89"><span class="linenos"> 89</span></a><span class="sd">                - resonance_frequency : float</span>
</span><span id="SystemResponse.__init__-90"><a href="#SystemResponse.__init__-90"><span class="linenos"> 90</span></a><span class="sd">                    The resonance frequency of the accelerometer, in Hz.</span>
</span><span id="SystemResponse.__init__-91"><a href="#SystemResponse.__init__-91"><span class="linenos"> 91</span></a><span class="sd">                - gain : float</span>
</span><span id="SystemResponse.__init__-92"><a href="#SystemResponse.__init__-92"><span class="linenos"> 92</span></a><span class="sd">                    The gain of the accelerometer response.</span>
</span><span id="SystemResponse.__init__-93"><a href="#SystemResponse.__init__-93"><span class="linenos"> 93</span></a><span class="sd">                - sensitivity : float, optional</span>
</span><span id="SystemResponse.__init__-94"><a href="#SystemResponse.__init__-94"><span class="linenos"> 94</span></a><span class="sd">                    Sensitivity of the accelerometer. Default is 1.</span>
</span><span id="SystemResponse.__init__-95"><a href="#SystemResponse.__init__-95"><span class="linenos"> 95</span></a><span class="sd">                - damping : float, optional</span>
</span><span id="SystemResponse.__init__-96"><a href="#SystemResponse.__init__-96"><span class="linenos"> 96</span></a><span class="sd">                    Damping factor. Default is 0.707.</span>
</span><span id="SystemResponse.__init__-97"><a href="#SystemResponse.__init__-97"><span class="linenos"> 97</span></a><span class="sd">                - stage_sequence_number : int, optional</span>
</span><span id="SystemResponse.__init__-98"><a href="#SystemResponse.__init__-98"><span class="linenos"> 98</span></a><span class="sd">                    Stage sequence number. Default is 1.</span>
</span><span id="SystemResponse.__init__-99"><a href="#SystemResponse.__init__-99"><span class="linenos"> 99</span></a>
</span><span id="SystemResponse.__init__-100"><a href="#SystemResponse.__init__-100"><span class="linenos">100</span></a><span class="sd">            Raises:</span>
</span><span id="SystemResponse.__init__-101"><a href="#SystemResponse.__init__-101"><span class="linenos">101</span></a><span class="sd">            --------</span>
</span><span id="SystemResponse.__init__-102"><a href="#SystemResponse.__init__-102"><span class="linenos">102</span></a><span class="sd">            ValueError</span>
</span><span id="SystemResponse.__init__-103"><a href="#SystemResponse.__init__-103"><span class="linenos">103</span></a><span class="sd">                When an invalid `sensor_type` or unsupported `sensor_params` are supplied.</span>
</span><span id="SystemResponse.__init__-104"><a href="#SystemResponse.__init__-104"><span class="linenos">104</span></a>
</span><span id="SystemResponse.__init__-105"><a href="#SystemResponse.__init__-105"><span class="linenos">105</span></a><span class="sd">            Examples:</span>
</span><span id="SystemResponse.__init__-106"><a href="#SystemResponse.__init__-106"><span class="linenos">106</span></a><span class="sd">            ----------</span>
</span><span id="SystemResponse.__init__-107"><a href="#SystemResponse.__init__-107"><span class="linenos">107</span></a><span class="sd">            &gt;&gt;&gt; sr = SystemResponse(&#39;geophone&#39;, resonance_frequency=4.5, gain=2.0)</span>
</span><span id="SystemResponse.__init__-108"><a href="#SystemResponse.__init__-108"><span class="linenos">108</span></a><span class="sd">            &gt;&gt;&gt; sr = SystemResponse(&#39;accelerometer&#39;, resonance_frequency=15, gain=3.0, sensitivity=0.2)</span>
</span><span id="SystemResponse.__init__-109"><a href="#SystemResponse.__init__-109"><span class="linenos">109</span></a><span class="sd">            &quot;&quot;&quot;</span>
</span><span id="SystemResponse.__init__-110"><a href="#SystemResponse.__init__-110"><span class="linenos">110</span></a>
</span><span id="SystemResponse.__init__-111"><a href="#SystemResponse.__init__-111"><span class="linenos">111</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">components_info</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="SystemResponse.__init__-112"><a href="#SystemResponse.__init__-112"><span class="linenos">112</span></a>            <span class="s1">&#39;sensor&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">sensor_type</span><span class="p">,</span>
</span><span id="SystemResponse.__init__-113"><a href="#SystemResponse.__init__-113"><span class="linenos">113</span></a>                       <span class="s1">&#39;params&#39;</span><span class="p">:</span> <span class="n">sensor_params</span><span class="p">}</span>
</span><span id="SystemResponse.__init__-114"><a href="#SystemResponse.__init__-114"><span class="linenos">114</span></a>        <span class="p">}</span>
</span></pre></div>


    

                            </div>
                            <div id="SystemResponse.components_info" class="classattr">
                                <div class="attr variable">
            <span class="name">components_info</span>

        
    </div>
    <a class="headerlink" href="#SystemResponse.components_info"></a>
    
    

                            </div>
                            <div id="SystemResponse.add_cable" class="classattr">
                                        <input id="SystemResponse.add_cable-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">add_cable</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">**</span><span class="n">cable_params</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SystemResponse.add_cable-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SystemResponse.add_cable"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SystemResponse.add_cable-116"><a href="#SystemResponse.add_cable-116"><span class="linenos">116</span></a>    <span class="k">def</span> <span class="nf">add_cable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">cable_params</span><span class="p">):</span>
</span><span id="SystemResponse.add_cable-117"><a href="#SystemResponse.add_cable-117"><span class="linenos">117</span></a>        <span class="k">if</span> <span class="s1">&#39;cable&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components_info</span><span class="p">:</span>
</span><span id="SystemResponse.add_cable-118"><a href="#SystemResponse.add_cable-118"><span class="linenos">118</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cable response already added.&quot;</span><span class="p">)</span>
</span><span id="SystemResponse.add_cable-119"><a href="#SystemResponse.add_cable-119"><span class="linenos">119</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">components_info</span><span class="p">[</span><span class="s1">&#39;cable&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;params&#39;</span><span class="p">:</span> <span class="n">cable_params</span><span class="p">}</span>
</span></pre></div>


    

                            </div>
                            <div id="SystemResponse.add_digitizer" class="classattr">
                                        <input id="SystemResponse.add_digitizer-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">add_digitizer</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">**</span><span class="n">digitizer_params</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SystemResponse.add_digitizer-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SystemResponse.add_digitizer"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SystemResponse.add_digitizer-121"><a href="#SystemResponse.add_digitizer-121"><span class="linenos">121</span></a>    <span class="k">def</span> <span class="nf">add_digitizer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">digitizer_params</span><span class="p">):</span>
</span><span id="SystemResponse.add_digitizer-122"><a href="#SystemResponse.add_digitizer-122"><span class="linenos">122</span></a>        <span class="k">if</span> <span class="s1">&#39;digitizer&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components_info</span><span class="p">:</span>
</span><span id="SystemResponse.add_digitizer-123"><a href="#SystemResponse.add_digitizer-123"><span class="linenos">123</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Digitizer already added.&quot;</span><span class="p">)</span>
</span><span id="SystemResponse.add_digitizer-124"><a href="#SystemResponse.add_digitizer-124"><span class="linenos">124</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">components_info</span><span class="p">[</span><span class="s1">&#39;digitizer&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;params&#39;</span><span class="p">:</span> <span class="n">digitizer_params</span><span class="p">}</span>
</span></pre></div>


    

                            </div>
                            <div id="SystemResponse.validate" class="classattr">
                                        <input id="SystemResponse.validate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">validate</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SystemResponse.validate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SystemResponse.validate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SystemResponse.validate-126"><a href="#SystemResponse.validate-126"><span class="linenos">126</span></a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SystemResponse.validate-127"><a href="#SystemResponse.validate-127"><span class="linenos">127</span></a>        <span class="k">if</span> <span class="s1">&#39;sensor&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components_info</span><span class="p">:</span>
</span><span id="SystemResponse.validate-128"><a href="#SystemResponse.validate-128"><span class="linenos">128</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;System must have at least a sensor.&quot;</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="SystemResponse.generate_stage" class="classattr">
                                        <input id="SystemResponse.generate_stage-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">generate_stage</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">component_key</span>, </span><span class="param"><span class="n">stage_sequence_number</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SystemResponse.generate_stage-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SystemResponse.generate_stage"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SystemResponse.generate_stage-130"><a href="#SystemResponse.generate_stage-130"><span class="linenos">130</span></a>    <span class="k">def</span> <span class="nf">generate_stage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_key</span><span class="p">,</span> <span class="n">stage_sequence_number</span><span class="p">):</span>
</span><span id="SystemResponse.generate_stage-131"><a href="#SystemResponse.generate_stage-131"><span class="linenos">131</span></a>        <span class="n">component_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">components_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">component_key</span><span class="p">,</span> <span class="p">{})</span>
</span><span id="SystemResponse.generate_stage-132"><a href="#SystemResponse.generate_stage-132"><span class="linenos">132</span></a>        <span class="k">if</span> <span class="n">component_key</span> <span class="o">==</span> <span class="s1">&#39;sensor&#39;</span><span class="p">:</span>
</span><span id="SystemResponse.generate_stage-133"><a href="#SystemResponse.generate_stage-133"><span class="linenos">133</span></a>            <span class="k">if</span> <span class="n">component_info</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;geophone&#39;</span><span class="p">:</span>
</span><span id="SystemResponse.generate_stage-134"><a href="#SystemResponse.generate_stage-134"><span class="linenos">134</span></a>                <span class="n">stage</span> <span class="o">=</span> <span class="n">geophone_sensor_response</span><span class="p">(</span><span class="o">**</span><span class="n">component_info</span><span class="p">[</span><span class="s1">&#39;params&#39;</span><span class="p">])</span>
</span><span id="SystemResponse.generate_stage-135"><a href="#SystemResponse.generate_stage-135"><span class="linenos">135</span></a>            <span class="k">elif</span> <span class="n">component_info</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;accelerometer&#39;</span><span class="p">:</span>
</span><span id="SystemResponse.generate_stage-136"><a href="#SystemResponse.generate_stage-136"><span class="linenos">136</span></a>                <span class="n">stage</span> <span class="o">=</span> <span class="n">accelerometer_sensor_response</span><span class="p">(</span><span class="o">**</span><span class="n">component_info</span><span class="p">[</span><span class="s1">&#39;params&#39;</span><span class="p">])</span>
</span><span id="SystemResponse.generate_stage-137"><a href="#SystemResponse.generate_stage-137"><span class="linenos">137</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="SystemResponse.generate_stage-138"><a href="#SystemResponse.generate_stage-138"><span class="linenos">138</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid sensor type.&quot;</span><span class="p">)</span>
</span><span id="SystemResponse.generate_stage-139"><a href="#SystemResponse.generate_stage-139"><span class="linenos">139</span></a>        <span class="k">elif</span> <span class="n">component_key</span> <span class="o">==</span> <span class="s1">&#39;cable&#39;</span><span class="p">:</span>
</span><span id="SystemResponse.generate_stage-140"><a href="#SystemResponse.generate_stage-140"><span class="linenos">140</span></a>            <span class="n">stage</span> <span class="o">=</span> <span class="n">sensor_cable_response</span><span class="p">(</span><span class="o">**</span><span class="n">component_info</span><span class="p">[</span><span class="s1">&#39;params&#39;</span><span class="p">])</span>
</span><span id="SystemResponse.generate_stage-141"><a href="#SystemResponse.generate_stage-141"><span class="linenos">141</span></a>        <span class="c1"># Add more conditions for other components</span>
</span><span id="SystemResponse.generate_stage-142"><a href="#SystemResponse.generate_stage-142"><span class="linenos">142</span></a>        <span class="n">stage</span><span class="o">.</span><span class="n">stage_sequence_number</span> <span class="o">=</span> <span class="n">stage_sequence_number</span>
</span><span id="SystemResponse.generate_stage-143"><a href="#SystemResponse.generate_stage-143"><span class="linenos">143</span></a>        <span class="k">return</span> <span class="n">stage</span>
</span></pre></div>


    

                            </div>
                            <div id="SystemResponse.response" class="classattr">
                                <div class="attr variable">
            <span class="name">response</span>

        
    </div>
    <a class="headerlink" href="#SystemResponse.response"></a>
    
    

                            </div>
                </section>
                <section id="geophone_sensor_response">
                            <input id="geophone_sensor_response-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">geophone_sensor_response</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">resonance_frequency</span>, </span><span class="param"><span class="n">gain</span>, </span><span class="param"><span class="n">damping</span><span class="o">=</span><span class="mf">0.707</span>, </span><span class="param"><span class="n">stage_sequence_number</span><span class="o">=</span><span class="mi">1</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="geophone_sensor_response-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#geophone_sensor_response"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="geophone_sensor_response-162"><a href="#geophone_sensor_response-162"><span class="linenos">162</span></a><span class="k">def</span> <span class="nf">geophone_sensor_response</span><span class="p">(</span><span class="n">resonance_frequency</span><span class="p">,</span> <span class="n">gain</span><span class="p">,</span> <span class="n">damping</span><span class="o">=</span><span class="mf">0.707</span><span class="p">,</span>
</span><span id="geophone_sensor_response-163"><a href="#geophone_sensor_response-163"><span class="linenos">163</span></a>                             <span class="n">stage_sequence_number</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="geophone_sensor_response-164"><a href="#geophone_sensor_response-164"><span class="linenos">164</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="geophone_sensor_response-165"><a href="#geophone_sensor_response-165"><span class="linenos">165</span></a><span class="sd">    Generate a Poles and Zeros response stage for a geophone.</span>
</span><span id="geophone_sensor_response-166"><a href="#geophone_sensor_response-166"><span class="linenos">166</span></a>
</span><span id="geophone_sensor_response-167"><a href="#geophone_sensor_response-167"><span class="linenos">167</span></a><span class="sd">    Parameters:</span>
</span><span id="geophone_sensor_response-168"><a href="#geophone_sensor_response-168"><span class="linenos">168</span></a><span class="sd">    - resonance_frequency (float): Resonance frequency of the geophone in Hz.</span>
</span><span id="geophone_sensor_response-169"><a href="#geophone_sensor_response-169"><span class="linenos">169</span></a><span class="sd">    - gain (float): Gain factor.</span>
</span><span id="geophone_sensor_response-170"><a href="#geophone_sensor_response-170"><span class="linenos">170</span></a><span class="sd">    - damping (float, optional): Damping ratio. Defaults to 0.707 (critical damping).</span>
</span><span id="geophone_sensor_response-171"><a href="#geophone_sensor_response-171"><span class="linenos">171</span></a><span class="sd">    - stage_sequence_number (int, optional): Sequence number for the response stage.</span>
</span><span id="geophone_sensor_response-172"><a href="#geophone_sensor_response-172"><span class="linenos">172</span></a>
</span><span id="geophone_sensor_response-173"><a href="#geophone_sensor_response-173"><span class="linenos">173</span></a><span class="sd">    Returns:</span>
</span><span id="geophone_sensor_response-174"><a href="#geophone_sensor_response-174"><span class="linenos">174</span></a><span class="sd">    - PolesZerosResponseStage: Response stage object with configured poles and zeros.</span>
</span><span id="geophone_sensor_response-175"><a href="#geophone_sensor_response-175"><span class="linenos">175</span></a>
</span><span id="geophone_sensor_response-176"><a href="#geophone_sensor_response-176"><span class="linenos">176</span></a><span class="sd">    Notes:</span>
</span><span id="geophone_sensor_response-177"><a href="#geophone_sensor_response-177"><span class="linenos">177</span></a><span class="sd">    - The function utilizes the Laplace transform in the frequency domain.</span>
</span><span id="geophone_sensor_response-178"><a href="#geophone_sensor_response-178"><span class="linenos">178</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="geophone_sensor_response-179"><a href="#geophone_sensor_response-179"><span class="linenos">179</span></a>    <span class="n">paz</span> <span class="o">=</span> <span class="n">corn_freq_2_paz</span><span class="p">(</span><span class="n">resonance_frequency</span><span class="p">,</span> <span class="n">damp</span><span class="o">=</span><span class="n">damping</span><span class="p">)</span>
</span><span id="geophone_sensor_response-180"><a href="#geophone_sensor_response-180"><span class="linenos">180</span></a>    <span class="n">pzr</span> <span class="o">=</span> <span class="n">PolesZerosResponseStage</span><span class="p">(</span><span class="n">stage_sequence_number</span><span class="p">,</span> <span class="n">gain</span><span class="p">,</span>
</span><span id="geophone_sensor_response-181"><a href="#geophone_sensor_response-181"><span class="linenos">181</span></a>                                  <span class="n">resonance_frequency</span><span class="p">,</span> <span class="s1">&#39;M/S&#39;</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span>
</span><span id="geophone_sensor_response-182"><a href="#geophone_sensor_response-182"><span class="linenos">182</span></a>                                  <span class="s1">&#39;LAPLACE (RADIANT/SECOND)&#39;</span><span class="p">,</span>
</span><span id="geophone_sensor_response-183"><a href="#geophone_sensor_response-183"><span class="linenos">183</span></a>                                  <span class="n">resonance_frequency</span><span class="p">,</span> <span class="n">paz</span><span class="p">[</span><span class="s1">&#39;zeros&#39;</span><span class="p">],</span>
</span><span id="geophone_sensor_response-184"><a href="#geophone_sensor_response-184"><span class="linenos">184</span></a>                                  <span class="n">paz</span><span class="p">[</span><span class="s1">&#39;poles&#39;</span><span class="p">])</span>
</span><span id="geophone_sensor_response-185"><a href="#geophone_sensor_response-185"><span class="linenos">185</span></a>    <span class="k">return</span> <span class="n">pzr</span>
</span></pre></div>


            <div class="docstring"><p>Generate a Poles and Zeros response stage for a geophone.</p>

<p>Parameters:</p>

<ul>
<li>resonance_frequency (float): Resonance frequency of the geophone in Hz.</li>
<li>gain (float): Gain factor.</li>
<li>damping (float, optional): Damping ratio. Defaults to 0.707 (critical damping).</li>
<li>stage_sequence_number (int, optional): Sequence number for the response stage.</li>
</ul>

<p>Returns:</p>

<ul>
<li>PolesZerosResponseStage: Response stage object with configured poles and zeros.</li>
</ul>

<p>Notes:</p>

<ul>
<li>The function utilizes the Laplace transform in the frequency domain.</li>
</ul>
</div>


                </section>
                <section id="accelerometer_sensor_response">
                            <input id="accelerometer_sensor_response-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">accelerometer_sensor_response</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">resonance_frequency</span>,</span><span class="param">	<span class="n">gain</span>,</span><span class="param">	<span class="n">sensitivity</span><span class="o">=</span><span class="mi">1</span>,</span><span class="param">	<span class="n">damping</span><span class="o">=</span><span class="mf">0.707</span>,</span><span class="param">	<span class="n">stage_sequence_number</span><span class="o">=</span><span class="mi">1</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="accelerometer_sensor_response-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#accelerometer_sensor_response"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="accelerometer_sensor_response-188"><a href="#accelerometer_sensor_response-188"><span class="linenos">188</span></a><span class="k">def</span> <span class="nf">accelerometer_sensor_response</span><span class="p">(</span><span class="n">resonance_frequency</span><span class="p">,</span> <span class="n">gain</span><span class="p">,</span> <span class="n">sensitivity</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="accelerometer_sensor_response-189"><a href="#accelerometer_sensor_response-189"><span class="linenos">189</span></a>                                  <span class="n">damping</span><span class="o">=</span><span class="mf">0.707</span><span class="p">,</span> <span class="n">stage_sequence_number</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="accelerometer_sensor_response-190"><a href="#accelerometer_sensor_response-190"><span class="linenos">190</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="accelerometer_sensor_response-191"><a href="#accelerometer_sensor_response-191"><span class="linenos">191</span></a><span class="sd">    Generate a Poles and Zeros response stage for an accelerometer.</span>
</span><span id="accelerometer_sensor_response-192"><a href="#accelerometer_sensor_response-192"><span class="linenos">192</span></a>
</span><span id="accelerometer_sensor_response-193"><a href="#accelerometer_sensor_response-193"><span class="linenos">193</span></a><span class="sd">    Parameters:</span>
</span><span id="accelerometer_sensor_response-194"><a href="#accelerometer_sensor_response-194"><span class="linenos">194</span></a><span class="sd">    - resonance_frequency (float): Resonance frequency of the accelerometer in Hz.</span>
</span><span id="accelerometer_sensor_response-195"><a href="#accelerometer_sensor_response-195"><span class="linenos">195</span></a><span class="sd">    - gain (float): Gain factor.</span>
</span><span id="accelerometer_sensor_response-196"><a href="#accelerometer_sensor_response-196"><span class="linenos">196</span></a><span class="sd">    - sensitivity (float, optional): Sensitivity of the sensor. Defaults to 1.</span>
</span><span id="accelerometer_sensor_response-197"><a href="#accelerometer_sensor_response-197"><span class="linenos">197</span></a><span class="sd">    - damping (float, optional): Damping ratio. Defaults to 0.707 (critical damping).</span>
</span><span id="accelerometer_sensor_response-198"><a href="#accelerometer_sensor_response-198"><span class="linenos">198</span></a><span class="sd">    - stage_sequence_number (int, optional): Sequence number for the response stage.</span>
</span><span id="accelerometer_sensor_response-199"><a href="#accelerometer_sensor_response-199"><span class="linenos">199</span></a>
</span><span id="accelerometer_sensor_response-200"><a href="#accelerometer_sensor_response-200"><span class="linenos">200</span></a><span class="sd">    Returns:</span>
</span><span id="accelerometer_sensor_response-201"><a href="#accelerometer_sensor_response-201"><span class="linenos">201</span></a><span class="sd">    - PolesZerosResponseStage: Response stage object with configured poles and zeros.</span>
</span><span id="accelerometer_sensor_response-202"><a href="#accelerometer_sensor_response-202"><span class="linenos">202</span></a>
</span><span id="accelerometer_sensor_response-203"><a href="#accelerometer_sensor_response-203"><span class="linenos">203</span></a><span class="sd">    Notes:</span>
</span><span id="accelerometer_sensor_response-204"><a href="#accelerometer_sensor_response-204"><span class="linenos">204</span></a><span class="sd">    - The function utilizes the Laplace transform in the frequency domain.</span>
</span><span id="accelerometer_sensor_response-205"><a href="#accelerometer_sensor_response-205"><span class="linenos">205</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="accelerometer_sensor_response-206"><a href="#accelerometer_sensor_response-206"><span class="linenos">206</span></a>    <span class="n">paz</span> <span class="o">=</span> <span class="n">corn_freq_2_paz</span><span class="p">(</span><span class="n">resonance_frequency</span><span class="p">,</span> <span class="n">damp</span><span class="o">=</span><span class="n">damping</span><span class="p">)</span>
</span><span id="accelerometer_sensor_response-207"><a href="#accelerometer_sensor_response-207"><span class="linenos">207</span></a>    <span class="n">paz</span><span class="p">[</span><span class="s1">&#39;zeros&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="accelerometer_sensor_response-208"><a href="#accelerometer_sensor_response-208"><span class="linenos">208</span></a>    <span class="n">pzr</span> <span class="o">=</span> <span class="n">PolesZerosResponseStage</span><span class="p">(</span><span class="n">stage_sequence_number</span><span class="p">,</span> <span class="n">gain</span><span class="p">,</span>
</span><span id="accelerometer_sensor_response-209"><a href="#accelerometer_sensor_response-209"><span class="linenos">209</span></a>                                  <span class="n">resonance_frequency</span><span class="p">,</span> <span class="s1">&#39;M/S/S&#39;</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span>
</span><span id="accelerometer_sensor_response-210"><a href="#accelerometer_sensor_response-210"><span class="linenos">210</span></a>                                  <span class="s1">&#39;LAPLACE (RADIANT/SECOND)&#39;</span><span class="p">,</span>
</span><span id="accelerometer_sensor_response-211"><a href="#accelerometer_sensor_response-211"><span class="linenos">211</span></a>                                  <span class="n">resonance_frequency</span><span class="p">,</span> <span class="n">paz</span><span class="p">[</span><span class="s1">&#39;zeros&#39;</span><span class="p">],</span>
</span><span id="accelerometer_sensor_response-212"><a href="#accelerometer_sensor_response-212"><span class="linenos">212</span></a>                                  <span class="n">paz</span><span class="p">[</span><span class="s1">&#39;poles&#39;</span><span class="p">])</span>
</span><span id="accelerometer_sensor_response-213"><a href="#accelerometer_sensor_response-213"><span class="linenos">213</span></a>    <span class="k">return</span> <span class="n">pzr</span>
</span></pre></div>


            <div class="docstring"><p>Generate a Poles and Zeros response stage for an accelerometer.</p>

<p>Parameters:</p>

<ul>
<li>resonance_frequency (float): Resonance frequency of the accelerometer in Hz.</li>
<li>gain (float): Gain factor.</li>
<li>sensitivity (float, optional): Sensitivity of the sensor. Defaults to 1.</li>
<li>damping (float, optional): Damping ratio. Defaults to 0.707 (critical damping).</li>
<li>stage_sequence_number (int, optional): Sequence number for the response stage.</li>
</ul>

<p>Returns:</p>

<ul>
<li>PolesZerosResponseStage: Response stage object with configured poles and zeros.</li>
</ul>

<p>Notes:</p>

<ul>
<li>The function utilizes the Laplace transform in the frequency domain.</li>
</ul>
</div>


                </section>
                <section id="sensor_cable_response">
                            <input id="sensor_cable_response-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">sensor_cable_response</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">output_resistance</span><span class="o">=</span><span class="n">inf</span>,</span><span class="param">	<span class="n">cable_length</span><span class="o">=</span><span class="n">inf</span>,</span><span class="param">	<span class="n">cable_capacitance</span><span class="o">=</span><span class="n">inf</span>,</span><span class="param">	<span class="n">stage_sequence_number</span><span class="o">=</span><span class="mi">2</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="sensor_cable_response-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#sensor_cable_response"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="sensor_cable_response-216"><a href="#sensor_cable_response-216"><span class="linenos">216</span></a><span class="k">def</span> <span class="nf">sensor_cable_response</span><span class="p">(</span><span class="n">output_resistance</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="n">cable_length</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span>
</span><span id="sensor_cable_response-217"><a href="#sensor_cable_response-217"><span class="linenos">217</span></a>                          <span class="n">cable_capacitance</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="n">stage_sequence_number</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
</span><span id="sensor_cable_response-218"><a href="#sensor_cable_response-218"><span class="linenos">218</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="sensor_cable_response-219"><a href="#sensor_cable_response-219"><span class="linenos">219</span></a><span class="sd">    Generate a Poles and Zeros response stage for sensor-cable interaction.</span>
</span><span id="sensor_cable_response-220"><a href="#sensor_cable_response-220"><span class="linenos">220</span></a>
</span><span id="sensor_cable_response-221"><a href="#sensor_cable_response-221"><span class="linenos">221</span></a><span class="sd">    Parameters:</span>
</span><span id="sensor_cable_response-222"><a href="#sensor_cable_response-222"><span class="linenos">222</span></a><span class="sd">    - output_resistance (float, optional): Output resistance of the sensor in ohms. D</span>
</span><span id="sensor_cable_response-223"><a href="#sensor_cable_response-223"><span class="linenos">223</span></a><span class="sd">    efaults to infinity.</span>
</span><span id="sensor_cable_response-224"><a href="#sensor_cable_response-224"><span class="linenos">224</span></a><span class="sd">    - cable_length (float, optional): Length of the cable in meters. Defaults to</span>
</span><span id="sensor_cable_response-225"><a href="#sensor_cable_response-225"><span class="linenos">225</span></a><span class="sd">    infinity.</span>
</span><span id="sensor_cable_response-226"><a href="#sensor_cable_response-226"><span class="linenos">226</span></a><span class="sd">    - cable_capacitance (float, optional): Cable capacitance in farads per meter.</span>
</span><span id="sensor_cable_response-227"><a href="#sensor_cable_response-227"><span class="linenos">227</span></a><span class="sd">    Defaults to infinity.</span>
</span><span id="sensor_cable_response-228"><a href="#sensor_cable_response-228"><span class="linenos">228</span></a><span class="sd">    - stage_sequence_number (int, optional): Sequence number for the response stage.</span>
</span><span id="sensor_cable_response-229"><a href="#sensor_cable_response-229"><span class="linenos">229</span></a>
</span><span id="sensor_cable_response-230"><a href="#sensor_cable_response-230"><span class="linenos">230</span></a><span class="sd">    Returns:</span>
</span><span id="sensor_cable_response-231"><a href="#sensor_cable_response-231"><span class="linenos">231</span></a><span class="sd">    - PolesZerosResponseStage: Response stage object with configured poles.</span>
</span><span id="sensor_cable_response-232"><a href="#sensor_cable_response-232"><span class="linenos">232</span></a>
</span><span id="sensor_cable_response-233"><a href="#sensor_cable_response-233"><span class="linenos">233</span></a><span class="sd">    Notes:</span>
</span><span id="sensor_cable_response-234"><a href="#sensor_cable_response-234"><span class="linenos">234</span></a><span class="sd">    - Assumes a Laplace transform in the frequency domain for the response.</span>
</span><span id="sensor_cable_response-235"><a href="#sensor_cable_response-235"><span class="linenos">235</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="sensor_cable_response-236"><a href="#sensor_cable_response-236"><span class="linenos">236</span></a>    <span class="n">R</span> <span class="o">=</span> <span class="n">output_resistance</span>
</span><span id="sensor_cable_response-237"><a href="#sensor_cable_response-237"><span class="linenos">237</span></a>    <span class="n">l</span> <span class="o">=</span> <span class="n">cable_length</span>
</span><span id="sensor_cable_response-238"><a href="#sensor_cable_response-238"><span class="linenos">238</span></a>    <span class="n">C</span> <span class="o">=</span> <span class="n">cable_capacitance</span>
</span><span id="sensor_cable_response-239"><a href="#sensor_cable_response-239"><span class="linenos">239</span></a>    <span class="n">poles</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="sensor_cable_response-240"><a href="#sensor_cable_response-240"><span class="linenos">240</span></a>
</span><span id="sensor_cable_response-241"><a href="#sensor_cable_response-241"><span class="linenos">241</span></a>    <span class="k">if</span> <span class="p">((</span><span class="n">R</span> <span class="o">*</span> <span class="n">l</span> <span class="o">*</span> <span class="n">C</span><span class="p">)</span> <span class="o">!=</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">)</span> <span class="ow">and</span> <span class="p">((</span><span class="n">R</span> <span class="o">*</span> <span class="n">l</span> <span class="o">*</span> <span class="n">C</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="sensor_cable_response-242"><a href="#sensor_cable_response-242"><span class="linenos">242</span></a>        <span class="n">pole_cable</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="n">R</span> <span class="o">*</span> <span class="n">l</span> <span class="o">*</span> <span class="n">C</span><span class="p">)</span>
</span><span id="sensor_cable_response-243"><a href="#sensor_cable_response-243"><span class="linenos">243</span></a>        <span class="n">poles</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pole_cable</span><span class="p">)</span>
</span><span id="sensor_cable_response-244"><a href="#sensor_cable_response-244"><span class="linenos">244</span></a>
</span><span id="sensor_cable_response-245"><a href="#sensor_cable_response-245"><span class="linenos">245</span></a>    <span class="n">pzr</span> <span class="o">=</span> <span class="n">PolesZerosResponseStage</span><span class="p">(</span><span class="n">stage_sequence_number</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
</span><span id="sensor_cable_response-246"><a href="#sensor_cable_response-246"><span class="linenos">246</span></a>                                  <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span>
</span><span id="sensor_cable_response-247"><a href="#sensor_cable_response-247"><span class="linenos">247</span></a>                                  <span class="s1">&#39;LAPLACE (RADIANT/SECOND)&#39;</span><span class="p">,</span>
</span><span id="sensor_cable_response-248"><a href="#sensor_cable_response-248"><span class="linenos">248</span></a>                                  <span class="mi">0</span><span class="p">,</span> <span class="p">[],</span> <span class="n">poles</span><span class="p">)</span>
</span><span id="sensor_cable_response-249"><a href="#sensor_cable_response-249"><span class="linenos">249</span></a>    <span class="k">return</span> <span class="n">pzr</span>
</span></pre></div>


            <div class="docstring"><p>Generate a Poles and Zeros response stage for sensor-cable interaction.</p>

<p>Parameters:</p>

<ul>
<li>output_resistance (float, optional): Output resistance of the sensor in ohms. D
efaults to infinity.</li>
<li>cable_length (float, optional): Length of the cable in meters. Defaults to
infinity.</li>
<li>cable_capacitance (float, optional): Cable capacitance in farads per meter.
Defaults to infinity.</li>
<li>stage_sequence_number (int, optional): Sequence number for the response stage.</li>
</ul>

<p>Returns:</p>

<ul>
<li>PolesZerosResponseStage: Response stage object with configured poles.</li>
</ul>

<p>Notes:</p>

<ul>
<li>Assumes a Laplace transform in the frequency domain for the response.</li>
</ul>
</div>


                </section>
                <section id="get_response_from_nrl">
                            <input id="get_response_from_nrl-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_response_from_nrl</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">datalogger_keys</span>, </span><span class="param"><span class="n">sensor_keys</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="get_response_from_nrl-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#get_response_from_nrl"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="get_response_from_nrl-252"><a href="#get_response_from_nrl-252"><span class="linenos">252</span></a><span class="k">def</span> <span class="nf">get_response_from_nrl</span><span class="p">(</span><span class="n">datalogger_keys</span><span class="p">,</span> <span class="n">sensor_keys</span><span class="p">):</span>
</span><span id="get_response_from_nrl-253"><a href="#get_response_from_nrl-253"><span class="linenos">253</span></a>    <span class="k">pass</span>
</span></pre></div>


    

                </section>
                <section id="Inventory">
                            <input id="Inventory-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Inventory</span><wbr>(<span class="base">obspy.core.inventory.inventory.Inventory</span>):

                <label class="view-source-button" for="Inventory-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Inventory"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Inventory-256"><a href="#Inventory-256"><span class="linenos">256</span></a><span class="k">class</span> <span class="nc">Inventory</span><span class="p">(</span><span class="n">inventory</span><span class="o">.</span><span class="n">Inventory</span><span class="p">):</span>
</span><span id="Inventory-257"><a href="#Inventory-257"><span class="linenos">257</span></a>
</span><span id="Inventory-258"><a href="#Inventory-258"><span class="linenos">258</span></a>    <span class="c1"># def __init__(self, *args, **kwargs):</span>
</span><span id="Inventory-259"><a href="#Inventory-259"><span class="linenos">259</span></a>    <span class="c1">#     super().__init__(self, *args, **kwargs)</span>
</span><span id="Inventory-260"><a href="#Inventory-260"><span class="linenos">260</span></a>
</span><span id="Inventory-261"><a href="#Inventory-261"><span class="linenos">261</span></a>    <span class="nd">@classmethod</span>
</span><span id="Inventory-262"><a href="#Inventory-262"><span class="linenos">262</span></a>    <span class="k">def</span> <span class="nf">from_obspy_inventory_object</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">obspy_inventory</span><span class="p">,</span>
</span><span id="Inventory-263"><a href="#Inventory-263"><span class="linenos">263</span></a>                                    <span class="n">xy_from_lat_lon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="Inventory-264"><a href="#Inventory-264"><span class="linenos">264</span></a>                                    <span class="n">input_projection</span><span class="o">=</span><span class="mi">4326</span><span class="p">,</span>
</span><span id="Inventory-265"><a href="#Inventory-265"><span class="linenos">265</span></a>                                    <span class="n">output_projection</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Inventory-266"><a href="#Inventory-266"><span class="linenos">266</span></a>
</span><span id="Inventory-267"><a href="#Inventory-267"><span class="linenos">267</span></a>        <span class="n">source</span> <span class="o">=</span> <span class="n">ns</span>  <span class="c1"># Network ID of the institution sending</span>
</span><span id="Inventory-268"><a href="#Inventory-268"><span class="linenos">268</span></a>        <span class="c1"># the message.</span>
</span><span id="Inventory-269"><a href="#Inventory-269"><span class="linenos">269</span></a>
</span><span id="Inventory-270"><a href="#Inventory-270"><span class="linenos">270</span></a>        <span class="n">inv</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">([],</span> <span class="n">ns</span><span class="p">)</span>
</span><span id="Inventory-271"><a href="#Inventory-271"><span class="linenos">271</span></a>        <span class="n">inv</span><span class="o">.</span><span class="n">networks</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Inventory-272"><a href="#Inventory-272"><span class="linenos">272</span></a>        <span class="k">for</span> <span class="n">network</span> <span class="ow">in</span> <span class="n">obspy_inventory</span><span class="o">.</span><span class="n">networks</span><span class="p">:</span>
</span><span id="Inventory-273"><a href="#Inventory-273"><span class="linenos">273</span></a>            <span class="n">inv</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Network</span><span class="o">.</span><span class="n">from_obspy_network</span><span class="p">(</span><span class="n">network</span><span class="p">,</span>
</span><span id="Inventory-274"><a href="#Inventory-274"><span class="linenos">274</span></a>                                                           <span class="n">xy_from_lat_lon</span><span class="o">=</span>
</span><span id="Inventory-275"><a href="#Inventory-275"><span class="linenos">275</span></a>                                                           <span class="n">xy_from_lat_lon</span><span class="p">,</span>
</span><span id="Inventory-276"><a href="#Inventory-276"><span class="linenos">276</span></a>                                                           <span class="n">input_projection</span><span class="o">=</span>
</span><span id="Inventory-277"><a href="#Inventory-277"><span class="linenos">277</span></a>                                                           <span class="n">input_projection</span><span class="p">,</span>
</span><span id="Inventory-278"><a href="#Inventory-278"><span class="linenos">278</span></a>                                                           <span class="n">output_projection</span><span class="o">=</span>
</span><span id="Inventory-279"><a href="#Inventory-279"><span class="linenos">279</span></a>                                                           <span class="n">output_projection</span><span class="p">))</span>
</span><span id="Inventory-280"><a href="#Inventory-280"><span class="linenos">280</span></a>
</span><span id="Inventory-281"><a href="#Inventory-281"><span class="linenos">281</span></a>        <span class="k">return</span> <span class="n">inv</span>
</span><span id="Inventory-282"><a href="#Inventory-282"><span class="linenos">282</span></a>
</span><span id="Inventory-283"><a href="#Inventory-283"><span class="linenos">283</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Inventory-284"><a href="#Inventory-284"><span class="linenos">284</span></a>    <span class="k">def</span> <span class="nf">from_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
</span><span id="Inventory-285"><a href="#Inventory-285"><span class="linenos">285</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Inventory-286"><a href="#Inventory-286"><span class="linenos">286</span></a><span class="sd">        Load an ObsPy inventory object from a URL.</span>
</span><span id="Inventory-287"><a href="#Inventory-287"><span class="linenos">287</span></a>
</span><span id="Inventory-288"><a href="#Inventory-288"><span class="linenos">288</span></a><span class="sd">        :param url: The URL to download the inventory file from.</span>
</span><span id="Inventory-289"><a href="#Inventory-289"><span class="linenos">289</span></a><span class="sd">        :type url: str</span>
</span><span id="Inventory-290"><a href="#Inventory-290"><span class="linenos">290</span></a><span class="sd">        :return: The loaded ObsPy inventory object.</span>
</span><span id="Inventory-291"><a href="#Inventory-291"><span class="linenos">291</span></a><span class="sd">        :rtype: obspy.core.inventory.Inventory</span>
</span><span id="Inventory-292"><a href="#Inventory-292"><span class="linenos">292</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Inventory-293"><a href="#Inventory-293"><span class="linenos">293</span></a>        <span class="c1"># Download the inventory file from the URL</span>
</span><span id="Inventory-294"><a href="#Inventory-294"><span class="linenos">294</span></a>
</span><span id="Inventory-295"><a href="#Inventory-295"><span class="linenos">295</span></a>        <span class="n">inventory_data</span> <span class="o">=</span> <span class="n">download_file_from_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span><span id="Inventory-296"><a href="#Inventory-296"><span class="linenos">296</span></a>
</span><span id="Inventory-297"><a href="#Inventory-297"><span class="linenos">297</span></a>        <span class="c1"># Save the inventory data to a temporary file</span>
</span><span id="Inventory-298"><a href="#Inventory-298"><span class="linenos">298</span></a>        <span class="k">with</span> <span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="n">delete</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="k">as</span> <span class="n">temp_file</span><span class="p">:</span>
</span><span id="Inventory-299"><a href="#Inventory-299"><span class="linenos">299</span></a>            <span class="n">temp_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">inventory_data</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</span><span id="Inventory-300"><a href="#Inventory-300"><span class="linenos">300</span></a>            <span class="n">temp_file</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span><span id="Inventory-301"><a href="#Inventory-301"><span class="linenos">301</span></a>
</span><span id="Inventory-302"><a href="#Inventory-302"><span class="linenos">302</span></a>            <span class="c1"># Load the inventory from the temporary file</span>
</span><span id="Inventory-303"><a href="#Inventory-303"><span class="linenos">303</span></a>            <span class="n">file_format</span> <span class="o">=</span> <span class="s1">&#39;STATIONXML&#39;</span>  <span class="c1"># Replace with the correct format</span>
</span><span id="Inventory-304"><a href="#Inventory-304"><span class="linenos">304</span></a>            <span class="n">inventory</span> <span class="o">=</span> <span class="n">read_inventory</span><span class="p">(</span><span class="n">temp_file</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="n">file_format</span><span class="p">)</span>
</span><span id="Inventory-305"><a href="#Inventory-305"><span class="linenos">305</span></a>
</span><span id="Inventory-306"><a href="#Inventory-306"><span class="linenos">306</span></a>        <span class="c1"># Remove the temporary file after reading the inventory</span>
</span><span id="Inventory-307"><a href="#Inventory-307"><span class="linenos">307</span></a>        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">temp_file</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</span><span id="Inventory-308"><a href="#Inventory-308"><span class="linenos">308</span></a>
</span><span id="Inventory-309"><a href="#Inventory-309"><span class="linenos">309</span></a>        <span class="k">return</span> <span class="n">inventory</span>
</span><span id="Inventory-310"><a href="#Inventory-310"><span class="linenos">310</span></a>
</span><span id="Inventory-311"><a href="#Inventory-311"><span class="linenos">311</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Inventory-312"><a href="#Inventory-312"><span class="linenos">312</span></a>    <span class="k">def</span> <span class="nf">from_bytes</span><span class="p">(</span><span class="n">byte_string</span><span class="p">):</span>
</span><span id="Inventory-313"><a href="#Inventory-313"><span class="linenos">313</span></a>        <span class="n">file_in</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">byte_string</span><span class="p">)</span>
</span><span id="Inventory-314"><a href="#Inventory-314"><span class="linenos">314</span></a>        <span class="n">file_in</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span><span id="Inventory-315"><a href="#Inventory-315"><span class="linenos">315</span></a>        <span class="n">file_in</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="Inventory-316"><a href="#Inventory-316"><span class="linenos">316</span></a>        <span class="k">return</span> <span class="n">read_inventory</span><span class="p">(</span><span class="n">file_in</span><span class="p">)</span>
</span><span id="Inventory-317"><a href="#Inventory-317"><span class="linenos">317</span></a>
</span><span id="Inventory-318"><a href="#Inventory-318"><span class="linenos">318</span></a>    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path_or_file_obj</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;stationxml&#39;</span><span class="p">,</span>
</span><span id="Inventory-319"><a href="#Inventory-319"><span class="linenos">319</span></a>              <span class="n">nsmap</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;mq&#39;</span><span class="p">:</span> <span class="n">namespace</span><span class="p">},</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Inventory-320"><a href="#Inventory-320"><span class="linenos">320</span></a>        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">path_or_file_obj</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span>
</span><span id="Inventory-321"><a href="#Inventory-321"><span class="linenos">321</span></a>                             <span class="n">nsmap</span><span class="o">=</span><span class="n">nsmap</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Inventory-322"><a href="#Inventory-322"><span class="linenos">322</span></a>
</span><span id="Inventory-323"><a href="#Inventory-323"><span class="linenos">323</span></a>    <span class="k">def</span> <span class="nf">get_station</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sta</span><span class="p">):</span>
</span><span id="Inventory-324"><a href="#Inventory-324"><span class="linenos">324</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">sta</span><span class="p">)</span>
</span><span id="Inventory-325"><a href="#Inventory-325"><span class="linenos">325</span></a>
</span><span id="Inventory-326"><a href="#Inventory-326"><span class="linenos">326</span></a>    <span class="k">def</span> <span class="nf">get_channel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sta</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cha</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Inventory-327"><a href="#Inventory-327"><span class="linenos">327</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">sta</span><span class="p">,</span> <span class="n">cha_code</span><span class="o">=</span><span class="n">cha</span><span class="p">)</span>
</span><span id="Inventory-328"><a href="#Inventory-328"><span class="linenos">328</span></a>
</span><span id="Inventory-329"><a href="#Inventory-329"><span class="linenos">329</span></a>    <span class="k">def</span> <span class="nf">select_instrument</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instruments</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Inventory-330"><a href="#Inventory-330"><span class="linenos">330</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">instruments</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="Inventory-331"><a href="#Inventory-331"><span class="linenos">331</span></a>            <span class="k">for</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">instruments</span><span class="p">:</span>
</span><span id="Inventory-332"><a href="#Inventory-332"><span class="linenos">332</span></a>                <span class="k">for</span> <span class="n">obj_site</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">instruments</span><span class="p">:</span>
</span><span id="Inventory-333"><a href="#Inventory-333"><span class="linenos">333</span></a>                    <span class="k">if</span> <span class="n">location</span><span class="o">.</span><span class="n">code</span> <span class="o">==</span> <span class="n">obj_site</span><span class="o">.</span><span class="n">code</span><span class="p">:</span>
</span><span id="Inventory-334"><a href="#Inventory-334"><span class="linenos">334</span></a>                        <span class="k">yield</span> <span class="n">obj_site</span>
</span><span id="Inventory-335"><a href="#Inventory-335"><span class="linenos">335</span></a>
</span><span id="Inventory-336"><a href="#Inventory-336"><span class="linenos">336</span></a>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">instruments</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="Inventory-337"><a href="#Inventory-337"><span class="linenos">337</span></a>            <span class="n">location</span> <span class="o">=</span> <span class="n">instruments</span>
</span><span id="Inventory-338"><a href="#Inventory-338"><span class="linenos">338</span></a>            <span class="k">for</span> <span class="n">obj_site</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">instruments</span><span class="p">:</span>
</span><span id="Inventory-339"><a href="#Inventory-339"><span class="linenos">339</span></a>                <span class="k">if</span> <span class="n">location</span><span class="o">.</span><span class="n">code</span> <span class="o">==</span> <span class="n">obj_site</span><span class="o">.</span><span class="n">code</span><span class="p">:</span>
</span><span id="Inventory-340"><a href="#Inventory-340"><span class="linenos">340</span></a>                    <span class="k">return</span> <span class="n">obj_site</span>
</span><span id="Inventory-341"><a href="#Inventory-341"><span class="linenos">341</span></a>
</span><span id="Inventory-342"><a href="#Inventory-342"><span class="linenos">342</span></a>    <span class="k">def</span> <span class="nf">to_bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Inventory-343"><a href="#Inventory-343"><span class="linenos">343</span></a>
</span><span id="Inventory-344"><a href="#Inventory-344"><span class="linenos">344</span></a>        <span class="n">file_out</span> <span class="o">=</span> <span class="n">BytesIO</span><span class="p">()</span>
</span><span id="Inventory-345"><a href="#Inventory-345"><span class="linenos">345</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">file_out</span><span class="p">)</span>
</span><span id="Inventory-346"><a href="#Inventory-346"><span class="linenos">346</span></a>        <span class="k">return</span> <span class="n">file_out</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>
</span><span id="Inventory-347"><a href="#Inventory-347"><span class="linenos">347</span></a>
</span><span id="Inventory-348"><a href="#Inventory-348"><span class="linenos">348</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="Inventory-349"><a href="#Inventory-349"><span class="linenos">349</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instruments</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">instruments</span><span class="p">)</span>
</span><span id="Inventory-350"><a href="#Inventory-350"><span class="linenos">350</span></a>
</span><span id="Inventory-351"><a href="#Inventory-351"><span class="linenos">351</span></a>    <span class="c1"># def write(self, filename):</span>
</span><span id="Inventory-352"><a href="#Inventory-352"><span class="linenos">352</span></a>    <span class="c1">#     super().write(self, filename, format=&#39;stationxml&#39;, nsmap={ns: ns})</span>
</span><span id="Inventory-353"><a href="#Inventory-353"><span class="linenos">353</span></a>
</span><span id="Inventory-354"><a href="#Inventory-354"><span class="linenos">354</span></a>    <span class="nd">@property</span>
</span><span id="Inventory-355"><a href="#Inventory-355"><span class="linenos">355</span></a>    <span class="k">def</span> <span class="nf">instruments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Inventory-356"><a href="#Inventory-356"><span class="linenos">356</span></a>        <span class="n">instruments</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Inventory-357"><a href="#Inventory-357"><span class="linenos">357</span></a>        <span class="k">for</span> <span class="n">network</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="p">:</span>
</span><span id="Inventory-358"><a href="#Inventory-358"><span class="linenos">358</span></a>            <span class="k">for</span> <span class="n">station</span> <span class="ow">in</span> <span class="n">network</span><span class="o">.</span><span class="n">stations</span><span class="p">:</span>
</span><span id="Inventory-359"><a href="#Inventory-359"><span class="linenos">359</span></a>                <span class="k">for</span> <span class="n">instrument</span> <span class="ow">in</span> <span class="n">station</span><span class="o">.</span><span class="n">instruments</span><span class="p">:</span>
</span><span id="Inventory-360"><a href="#Inventory-360"><span class="linenos">360</span></a>                    <span class="n">instruments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">instrument</span><span class="p">)</span>
</span><span id="Inventory-361"><a href="#Inventory-361"><span class="linenos">361</span></a>
</span><span id="Inventory-362"><a href="#Inventory-362"><span class="linenos">362</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">instruments</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>The root object of the
<code>~obspy.core.inventory.network.Network</code>->
<code>~obspy.core.inventory.station.Station</code>->
<code>~obspy.core.inventory.channel.Channel</code> hierarchy.</p>

<p>In essence just a container for one or more networks.</p>
</div>


                            <div id="Inventory.from_obspy_inventory_object" class="classattr">
                                        <input id="Inventory.from_obspy_inventory_object-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">from_obspy_inventory_object</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">cls</span>,</span><span class="param">	<span class="n">obspy_inventory</span>,</span><span class="param">	<span class="n">xy_from_lat_lon</span><span class="o">=</span><span class="kc">False</span>,</span><span class="param">	<span class="n">input_projection</span><span class="o">=</span><span class="mi">4326</span>,</span><span class="param">	<span class="n">output_projection</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Inventory.from_obspy_inventory_object-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Inventory.from_obspy_inventory_object"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Inventory.from_obspy_inventory_object-261"><a href="#Inventory.from_obspy_inventory_object-261"><span class="linenos">261</span></a>    <span class="nd">@classmethod</span>
</span><span id="Inventory.from_obspy_inventory_object-262"><a href="#Inventory.from_obspy_inventory_object-262"><span class="linenos">262</span></a>    <span class="k">def</span> <span class="nf">from_obspy_inventory_object</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">obspy_inventory</span><span class="p">,</span>
</span><span id="Inventory.from_obspy_inventory_object-263"><a href="#Inventory.from_obspy_inventory_object-263"><span class="linenos">263</span></a>                                    <span class="n">xy_from_lat_lon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="Inventory.from_obspy_inventory_object-264"><a href="#Inventory.from_obspy_inventory_object-264"><span class="linenos">264</span></a>                                    <span class="n">input_projection</span><span class="o">=</span><span class="mi">4326</span><span class="p">,</span>
</span><span id="Inventory.from_obspy_inventory_object-265"><a href="#Inventory.from_obspy_inventory_object-265"><span class="linenos">265</span></a>                                    <span class="n">output_projection</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Inventory.from_obspy_inventory_object-266"><a href="#Inventory.from_obspy_inventory_object-266"><span class="linenos">266</span></a>
</span><span id="Inventory.from_obspy_inventory_object-267"><a href="#Inventory.from_obspy_inventory_object-267"><span class="linenos">267</span></a>        <span class="n">source</span> <span class="o">=</span> <span class="n">ns</span>  <span class="c1"># Network ID of the institution sending</span>
</span><span id="Inventory.from_obspy_inventory_object-268"><a href="#Inventory.from_obspy_inventory_object-268"><span class="linenos">268</span></a>        <span class="c1"># the message.</span>
</span><span id="Inventory.from_obspy_inventory_object-269"><a href="#Inventory.from_obspy_inventory_object-269"><span class="linenos">269</span></a>
</span><span id="Inventory.from_obspy_inventory_object-270"><a href="#Inventory.from_obspy_inventory_object-270"><span class="linenos">270</span></a>        <span class="n">inv</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">([],</span> <span class="n">ns</span><span class="p">)</span>
</span><span id="Inventory.from_obspy_inventory_object-271"><a href="#Inventory.from_obspy_inventory_object-271"><span class="linenos">271</span></a>        <span class="n">inv</span><span class="o">.</span><span class="n">networks</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Inventory.from_obspy_inventory_object-272"><a href="#Inventory.from_obspy_inventory_object-272"><span class="linenos">272</span></a>        <span class="k">for</span> <span class="n">network</span> <span class="ow">in</span> <span class="n">obspy_inventory</span><span class="o">.</span><span class="n">networks</span><span class="p">:</span>
</span><span id="Inventory.from_obspy_inventory_object-273"><a href="#Inventory.from_obspy_inventory_object-273"><span class="linenos">273</span></a>            <span class="n">inv</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Network</span><span class="o">.</span><span class="n">from_obspy_network</span><span class="p">(</span><span class="n">network</span><span class="p">,</span>
</span><span id="Inventory.from_obspy_inventory_object-274"><a href="#Inventory.from_obspy_inventory_object-274"><span class="linenos">274</span></a>                                                           <span class="n">xy_from_lat_lon</span><span class="o">=</span>
</span><span id="Inventory.from_obspy_inventory_object-275"><a href="#Inventory.from_obspy_inventory_object-275"><span class="linenos">275</span></a>                                                           <span class="n">xy_from_lat_lon</span><span class="p">,</span>
</span><span id="Inventory.from_obspy_inventory_object-276"><a href="#Inventory.from_obspy_inventory_object-276"><span class="linenos">276</span></a>                                                           <span class="n">input_projection</span><span class="o">=</span>
</span><span id="Inventory.from_obspy_inventory_object-277"><a href="#Inventory.from_obspy_inventory_object-277"><span class="linenos">277</span></a>                                                           <span class="n">input_projection</span><span class="p">,</span>
</span><span id="Inventory.from_obspy_inventory_object-278"><a href="#Inventory.from_obspy_inventory_object-278"><span class="linenos">278</span></a>                                                           <span class="n">output_projection</span><span class="o">=</span>
</span><span id="Inventory.from_obspy_inventory_object-279"><a href="#Inventory.from_obspy_inventory_object-279"><span class="linenos">279</span></a>                                                           <span class="n">output_projection</span><span class="p">))</span>
</span><span id="Inventory.from_obspy_inventory_object-280"><a href="#Inventory.from_obspy_inventory_object-280"><span class="linenos">280</span></a>
</span><span id="Inventory.from_obspy_inventory_object-281"><a href="#Inventory.from_obspy_inventory_object-281"><span class="linenos">281</span></a>        <span class="k">return</span> <span class="n">inv</span>
</span></pre></div>


    

                            </div>
                            <div id="Inventory.from_url" class="classattr">
                                        <input id="Inventory.from_url-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">from_url</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">url</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Inventory.from_url-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Inventory.from_url"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Inventory.from_url-283"><a href="#Inventory.from_url-283"><span class="linenos">283</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Inventory.from_url-284"><a href="#Inventory.from_url-284"><span class="linenos">284</span></a>    <span class="k">def</span> <span class="nf">from_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
</span><span id="Inventory.from_url-285"><a href="#Inventory.from_url-285"><span class="linenos">285</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Inventory.from_url-286"><a href="#Inventory.from_url-286"><span class="linenos">286</span></a><span class="sd">        Load an ObsPy inventory object from a URL.</span>
</span><span id="Inventory.from_url-287"><a href="#Inventory.from_url-287"><span class="linenos">287</span></a>
</span><span id="Inventory.from_url-288"><a href="#Inventory.from_url-288"><span class="linenos">288</span></a><span class="sd">        :param url: The URL to download the inventory file from.</span>
</span><span id="Inventory.from_url-289"><a href="#Inventory.from_url-289"><span class="linenos">289</span></a><span class="sd">        :type url: str</span>
</span><span id="Inventory.from_url-290"><a href="#Inventory.from_url-290"><span class="linenos">290</span></a><span class="sd">        :return: The loaded ObsPy inventory object.</span>
</span><span id="Inventory.from_url-291"><a href="#Inventory.from_url-291"><span class="linenos">291</span></a><span class="sd">        :rtype: obspy.core.inventory.Inventory</span>
</span><span id="Inventory.from_url-292"><a href="#Inventory.from_url-292"><span class="linenos">292</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Inventory.from_url-293"><a href="#Inventory.from_url-293"><span class="linenos">293</span></a>        <span class="c1"># Download the inventory file from the URL</span>
</span><span id="Inventory.from_url-294"><a href="#Inventory.from_url-294"><span class="linenos">294</span></a>
</span><span id="Inventory.from_url-295"><a href="#Inventory.from_url-295"><span class="linenos">295</span></a>        <span class="n">inventory_data</span> <span class="o">=</span> <span class="n">download_file_from_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span><span id="Inventory.from_url-296"><a href="#Inventory.from_url-296"><span class="linenos">296</span></a>
</span><span id="Inventory.from_url-297"><a href="#Inventory.from_url-297"><span class="linenos">297</span></a>        <span class="c1"># Save the inventory data to a temporary file</span>
</span><span id="Inventory.from_url-298"><a href="#Inventory.from_url-298"><span class="linenos">298</span></a>        <span class="k">with</span> <span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="n">delete</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="k">as</span> <span class="n">temp_file</span><span class="p">:</span>
</span><span id="Inventory.from_url-299"><a href="#Inventory.from_url-299"><span class="linenos">299</span></a>            <span class="n">temp_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">inventory_data</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</span><span id="Inventory.from_url-300"><a href="#Inventory.from_url-300"><span class="linenos">300</span></a>            <span class="n">temp_file</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span><span id="Inventory.from_url-301"><a href="#Inventory.from_url-301"><span class="linenos">301</span></a>
</span><span id="Inventory.from_url-302"><a href="#Inventory.from_url-302"><span class="linenos">302</span></a>            <span class="c1"># Load the inventory from the temporary file</span>
</span><span id="Inventory.from_url-303"><a href="#Inventory.from_url-303"><span class="linenos">303</span></a>            <span class="n">file_format</span> <span class="o">=</span> <span class="s1">&#39;STATIONXML&#39;</span>  <span class="c1"># Replace with the correct format</span>
</span><span id="Inventory.from_url-304"><a href="#Inventory.from_url-304"><span class="linenos">304</span></a>            <span class="n">inventory</span> <span class="o">=</span> <span class="n">read_inventory</span><span class="p">(</span><span class="n">temp_file</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="n">file_format</span><span class="p">)</span>
</span><span id="Inventory.from_url-305"><a href="#Inventory.from_url-305"><span class="linenos">305</span></a>
</span><span id="Inventory.from_url-306"><a href="#Inventory.from_url-306"><span class="linenos">306</span></a>        <span class="c1"># Remove the temporary file after reading the inventory</span>
</span><span id="Inventory.from_url-307"><a href="#Inventory.from_url-307"><span class="linenos">307</span></a>        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">temp_file</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</span><span id="Inventory.from_url-308"><a href="#Inventory.from_url-308"><span class="linenos">308</span></a>
</span><span id="Inventory.from_url-309"><a href="#Inventory.from_url-309"><span class="linenos">309</span></a>        <span class="k">return</span> <span class="n">inventory</span>
</span></pre></div>


            <div class="docstring"><p>Load an ObsPy inventory object from a URL.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>url</strong>:  The URL to download the inventory file from.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The loaded ObsPy inventory object.</p>
</blockquote>
</div>


                            </div>
                            <div id="Inventory.from_bytes" class="classattr">
                                        <input id="Inventory.from_bytes-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">from_bytes</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">byte_string</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Inventory.from_bytes-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Inventory.from_bytes"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Inventory.from_bytes-311"><a href="#Inventory.from_bytes-311"><span class="linenos">311</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Inventory.from_bytes-312"><a href="#Inventory.from_bytes-312"><span class="linenos">312</span></a>    <span class="k">def</span> <span class="nf">from_bytes</span><span class="p">(</span><span class="n">byte_string</span><span class="p">):</span>
</span><span id="Inventory.from_bytes-313"><a href="#Inventory.from_bytes-313"><span class="linenos">313</span></a>        <span class="n">file_in</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">byte_string</span><span class="p">)</span>
</span><span id="Inventory.from_bytes-314"><a href="#Inventory.from_bytes-314"><span class="linenos">314</span></a>        <span class="n">file_in</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span><span id="Inventory.from_bytes-315"><a href="#Inventory.from_bytes-315"><span class="linenos">315</span></a>        <span class="n">file_in</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="Inventory.from_bytes-316"><a href="#Inventory.from_bytes-316"><span class="linenos">316</span></a>        <span class="k">return</span> <span class="n">read_inventory</span><span class="p">(</span><span class="n">file_in</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="Inventory.write" class="classattr">
                                        <input id="Inventory.write-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">write</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">path_or_file_obj</span>,</span><span class="param">	<span class="o">*</span><span class="n">args</span>,</span><span class="param">	<span class="nb">format</span><span class="o">=</span><span class="s1">&#39;stationxml&#39;</span>,</span><span class="param">	<span class="n">nsmap</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;mq&#39;</span><span class="p">:</span> <span class="s1">&#39;https://microquake.ai/xml/station/1&#39;</span><span class="p">}</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Inventory.write-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Inventory.write"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Inventory.write-318"><a href="#Inventory.write-318"><span class="linenos">318</span></a>    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path_or_file_obj</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;stationxml&#39;</span><span class="p">,</span>
</span><span id="Inventory.write-319"><a href="#Inventory.write-319"><span class="linenos">319</span></a>              <span class="n">nsmap</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;mq&#39;</span><span class="p">:</span> <span class="n">namespace</span><span class="p">},</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Inventory.write-320"><a href="#Inventory.write-320"><span class="linenos">320</span></a>        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">path_or_file_obj</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span>
</span><span id="Inventory.write-321"><a href="#Inventory.write-321"><span class="linenos">321</span></a>                             <span class="n">nsmap</span><span class="o">=</span><span class="n">nsmap</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Writes the inventory object to a file or file-like object in
the specified format.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>path_or_file_object</strong>:  File name or file-like object to be written
to.</li>
<li><strong>format</strong>:  The file format to use (e.g. <code>"STATIONXML"</code>). See the
<code>Supported Formats</code>_ section below for a list of supported formats.</li>
<li><strong>kwargs</strong>:  Additional keyword arguments passed to the underlying
plugin's writer method.</li>
</ul>

<p>.. rubric:: Example</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">obspy</span> <span class="kn">import</span> <span class="n">read_inventory</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inventory</span> <span class="o">=</span> <span class="n">read_inventory</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inventory</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;example.xml&quot;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;STATIONXML&quot;</span><span class="p">)</span>  <span class="c1"># doctest: +SKIP</span>
</code></pre>
</div>

<p>.. rubric:: _<code>Supported Formats</code></p>

<p>Additional ObsPy modules extend the parameters of the
<code>~obspy.core.inventory.inventory.Inventory.write()()</code> method. The
following table summarizes all known formats with write capability
currently available for ObsPy.</p>

<p>Please refer to the <code>Linked Function Call</code>_ of each module for any
extra options available.</p>

<p>========== ========================== ==================================================
Format     Used Module                _<code>Linked Function Call</code> <br />
========== ========================== ==================================================
CSS        <code>obspy.io.css</code>        <code>obspy.io.css.station._write_css()</code> <br />
KML        <code>obspy.io.kml</code>        <code>obspy.io.kml.core._write_kml()</code> <br />
SACPZ      <code>obspy.io.sac</code>        <code>obspy.io.sac.sacpz._write_sacpz()</code> <br />
SHAPEFILE  <code>obspy.io.shapefile</code>  <code>obspy.io.shapefile.core._write_shapefile()</code> <br />
STATIONTXT <code>obspy.io.stationtxt</code> <code>obspy.io.stationtxt.core._write_stationtxt()</code>
STATIONXML <code>obspy.io.stationxml</code> <code>obspy.io.stationxml.core._write_stationxml()</code>
========== ========================== ==================================================</p>
</div>


                            </div>
                            <div id="Inventory.get_station" class="classattr">
                                        <input id="Inventory.get_station-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_station</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">sta</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Inventory.get_station-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Inventory.get_station"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Inventory.get_station-323"><a href="#Inventory.get_station-323"><span class="linenos">323</span></a>    <span class="k">def</span> <span class="nf">get_station</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sta</span><span class="p">):</span>
</span><span id="Inventory.get_station-324"><a href="#Inventory.get_station-324"><span class="linenos">324</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">sta</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="Inventory.get_channel" class="classattr">
                                        <input id="Inventory.get_channel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_channel</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">sta</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">cha</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Inventory.get_channel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Inventory.get_channel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Inventory.get_channel-326"><a href="#Inventory.get_channel-326"><span class="linenos">326</span></a>    <span class="k">def</span> <span class="nf">get_channel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sta</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cha</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Inventory.get_channel-327"><a href="#Inventory.get_channel-327"><span class="linenos">327</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">sta</span><span class="p">,</span> <span class="n">cha_code</span><span class="o">=</span><span class="n">cha</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="Inventory.select_instrument" class="classattr">
                                        <input id="Inventory.select_instrument-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">select_instrument</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">instruments</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Inventory.select_instrument-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Inventory.select_instrument"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Inventory.select_instrument-329"><a href="#Inventory.select_instrument-329"><span class="linenos">329</span></a>    <span class="k">def</span> <span class="nf">select_instrument</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instruments</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Inventory.select_instrument-330"><a href="#Inventory.select_instrument-330"><span class="linenos">330</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">instruments</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="Inventory.select_instrument-331"><a href="#Inventory.select_instrument-331"><span class="linenos">331</span></a>            <span class="k">for</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">instruments</span><span class="p">:</span>
</span><span id="Inventory.select_instrument-332"><a href="#Inventory.select_instrument-332"><span class="linenos">332</span></a>                <span class="k">for</span> <span class="n">obj_site</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">instruments</span><span class="p">:</span>
</span><span id="Inventory.select_instrument-333"><a href="#Inventory.select_instrument-333"><span class="linenos">333</span></a>                    <span class="k">if</span> <span class="n">location</span><span class="o">.</span><span class="n">code</span> <span class="o">==</span> <span class="n">obj_site</span><span class="o">.</span><span class="n">code</span><span class="p">:</span>
</span><span id="Inventory.select_instrument-334"><a href="#Inventory.select_instrument-334"><span class="linenos">334</span></a>                        <span class="k">yield</span> <span class="n">obj_site</span>
</span><span id="Inventory.select_instrument-335"><a href="#Inventory.select_instrument-335"><span class="linenos">335</span></a>
</span><span id="Inventory.select_instrument-336"><a href="#Inventory.select_instrument-336"><span class="linenos">336</span></a>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">instruments</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="Inventory.select_instrument-337"><a href="#Inventory.select_instrument-337"><span class="linenos">337</span></a>            <span class="n">location</span> <span class="o">=</span> <span class="n">instruments</span>
</span><span id="Inventory.select_instrument-338"><a href="#Inventory.select_instrument-338"><span class="linenos">338</span></a>            <span class="k">for</span> <span class="n">obj_site</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">instruments</span><span class="p">:</span>
</span><span id="Inventory.select_instrument-339"><a href="#Inventory.select_instrument-339"><span class="linenos">339</span></a>                <span class="k">if</span> <span class="n">location</span><span class="o">.</span><span class="n">code</span> <span class="o">==</span> <span class="n">obj_site</span><span class="o">.</span><span class="n">code</span><span class="p">:</span>
</span><span id="Inventory.select_instrument-340"><a href="#Inventory.select_instrument-340"><span class="linenos">340</span></a>                    <span class="k">return</span> <span class="n">obj_site</span>
</span></pre></div>


    

                            </div>
                            <div id="Inventory.to_bytes" class="classattr">
                                        <input id="Inventory.to_bytes-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">to_bytes</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Inventory.to_bytes-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Inventory.to_bytes"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Inventory.to_bytes-342"><a href="#Inventory.to_bytes-342"><span class="linenos">342</span></a>    <span class="k">def</span> <span class="nf">to_bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Inventory.to_bytes-343"><a href="#Inventory.to_bytes-343"><span class="linenos">343</span></a>
</span><span id="Inventory.to_bytes-344"><a href="#Inventory.to_bytes-344"><span class="linenos">344</span></a>        <span class="n">file_out</span> <span class="o">=</span> <span class="n">BytesIO</span><span class="p">()</span>
</span><span id="Inventory.to_bytes-345"><a href="#Inventory.to_bytes-345"><span class="linenos">345</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">file_out</span><span class="p">)</span>
</span><span id="Inventory.to_bytes-346"><a href="#Inventory.to_bytes-346"><span class="linenos">346</span></a>        <span class="k">return</span> <span class="n">file_out</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>
</span></pre></div>


    

                            </div>
                            <div id="Inventory.instruments" class="classattr">
                                <div class="attr variable">
            <span class="name">instruments</span>

        
    </div>
    <a class="headerlink" href="#Inventory.instruments"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>obspy.core.inventory.inventory.Inventory</dt>
                                <dd id="Inventory.__init__" class="function">Inventory</dd>
                <dd id="Inventory.networks" class="variable">networks</dd>
                <dd id="Inventory.source" class="variable">source</dd>
                <dd id="Inventory.sender" class="variable">sender</dd>
                <dd id="Inventory.module" class="variable">module</dd>
                <dd id="Inventory.module_uri" class="variable">module_uri</dd>
                <dd id="Inventory.get_contents" class="function">get_contents</dd>
                <dd id="Inventory.extend" class="function">extend</dd>
                <dd id="Inventory.copy" class="function">copy</dd>
                <dd id="Inventory.get_response" class="function">get_response</dd>
                <dd id="Inventory.get_channel_metadata" class="function">get_channel_metadata</dd>
                <dd id="Inventory.get_coordinates" class="function">get_coordinates</dd>
                <dd id="Inventory.get_orientation" class="function">get_orientation</dd>
                <dd id="Inventory.select" class="function">select</dd>
                <dd id="Inventory.remove" class="function">remove</dd>
                <dd id="Inventory.plot" class="function">plot</dd>
                <dd id="Inventory.plot_response" class="function">plot_response</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="Network">
                            <input id="Network-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Network</span><wbr>(<span class="base">obspy.core.inventory.network.Network</span>):

                <label class="view-source-button" for="Network-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Network"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Network-365"><a href="#Network-365"><span class="linenos">365</span></a><span class="k">class</span> <span class="nc">Network</span><span class="p">(</span><span class="n">inventory</span><span class="o">.</span><span class="n">Network</span><span class="p">):</span>
</span><span id="Network-366"><a href="#Network-366"><span class="linenos">366</span></a>    <span class="vm">__doc__</span> <span class="o">=</span> <span class="n">inventory</span><span class="o">.</span><span class="n">Network</span><span class="o">.</span><span class="vm">__doc__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;obspy&#39;</span><span class="p">,</span> <span class="n">ns</span><span class="p">)</span>
</span><span id="Network-367"><a href="#Network-367"><span class="linenos">367</span></a>
</span><span id="Network-368"><a href="#Network-368"><span class="linenos">368</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Network-369"><a href="#Network-369"><span class="linenos">369</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Network-370"><a href="#Network-370"><span class="linenos">370</span></a>
</span><span id="Network-371"><a href="#Network-371"><span class="linenos">371</span></a>    <span class="nd">@classmethod</span>
</span><span id="Network-372"><a href="#Network-372"><span class="linenos">372</span></a>    <span class="k">def</span> <span class="nf">from_obspy_network</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">obspy_network</span><span class="p">,</span> <span class="n">xy_from_lat_lon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="Network-373"><a href="#Network-373"><span class="linenos">373</span></a>                           <span class="n">input_projection</span><span class="o">=</span><span class="mi">4326</span><span class="p">,</span> <span class="n">output_projection</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Network-374"><a href="#Network-374"><span class="linenos">374</span></a>
</span><span id="Network-375"><a href="#Network-375"><span class="linenos">375</span></a>        <span class="n">net</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">obspy_network</span><span class="o">.</span><span class="n">code</span><span class="p">)</span>
</span><span id="Network-376"><a href="#Network-376"><span class="linenos">376</span></a>
</span><span id="Network-377"><a href="#Network-377"><span class="linenos">377</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">obspy_network</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Network-378"><a href="#Network-378"><span class="linenos">378</span></a>            <span class="k">if</span> <span class="s1">&#39;stations&#39;</span> <span class="ow">in</span> <span class="n">key</span><span class="p">:</span>
</span><span id="Network-379"><a href="#Network-379"><span class="linenos">379</span></a>                <span class="n">net</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Network-380"><a href="#Network-380"><span class="linenos">380</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Network-381"><a href="#Network-381"><span class="linenos">381</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="Network-382"><a href="#Network-382"><span class="linenos">382</span></a>                    <span class="n">net</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">obspy_network</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="Network-383"><a href="#Network-383"><span class="linenos">383</span></a>                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="Network-384"><a href="#Network-384"><span class="linenos">384</span></a>                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="Network-385"><a href="#Network-385"><span class="linenos">385</span></a>
</span><span id="Network-386"><a href="#Network-386"><span class="linenos">386</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">station</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">obspy_network</span><span class="o">.</span><span class="n">stations</span><span class="p">):</span>
</span><span id="Network-387"><a href="#Network-387"><span class="linenos">387</span></a>            <span class="n">net</span><span class="o">.</span><span class="n">stations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Station</span><span class="o">.</span><span class="n">from_obspy_station</span><span class="p">(</span><span class="n">station</span><span class="p">,</span>
</span><span id="Network-388"><a href="#Network-388"><span class="linenos">388</span></a>                                                           <span class="n">xy_from_lat_lon</span><span class="p">,</span>
</span><span id="Network-389"><a href="#Network-389"><span class="linenos">389</span></a>                                                           <span class="n">input_projection</span><span class="o">=</span>
</span><span id="Network-390"><a href="#Network-390"><span class="linenos">390</span></a>                                                           <span class="n">input_projection</span><span class="p">,</span>
</span><span id="Network-391"><a href="#Network-391"><span class="linenos">391</span></a>                                                           <span class="n">output_projection</span><span class="o">=</span>
</span><span id="Network-392"><a href="#Network-392"><span class="linenos">392</span></a>                                                           <span class="n">output_projection</span><span class="p">))</span>
</span><span id="Network-393"><a href="#Network-393"><span class="linenos">393</span></a>
</span><span id="Network-394"><a href="#Network-394"><span class="linenos">394</span></a>        <span class="k">return</span> <span class="n">net</span>
</span><span id="Network-395"><a href="#Network-395"><span class="linenos">395</span></a>
</span><span id="Network-396"><a href="#Network-396"><span class="linenos">396</span></a>    <span class="k">def</span> <span class="nf">get_grid_extent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">padding_fraction</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">ignore_stations</span><span class="o">=</span><span class="p">[],</span>
</span><span id="Network-397"><a href="#Network-397"><span class="linenos">397</span></a>                        <span class="n">ignore_sites</span><span class="o">=</span><span class="p">[]):</span>
</span><span id="Network-398"><a href="#Network-398"><span class="linenos">398</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Network-399"><a href="#Network-399"><span class="linenos">399</span></a><span class="sd">        return the extents of a grid encompassing all sensors comprised in the</span>
</span><span id="Network-400"><a href="#Network-400"><span class="linenos">400</span></a><span class="sd">        network</span>
</span><span id="Network-401"><a href="#Network-401"><span class="linenos">401</span></a><span class="sd">        :param padding_fraction: buffer to add around the stations</span>
</span><span id="Network-402"><a href="#Network-402"><span class="linenos">402</span></a><span class="sd">        :param ignore_stations: list of stations to exclude from the</span>
</span><span id="Network-403"><a href="#Network-403"><span class="linenos">403</span></a><span class="sd">        calculation of the grid extents</span>
</span><span id="Network-404"><a href="#Network-404"><span class="linenos">404</span></a><span class="sd">        :param ignore_sites: list of location to exclude from the calculation of</span>
</span><span id="Network-405"><a href="#Network-405"><span class="linenos">405</span></a><span class="sd">        the grid extents</span>
</span><span id="Network-406"><a href="#Network-406"><span class="linenos">406</span></a><span class="sd">        :type ignore_stations: list</span>
</span><span id="Network-407"><a href="#Network-407"><span class="linenos">407</span></a><span class="sd">        :return: return the lower and upper corners</span>
</span><span id="Network-408"><a href="#Network-408"><span class="linenos">408</span></a><span class="sd">        :rtype: dict</span>
</span><span id="Network-409"><a href="#Network-409"><span class="linenos">409</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Network-410"><a href="#Network-410"><span class="linenos">410</span></a>
</span><span id="Network-411"><a href="#Network-411"><span class="linenos">411</span></a>        <span class="n">xs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Network-412"><a href="#Network-412"><span class="linenos">412</span></a>        <span class="n">ys</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Network-413"><a href="#Network-413"><span class="linenos">413</span></a>        <span class="n">zs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Network-414"><a href="#Network-414"><span class="linenos">414</span></a>
</span><span id="Network-415"><a href="#Network-415"><span class="linenos">415</span></a>        <span class="n">coordinates</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Network-416"><a href="#Network-416"><span class="linenos">416</span></a>        <span class="k">for</span> <span class="n">station</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stations</span><span class="p">:</span>
</span><span id="Network-417"><a href="#Network-417"><span class="linenos">417</span></a>            <span class="k">if</span> <span class="n">station</span><span class="o">.</span><span class="n">code</span> <span class="ow">in</span> <span class="n">ignore_stations</span><span class="p">:</span>
</span><span id="Network-418"><a href="#Network-418"><span class="linenos">418</span></a>                <span class="k">continue</span>
</span><span id="Network-419"><a href="#Network-419"><span class="linenos">419</span></a>            <span class="k">for</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">station</span><span class="o">.</span><span class="n">instruments</span><span class="p">:</span>
</span><span id="Network-420"><a href="#Network-420"><span class="linenos">420</span></a>                <span class="k">if</span> <span class="n">location</span><span class="o">.</span><span class="n">code</span> <span class="ow">in</span> <span class="n">ignore_sites</span><span class="p">:</span>
</span><span id="Network-421"><a href="#Network-421"><span class="linenos">421</span></a>                    <span class="k">continue</span>
</span><span id="Network-422"><a href="#Network-422"><span class="linenos">422</span></a>                <span class="n">coordinates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">location</span><span class="o">.</span><span class="n">loc</span><span class="p">)</span>
</span><span id="Network-423"><a href="#Network-423"><span class="linenos">423</span></a>
</span><span id="Network-424"><a href="#Network-424"><span class="linenos">424</span></a>        <span class="nb">min</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">coordinates</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="Network-425"><a href="#Network-425"><span class="linenos">425</span></a>        <span class="nb">max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">coordinates</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="Network-426"><a href="#Network-426"><span class="linenos">426</span></a>        <span class="c1"># center = min + (max - min) / 2</span>
</span><span id="Network-427"><a href="#Network-427"><span class="linenos">427</span></a>        <span class="n">center</span> <span class="o">=</span> <span class="p">(</span><span class="nb">min</span> <span class="o">+</span> <span class="nb">max</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
</span><span id="Network-428"><a href="#Network-428"><span class="linenos">428</span></a>        <span class="n">d</span> <span class="o">=</span> <span class="p">(</span><span class="nb">max</span> <span class="o">-</span> <span class="nb">min</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">padding_fraction</span><span class="p">)</span>
</span><span id="Network-429"><a href="#Network-429"><span class="linenos">429</span></a>
</span><span id="Network-430"><a href="#Network-430"><span class="linenos">430</span></a>        <span class="n">c1</span> <span class="o">=</span> <span class="n">center</span> <span class="o">-</span> <span class="n">d</span> <span class="o">/</span> <span class="mi">2</span>
</span><span id="Network-431"><a href="#Network-431"><span class="linenos">431</span></a>        <span class="n">c2</span> <span class="o">=</span> <span class="n">center</span> <span class="o">+</span> <span class="n">d</span> <span class="o">/</span> <span class="mi">2</span>
</span><span id="Network-432"><a href="#Network-432"><span class="linenos">432</span></a>
</span><span id="Network-433"><a href="#Network-433"><span class="linenos">433</span></a>        <span class="k">return</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span>
</span><span id="Network-434"><a href="#Network-434"><span class="linenos">434</span></a>
</span><span id="Network-435"><a href="#Network-435"><span class="linenos">435</span></a>    <span class="nd">@property</span>
</span><span id="Network-436"><a href="#Network-436"><span class="linenos">436</span></a>    <span class="k">def</span> <span class="nf">site_coordinates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Network-437"><a href="#Network-437"><span class="linenos">437</span></a>        <span class="n">coordinates</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Network-438"><a href="#Network-438"><span class="linenos">438</span></a>        <span class="k">for</span> <span class="n">station</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stations</span><span class="p">:</span>
</span><span id="Network-439"><a href="#Network-439"><span class="linenos">439</span></a>            <span class="n">coordinates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">station</span><span class="o">.</span><span class="n">site_coordinates</span><span class="p">)</span>
</span><span id="Network-440"><a href="#Network-440"><span class="linenos">440</span></a>
</span><span id="Network-441"><a href="#Network-441"><span class="linenos">441</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">coordinates</span><span class="p">)</span>
</span><span id="Network-442"><a href="#Network-442"><span class="linenos">442</span></a>
</span><span id="Network-443"><a href="#Network-443"><span class="linenos">443</span></a>    <span class="nd">@property</span>
</span><span id="Network-444"><a href="#Network-444"><span class="linenos">444</span></a>    <span class="k">def</span> <span class="nf">station_coordinates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Network-445"><a href="#Network-445"><span class="linenos">445</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">station</span><span class="o">.</span><span class="n">loc</span> <span class="k">for</span> <span class="n">station</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stations</span><span class="p">])</span>
</span><span id="Network-446"><a href="#Network-446"><span class="linenos">446</span></a>
</span><span id="Network-447"><a href="#Network-447"><span class="linenos">447</span></a>    <span class="nd">@property</span>
</span><span id="Network-448"><a href="#Network-448"><span class="linenos">448</span></a>    <span class="k">def</span> <span class="nf">instruments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Network-449"><a href="#Network-449"><span class="linenos">449</span></a>        <span class="n">instruments</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Network-450"><a href="#Network-450"><span class="linenos">450</span></a>        <span class="k">for</span> <span class="n">station</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stations</span><span class="p">:</span>
</span><span id="Network-451"><a href="#Network-451"><span class="linenos">451</span></a>            <span class="k">for</span> <span class="n">instrument</span> <span class="ow">in</span> <span class="n">station</span><span class="o">.</span><span class="n">instruments</span><span class="p">:</span>
</span><span id="Network-452"><a href="#Network-452"><span class="linenos">452</span></a>                <span class="n">instruments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">instrument</span><span class="p">)</span>
</span><span id="Network-453"><a href="#Network-453"><span class="linenos">453</span></a>        <span class="k">return</span> <span class="n">instruments</span>
</span><span id="Network-454"><a href="#Network-454"><span class="linenos">454</span></a>
</span><span id="Network-455"><a href="#Network-455"><span class="linenos">455</span></a>    <span class="nd">@property</span>
</span><span id="Network-456"><a href="#Network-456"><span class="linenos">456</span></a>    <span class="k">def</span> <span class="nf">instrument_coordinates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Network-457"><a href="#Network-457"><span class="linenos">457</span></a>        <span class="n">coordinates</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Network-458"><a href="#Network-458"><span class="linenos">458</span></a>        <span class="k">for</span> <span class="n">instrument</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">instruments</span><span class="p">:</span>
</span><span id="Network-459"><a href="#Network-459"><span class="linenos">459</span></a>            <span class="n">coordinates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">instrument</span><span class="o">.</span><span class="n">loc</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>From the StationXML definition:
    This type represents the Network layer, all station metadata is
    contained within this element. The official name of the network or
    other descriptive information can be included in the Description
    element. The Network can contain 0 or more Stations.</p>
</div>


                            <div id="Network.__init__" class="classattr">
                                        <input id="Network.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Network</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="Network.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Network.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Network.__init__-368"><a href="#Network.__init__-368"><span class="linenos">368</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Network.__init__-369"><a href="#Network.__init__-369"><span class="linenos">369</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><h6 id="parameters">Parameters</h6>

<ul>
<li><strong>code</strong>:  The SEED network code.</li>
<li><strong>stations</strong>:  List of stations for the network.</li>
<li><strong>total_number_of_stations</strong>:  The total number of stations
contained in this network, including inactive or terminated
stations.</li>
<li><strong>selected_number_of_stations</strong>:  The total number of stations in
this network that were selected by the query that produced this
document, even if the stations do not appear in the document. (This
might happen if the user only wants a document that goes contains
only information at the Network level.)</li>
<li><strong>description</strong>:  A description of the resource</li>
<li><strong>comments</strong>:  An arbitrary number of comments to the resource</li>
<li><strong>start_date</strong>:  The start date of the resource</li>
<li><strong>end_date</strong>:  The end date of the resource</li>
<li><strong>restricted_status</strong>:  The restriction status</li>
<li><strong>alternate_code</strong>:  A code used for display or association,
alternate to the SEED-compliant code.</li>
<li><strong>historical_code</strong>:  A previously used code if different from the
current code.</li>
<li><strong>data_availability</strong>:  Information about time series availability
for the network.</li>
<li><strong>identifiers</strong>:  Persistent identifiers for network/station/channel
(schema version &gt;=1.1). URIs are in general composed of a 'scheme'
and a 'path' (optionally with additional components), the two of
which separated by a colon.</li>
<li><strong>operators</strong>:  An operating agency and associated contact persons.</li>
<li><strong>source_id</strong>:  A data source identifier in URI form
(schema version &gt;=1.1). URIs are in general composed of a 'scheme'
and a 'path' (optionally with additional components), the two of
which separated by a colon.</li>
</ul>
</div>


                            </div>
                            <div id="Network.from_obspy_network" class="classattr">
                                        <input id="Network.from_obspy_network-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">from_obspy_network</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">cls</span>,</span><span class="param">	<span class="n">obspy_network</span>,</span><span class="param">	<span class="n">xy_from_lat_lon</span><span class="o">=</span><span class="kc">False</span>,</span><span class="param">	<span class="n">input_projection</span><span class="o">=</span><span class="mi">4326</span>,</span><span class="param">	<span class="n">output_projection</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Network.from_obspy_network-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Network.from_obspy_network"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Network.from_obspy_network-371"><a href="#Network.from_obspy_network-371"><span class="linenos">371</span></a>    <span class="nd">@classmethod</span>
</span><span id="Network.from_obspy_network-372"><a href="#Network.from_obspy_network-372"><span class="linenos">372</span></a>    <span class="k">def</span> <span class="nf">from_obspy_network</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">obspy_network</span><span class="p">,</span> <span class="n">xy_from_lat_lon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="Network.from_obspy_network-373"><a href="#Network.from_obspy_network-373"><span class="linenos">373</span></a>                           <span class="n">input_projection</span><span class="o">=</span><span class="mi">4326</span><span class="p">,</span> <span class="n">output_projection</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Network.from_obspy_network-374"><a href="#Network.from_obspy_network-374"><span class="linenos">374</span></a>
</span><span id="Network.from_obspy_network-375"><a href="#Network.from_obspy_network-375"><span class="linenos">375</span></a>        <span class="n">net</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">obspy_network</span><span class="o">.</span><span class="n">code</span><span class="p">)</span>
</span><span id="Network.from_obspy_network-376"><a href="#Network.from_obspy_network-376"><span class="linenos">376</span></a>
</span><span id="Network.from_obspy_network-377"><a href="#Network.from_obspy_network-377"><span class="linenos">377</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">obspy_network</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Network.from_obspy_network-378"><a href="#Network.from_obspy_network-378"><span class="linenos">378</span></a>            <span class="k">if</span> <span class="s1">&#39;stations&#39;</span> <span class="ow">in</span> <span class="n">key</span><span class="p">:</span>
</span><span id="Network.from_obspy_network-379"><a href="#Network.from_obspy_network-379"><span class="linenos">379</span></a>                <span class="n">net</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Network.from_obspy_network-380"><a href="#Network.from_obspy_network-380"><span class="linenos">380</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Network.from_obspy_network-381"><a href="#Network.from_obspy_network-381"><span class="linenos">381</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="Network.from_obspy_network-382"><a href="#Network.from_obspy_network-382"><span class="linenos">382</span></a>                    <span class="n">net</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">obspy_network</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="Network.from_obspy_network-383"><a href="#Network.from_obspy_network-383"><span class="linenos">383</span></a>                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="Network.from_obspy_network-384"><a href="#Network.from_obspy_network-384"><span class="linenos">384</span></a>                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="Network.from_obspy_network-385"><a href="#Network.from_obspy_network-385"><span class="linenos">385</span></a>
</span><span id="Network.from_obspy_network-386"><a href="#Network.from_obspy_network-386"><span class="linenos">386</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">station</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">obspy_network</span><span class="o">.</span><span class="n">stations</span><span class="p">):</span>
</span><span id="Network.from_obspy_network-387"><a href="#Network.from_obspy_network-387"><span class="linenos">387</span></a>            <span class="n">net</span><span class="o">.</span><span class="n">stations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Station</span><span class="o">.</span><span class="n">from_obspy_station</span><span class="p">(</span><span class="n">station</span><span class="p">,</span>
</span><span id="Network.from_obspy_network-388"><a href="#Network.from_obspy_network-388"><span class="linenos">388</span></a>                                                           <span class="n">xy_from_lat_lon</span><span class="p">,</span>
</span><span id="Network.from_obspy_network-389"><a href="#Network.from_obspy_network-389"><span class="linenos">389</span></a>                                                           <span class="n">input_projection</span><span class="o">=</span>
</span><span id="Network.from_obspy_network-390"><a href="#Network.from_obspy_network-390"><span class="linenos">390</span></a>                                                           <span class="n">input_projection</span><span class="p">,</span>
</span><span id="Network.from_obspy_network-391"><a href="#Network.from_obspy_network-391"><span class="linenos">391</span></a>                                                           <span class="n">output_projection</span><span class="o">=</span>
</span><span id="Network.from_obspy_network-392"><a href="#Network.from_obspy_network-392"><span class="linenos">392</span></a>                                                           <span class="n">output_projection</span><span class="p">))</span>
</span><span id="Network.from_obspy_network-393"><a href="#Network.from_obspy_network-393"><span class="linenos">393</span></a>
</span><span id="Network.from_obspy_network-394"><a href="#Network.from_obspy_network-394"><span class="linenos">394</span></a>        <span class="k">return</span> <span class="n">net</span>
</span></pre></div>


    

                            </div>
                            <div id="Network.get_grid_extent" class="classattr">
                                        <input id="Network.get_grid_extent-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_grid_extent</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">padding_fraction</span><span class="o">=</span><span class="mf">0.1</span>, </span><span class="param"><span class="n">ignore_stations</span><span class="o">=</span><span class="p">[]</span>, </span><span class="param"><span class="n">ignore_sites</span><span class="o">=</span><span class="p">[]</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Network.get_grid_extent-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Network.get_grid_extent"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Network.get_grid_extent-396"><a href="#Network.get_grid_extent-396"><span class="linenos">396</span></a>    <span class="k">def</span> <span class="nf">get_grid_extent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">padding_fraction</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">ignore_stations</span><span class="o">=</span><span class="p">[],</span>
</span><span id="Network.get_grid_extent-397"><a href="#Network.get_grid_extent-397"><span class="linenos">397</span></a>                        <span class="n">ignore_sites</span><span class="o">=</span><span class="p">[]):</span>
</span><span id="Network.get_grid_extent-398"><a href="#Network.get_grid_extent-398"><span class="linenos">398</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Network.get_grid_extent-399"><a href="#Network.get_grid_extent-399"><span class="linenos">399</span></a><span class="sd">        return the extents of a grid encompassing all sensors comprised in the</span>
</span><span id="Network.get_grid_extent-400"><a href="#Network.get_grid_extent-400"><span class="linenos">400</span></a><span class="sd">        network</span>
</span><span id="Network.get_grid_extent-401"><a href="#Network.get_grid_extent-401"><span class="linenos">401</span></a><span class="sd">        :param padding_fraction: buffer to add around the stations</span>
</span><span id="Network.get_grid_extent-402"><a href="#Network.get_grid_extent-402"><span class="linenos">402</span></a><span class="sd">        :param ignore_stations: list of stations to exclude from the</span>
</span><span id="Network.get_grid_extent-403"><a href="#Network.get_grid_extent-403"><span class="linenos">403</span></a><span class="sd">        calculation of the grid extents</span>
</span><span id="Network.get_grid_extent-404"><a href="#Network.get_grid_extent-404"><span class="linenos">404</span></a><span class="sd">        :param ignore_sites: list of location to exclude from the calculation of</span>
</span><span id="Network.get_grid_extent-405"><a href="#Network.get_grid_extent-405"><span class="linenos">405</span></a><span class="sd">        the grid extents</span>
</span><span id="Network.get_grid_extent-406"><a href="#Network.get_grid_extent-406"><span class="linenos">406</span></a><span class="sd">        :type ignore_stations: list</span>
</span><span id="Network.get_grid_extent-407"><a href="#Network.get_grid_extent-407"><span class="linenos">407</span></a><span class="sd">        :return: return the lower and upper corners</span>
</span><span id="Network.get_grid_extent-408"><a href="#Network.get_grid_extent-408"><span class="linenos">408</span></a><span class="sd">        :rtype: dict</span>
</span><span id="Network.get_grid_extent-409"><a href="#Network.get_grid_extent-409"><span class="linenos">409</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Network.get_grid_extent-410"><a href="#Network.get_grid_extent-410"><span class="linenos">410</span></a>
</span><span id="Network.get_grid_extent-411"><a href="#Network.get_grid_extent-411"><span class="linenos">411</span></a>        <span class="n">xs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Network.get_grid_extent-412"><a href="#Network.get_grid_extent-412"><span class="linenos">412</span></a>        <span class="n">ys</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Network.get_grid_extent-413"><a href="#Network.get_grid_extent-413"><span class="linenos">413</span></a>        <span class="n">zs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Network.get_grid_extent-414"><a href="#Network.get_grid_extent-414"><span class="linenos">414</span></a>
</span><span id="Network.get_grid_extent-415"><a href="#Network.get_grid_extent-415"><span class="linenos">415</span></a>        <span class="n">coordinates</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Network.get_grid_extent-416"><a href="#Network.get_grid_extent-416"><span class="linenos">416</span></a>        <span class="k">for</span> <span class="n">station</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stations</span><span class="p">:</span>
</span><span id="Network.get_grid_extent-417"><a href="#Network.get_grid_extent-417"><span class="linenos">417</span></a>            <span class="k">if</span> <span class="n">station</span><span class="o">.</span><span class="n">code</span> <span class="ow">in</span> <span class="n">ignore_stations</span><span class="p">:</span>
</span><span id="Network.get_grid_extent-418"><a href="#Network.get_grid_extent-418"><span class="linenos">418</span></a>                <span class="k">continue</span>
</span><span id="Network.get_grid_extent-419"><a href="#Network.get_grid_extent-419"><span class="linenos">419</span></a>            <span class="k">for</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">station</span><span class="o">.</span><span class="n">instruments</span><span class="p">:</span>
</span><span id="Network.get_grid_extent-420"><a href="#Network.get_grid_extent-420"><span class="linenos">420</span></a>                <span class="k">if</span> <span class="n">location</span><span class="o">.</span><span class="n">code</span> <span class="ow">in</span> <span class="n">ignore_sites</span><span class="p">:</span>
</span><span id="Network.get_grid_extent-421"><a href="#Network.get_grid_extent-421"><span class="linenos">421</span></a>                    <span class="k">continue</span>
</span><span id="Network.get_grid_extent-422"><a href="#Network.get_grid_extent-422"><span class="linenos">422</span></a>                <span class="n">coordinates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">location</span><span class="o">.</span><span class="n">loc</span><span class="p">)</span>
</span><span id="Network.get_grid_extent-423"><a href="#Network.get_grid_extent-423"><span class="linenos">423</span></a>
</span><span id="Network.get_grid_extent-424"><a href="#Network.get_grid_extent-424"><span class="linenos">424</span></a>        <span class="nb">min</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">coordinates</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="Network.get_grid_extent-425"><a href="#Network.get_grid_extent-425"><span class="linenos">425</span></a>        <span class="nb">max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">coordinates</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="Network.get_grid_extent-426"><a href="#Network.get_grid_extent-426"><span class="linenos">426</span></a>        <span class="c1"># center = min + (max - min) / 2</span>
</span><span id="Network.get_grid_extent-427"><a href="#Network.get_grid_extent-427"><span class="linenos">427</span></a>        <span class="n">center</span> <span class="o">=</span> <span class="p">(</span><span class="nb">min</span> <span class="o">+</span> <span class="nb">max</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
</span><span id="Network.get_grid_extent-428"><a href="#Network.get_grid_extent-428"><span class="linenos">428</span></a>        <span class="n">d</span> <span class="o">=</span> <span class="p">(</span><span class="nb">max</span> <span class="o">-</span> <span class="nb">min</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">padding_fraction</span><span class="p">)</span>
</span><span id="Network.get_grid_extent-429"><a href="#Network.get_grid_extent-429"><span class="linenos">429</span></a>
</span><span id="Network.get_grid_extent-430"><a href="#Network.get_grid_extent-430"><span class="linenos">430</span></a>        <span class="n">c1</span> <span class="o">=</span> <span class="n">center</span> <span class="o">-</span> <span class="n">d</span> <span class="o">/</span> <span class="mi">2</span>
</span><span id="Network.get_grid_extent-431"><a href="#Network.get_grid_extent-431"><span class="linenos">431</span></a>        <span class="n">c2</span> <span class="o">=</span> <span class="n">center</span> <span class="o">+</span> <span class="n">d</span> <span class="o">/</span> <span class="mi">2</span>
</span><span id="Network.get_grid_extent-432"><a href="#Network.get_grid_extent-432"><span class="linenos">432</span></a>
</span><span id="Network.get_grid_extent-433"><a href="#Network.get_grid_extent-433"><span class="linenos">433</span></a>        <span class="k">return</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span>
</span></pre></div>


            <div class="docstring"><p>return the extents of a grid encompassing all sensors comprised in the
network</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>padding_fraction</strong>:  buffer to add around the stations</li>
<li><strong>ignore_stations</strong>:  list of stations to exclude from the
calculation of the grid extents</li>
<li><strong>ignore_sites</strong>:  list of location to exclude from the calculation of
the grid extents</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>return the lower and upper corners</p>
</blockquote>
</div>


                            </div>
                            <div id="Network.site_coordinates" class="classattr">
                                <div class="attr variable">
            <span class="name">site_coordinates</span>

        
    </div>
    <a class="headerlink" href="#Network.site_coordinates"></a>
    
    

                            </div>
                            <div id="Network.station_coordinates" class="classattr">
                                <div class="attr variable">
            <span class="name">station_coordinates</span>

        
    </div>
    <a class="headerlink" href="#Network.station_coordinates"></a>
    
    

                            </div>
                            <div id="Network.instruments" class="classattr">
                                <div class="attr variable">
            <span class="name">instruments</span>

        
    </div>
    <a class="headerlink" href="#Network.instruments"></a>
    
    

                            </div>
                            <div id="Network.instrument_coordinates" class="classattr">
                                <div class="attr variable">
            <span class="name">instrument_coordinates</span>

        
    </div>
    <a class="headerlink" href="#Network.instrument_coordinates"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>obspy.core.inventory.network.Network</dt>
                                <dd id="Network.stations" class="variable">stations</dd>
                <dd id="Network.total_number_of_stations" class="variable">total_number_of_stations</dd>
                <dd id="Network.selected_number_of_stations" class="variable">selected_number_of_stations</dd>
                <dd id="Network.operators" class="variable">operators</dd>
                <dd id="Network.get_contents" class="function">get_contents</dd>
                <dd id="Network.get_response" class="function">get_response</dd>
                <dd id="Network.get_channel_metadata" class="function">get_channel_metadata</dd>
                <dd id="Network.get_coordinates" class="function">get_coordinates</dd>
                <dd id="Network.get_orientation" class="function">get_orientation</dd>
                <dd id="Network.select" class="function">select</dd>
                <dd id="Network.plot" class="function">plot</dd>
                <dd id="Network.plot_response" class="function">plot_response</dd>

            </div>
            <div><dt>obspy.core.inventory.util.BaseNode</dt>
                                <dd id="Network.code" class="variable">code</dd>
                <dd id="Network.comments" class="variable">comments</dd>
                <dd id="Network.description" class="variable">description</dd>
                <dd id="Network.start_date" class="variable">start_date</dd>
                <dd id="Network.end_date" class="variable">end_date</dd>
                <dd id="Network.restricted_status" class="variable">restricted_status</dd>
                <dd id="Network.alternate_code" class="variable">alternate_code</dd>
                <dd id="Network.historical_code" class="variable">historical_code</dd>
                <dd id="Network.data_availability" class="variable">data_availability</dd>
                <dd id="Network.identifiers" class="variable">identifiers</dd>
                <dd id="Network.source_id" class="variable">source_id</dd>
                <dd id="Network.copy" class="function">copy</dd>
                <dd id="Network.is_active" class="function">is_active</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="Station">
                            <input id="Station-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Station</span><wbr>(<span class="base">obspy.core.inventory.station.Station</span>):

                <label class="view-source-button" for="Station-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Station"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Station-462"><a href="#Station-462"><span class="linenos">462</span></a><span class="k">class</span> <span class="nc">Station</span><span class="p">(</span><span class="n">inventory</span><span class="o">.</span><span class="n">Station</span><span class="p">):</span>
</span><span id="Station-463"><a href="#Station-463"><span class="linenos">463</span></a>    <span class="vm">__doc__</span> <span class="o">=</span> <span class="n">inventory</span><span class="o">.</span><span class="n">Station</span><span class="o">.</span><span class="vm">__doc__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;obspy&#39;</span><span class="p">,</span> <span class="n">ns</span><span class="p">)</span>
</span><span id="Station-464"><a href="#Station-464"><span class="linenos">464</span></a>
</span><span id="Station-465"><a href="#Station-465"><span class="linenos">465</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">coordinates</span><span class="p">:</span> <span class="n">Coordinates</span> <span class="o">=</span> <span class="n">Coordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Station-466"><a href="#Station-466"><span class="linenos">466</span></a>
</span><span id="Station-467"><a href="#Station-467"><span class="linenos">467</span></a>        <span class="k">if</span> <span class="s1">&#39;extra&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>  <span class="c1"># hack for deepcopy to work</span>
</span><span id="Station-468"><a href="#Station-468"><span class="linenos">468</span></a>            <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Station-469"><a href="#Station-469"><span class="linenos">469</span></a>
</span><span id="Station-470"><a href="#Station-470"><span class="linenos">470</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="n">AttribDict</span><span class="p">()</span>
</span><span id="Station-471"><a href="#Station-471"><span class="linenos">471</span></a>
</span><span id="Station-472"><a href="#Station-472"><span class="linenos">472</span></a>        <span class="k">if</span> <span class="s1">&#39;latitude&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Station-473"><a href="#Station-473"><span class="linenos">473</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Station-474"><a href="#Station-474"><span class="linenos">474</span></a>        <span class="k">if</span> <span class="s1">&#39;longitude&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Station-475"><a href="#Station-475"><span class="linenos">475</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Station-476"><a href="#Station-476"><span class="linenos">476</span></a>        <span class="k">if</span> <span class="s1">&#39;elevation&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Station-477"><a href="#Station-477"><span class="linenos">477</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;elevation&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Station-478"><a href="#Station-478"><span class="linenos">478</span></a>
</span><span id="Station-479"><a href="#Station-479"><span class="linenos">479</span></a>        <span class="c1"># initialize the extra key</span>
</span><span id="Station-480"><a href="#Station-480"><span class="linenos">480</span></a>
</span><span id="Station-481"><a href="#Station-481"><span class="linenos">481</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;extra&#39;</span><span class="p">):</span>
</span><span id="Station-482"><a href="#Station-482"><span class="linenos">482</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="n">AttribDict</span><span class="p">()</span>
</span><span id="Station-483"><a href="#Station-483"><span class="linenos">483</span></a>
</span><span id="Station-484"><a href="#Station-484"><span class="linenos">484</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Station-485"><a href="#Station-485"><span class="linenos">485</span></a>
</span><span id="Station-486"><a href="#Station-486"><span class="linenos">486</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">[</span><span class="s1">&#39;coordinates&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">coordinates</span><span class="o">.</span><span class="n">to_extra_key</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
</span><span id="Station-487"><a href="#Station-487"><span class="linenos">487</span></a>
</span><span id="Station-488"><a href="#Station-488"><span class="linenos">488</span></a>    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="Station-489"><a href="#Station-489"><span class="linenos">489</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;coordinates&#39;</span><span class="p">:</span>
</span><span id="Station-490"><a href="#Station-490"><span class="linenos">490</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">to_extra_key</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
</span><span id="Station-491"><a href="#Station-491"><span class="linenos">491</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Station-492"><a href="#Station-492"><span class="linenos">492</span></a>            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="Station-493"><a href="#Station-493"><span class="linenos">493</span></a>
</span><span id="Station-494"><a href="#Station-494"><span class="linenos">494</span></a>    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span><span id="Station-495"><a href="#Station-495"><span class="linenos">495</span></a>        <span class="k">if</span> <span class="n">item</span> <span class="o">==</span> <span class="s1">&#39;coordinates&#39;</span><span class="p">:</span>
</span><span id="Station-496"><a href="#Station-496"><span class="linenos">496</span></a>            <span class="k">return</span> <span class="n">Coordinates</span><span class="o">.</span><span class="n">from_extra_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">[</span><span class="n">item</span><span class="p">])</span>
</span><span id="Station-497"><a href="#Station-497"><span class="linenos">497</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Station-498"><a href="#Station-498"><span class="linenos">498</span></a>            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__getattr__</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</span><span id="Station-499"><a href="#Station-499"><span class="linenos">499</span></a>
</span><span id="Station-500"><a href="#Station-500"><span class="linenos">500</span></a>    <span class="c1"># def __getitem__(self, key):</span>
</span><span id="Station-501"><a href="#Station-501"><span class="linenos">501</span></a>    <span class="c1">#     if isinstance(key, int):</span>
</span><span id="Station-502"><a href="#Station-502"><span class="linenos">502</span></a>    <span class="c1">#         return self[key]</span>
</span><span id="Station-503"><a href="#Station-503"><span class="linenos">503</span></a>    <span class="c1">#     else:</span>
</span><span id="Station-504"><a href="#Station-504"><span class="linenos">504</span></a>    <span class="c1">#         return self.__dict__[key]</span>
</span><span id="Station-505"><a href="#Station-505"><span class="linenos">505</span></a>
</span><span id="Station-506"><a href="#Station-506"><span class="linenos">506</span></a>    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="Station-507"><a href="#Station-507"><span class="linenos">507</span></a>        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="Station-508"><a href="#Station-508"><span class="linenos">508</span></a>
</span><span id="Station-509"><a href="#Station-509"><span class="linenos">509</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="Station-510"><a href="#Station-510"><span class="linenos">510</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="Station-511"><a href="#Station-511"><span class="linenos">511</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="Station-512"><a href="#Station-512"><span class="linenos">512</span></a>
</span><span id="Station-513"><a href="#Station-513"><span class="linenos">513</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">coordinates</span>
</span><span id="Station-514"><a href="#Station-514"><span class="linenos">514</span></a>
</span><span id="Station-515"><a href="#Station-515"><span class="linenos">515</span></a>    <span class="nd">@classmethod</span>
</span><span id="Station-516"><a href="#Station-516"><span class="linenos">516</span></a>    <span class="k">def</span> <span class="nf">from_obspy_station</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">obspy_station</span><span class="p">,</span> <span class="n">xy_from_lat_lon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="Station-517"><a href="#Station-517"><span class="linenos">517</span></a>                           <span class="n">output_projection</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Station-518"><a href="#Station-518"><span class="linenos">518</span></a>                           <span class="n">input_projection</span><span class="o">=</span><span class="mi">4326</span><span class="p">):</span>
</span><span id="Station-519"><a href="#Station-519"><span class="linenos">519</span></a>
</span><span id="Station-520"><a href="#Station-520"><span class="linenos">520</span></a>        <span class="c1">#     cls(*params) is same as calling Station(*params):</span>
</span><span id="Station-521"><a href="#Station-521"><span class="linenos">521</span></a>
</span><span id="Station-522"><a href="#Station-522"><span class="linenos">522</span></a>        <span class="n">stn</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">obspy_station</span><span class="o">.</span><span class="n">code</span><span class="p">,</span> <span class="n">latitude</span><span class="o">=</span><span class="n">obspy_station</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span>
</span><span id="Station-523"><a href="#Station-523"><span class="linenos">523</span></a>                  <span class="n">longitude</span><span class="o">=</span><span class="n">obspy_station</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span>
</span><span id="Station-524"><a href="#Station-524"><span class="linenos">524</span></a>                  <span class="n">elevation</span><span class="o">=</span><span class="n">obspy_station</span><span class="o">.</span><span class="n">elevation</span><span class="p">)</span>
</span><span id="Station-525"><a href="#Station-525"><span class="linenos">525</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">obspy_station</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Station-526"><a href="#Station-526"><span class="linenos">526</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="Station-527"><a href="#Station-527"><span class="linenos">527</span></a>                <span class="n">stn</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">obspy_station</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="Station-528"><a href="#Station-528"><span class="linenos">528</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="Station-529"><a href="#Station-529"><span class="linenos">529</span></a>                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="Station-530"><a href="#Station-530"><span class="linenos">530</span></a>
</span><span id="Station-531"><a href="#Station-531"><span class="linenos">531</span></a>        <span class="k">if</span> <span class="n">xy_from_lat_lon</span><span class="p">:</span>
</span><span id="Station-532"><a href="#Station-532"><span class="linenos">532</span></a>            <span class="k">if</span> <span class="p">(</span><span class="n">stn</span><span class="o">.</span><span class="n">latitude</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">stn</span><span class="o">.</span><span class="n">longitude</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="Station-533"><a href="#Station-533"><span class="linenos">533</span></a>
</span><span id="Station-534"><a href="#Station-534"><span class="linenos">534</span></a>                <span class="n">stn</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">stn</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">lon_lat_x_y</span><span class="p">(</span><span class="n">input_projection</span><span class="p">,</span> <span class="n">output_projection</span><span class="p">,</span>
</span><span id="Station-535"><a href="#Station-535"><span class="linenos">535</span></a>                                           <span class="n">longitude</span><span class="o">=</span><span class="n">stn</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span>
</span><span id="Station-536"><a href="#Station-536"><span class="linenos">536</span></a>                                           <span class="n">latitude</span><span class="o">=</span><span class="n">stn</span><span class="o">.</span><span class="n">latitude</span><span class="p">)</span>
</span><span id="Station-537"><a href="#Station-537"><span class="linenos">537</span></a>
</span><span id="Station-538"><a href="#Station-538"><span class="linenos">538</span></a>                <span class="n">stn</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">obspy_station</span><span class="o">.</span><span class="n">elevation</span>
</span><span id="Station-539"><a href="#Station-539"><span class="linenos">539</span></a>
</span><span id="Station-540"><a href="#Station-540"><span class="linenos">540</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Station-541"><a href="#Station-541"><span class="linenos">541</span></a>                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Latitude or Longitude are not&#39;</span>
</span><span id="Station-542"><a href="#Station-542"><span class="linenos">542</span></a>                               <span class="sa">f</span><span class="s1">&#39;defined for station </span><span class="si">{</span><span class="n">obspy_station</span><span class="o">.</span><span class="n">code</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
</span><span id="Station-543"><a href="#Station-543"><span class="linenos">543</span></a>
</span><span id="Station-544"><a href="#Station-544"><span class="linenos">544</span></a>                <span class="n">output_projection</span> <span class="o">=</span> <span class="mi">32725</span>
</span><span id="Station-545"><a href="#Station-545"><span class="linenos">545</span></a>
</span><span id="Station-546"><a href="#Station-546"><span class="linenos">546</span></a>        <span class="n">stn</span><span class="o">.</span><span class="n">channels</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Station-547"><a href="#Station-547"><span class="linenos">547</span></a>
</span><span id="Station-548"><a href="#Station-548"><span class="linenos">548</span></a>        <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="n">obspy_station</span><span class="o">.</span><span class="n">channels</span><span class="p">:</span>
</span><span id="Station-549"><a href="#Station-549"><span class="linenos">549</span></a>            <span class="n">stn</span><span class="o">.</span><span class="n">channels</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Channel</span><span class="o">.</span><span class="n">from_obspy_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span>
</span><span id="Station-550"><a href="#Station-550"><span class="linenos">550</span></a>                                                           <span class="n">xy_from_lat_lon</span><span class="o">=</span>
</span><span id="Station-551"><a href="#Station-551"><span class="linenos">551</span></a>                                                           <span class="n">xy_from_lat_lon</span><span class="p">,</span>
</span><span id="Station-552"><a href="#Station-552"><span class="linenos">552</span></a>                                                           <span class="n">input_projection</span><span class="o">=</span>
</span><span id="Station-553"><a href="#Station-553"><span class="linenos">553</span></a>                                                           <span class="n">input_projection</span><span class="p">,</span>
</span><span id="Station-554"><a href="#Station-554"><span class="linenos">554</span></a>                                                           <span class="n">output_projection</span><span class="o">=</span>
</span><span id="Station-555"><a href="#Station-555"><span class="linenos">555</span></a>                                                           <span class="n">output_projection</span><span class="p">))</span>
</span><span id="Station-556"><a href="#Station-556"><span class="linenos">556</span></a>
</span><span id="Station-557"><a href="#Station-557"><span class="linenos">557</span></a>        <span class="k">return</span> <span class="n">stn</span>
</span><span id="Station-558"><a href="#Station-558"><span class="linenos">558</span></a>
</span><span id="Station-559"><a href="#Station-559"><span class="linenos">559</span></a>    <span class="nd">@property</span>
</span><span id="Station-560"><a href="#Station-560"><span class="linenos">560</span></a>    <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Station-561"><a href="#Station-561"><span class="linenos">561</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">x</span>
</span><span id="Station-562"><a href="#Station-562"><span class="linenos">562</span></a>
</span><span id="Station-563"><a href="#Station-563"><span class="linenos">563</span></a>    <span class="nd">@property</span>
</span><span id="Station-564"><a href="#Station-564"><span class="linenos">564</span></a>    <span class="k">def</span> <span class="nf">y</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Station-565"><a href="#Station-565"><span class="linenos">565</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">y</span>
</span><span id="Station-566"><a href="#Station-566"><span class="linenos">566</span></a>
</span><span id="Station-567"><a href="#Station-567"><span class="linenos">567</span></a>    <span class="nd">@property</span>
</span><span id="Station-568"><a href="#Station-568"><span class="linenos">568</span></a>    <span class="k">def</span> <span class="nf">z</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Station-569"><a href="#Station-569"><span class="linenos">569</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">z</span>
</span><span id="Station-570"><a href="#Station-570"><span class="linenos">570</span></a>
</span><span id="Station-571"><a href="#Station-571"><span class="linenos">571</span></a>    <span class="nd">@property</span>
</span><span id="Station-572"><a href="#Station-572"><span class="linenos">572</span></a>    <span class="k">def</span> <span class="nf">loc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Station-573"><a href="#Station-573"><span class="linenos">573</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">:</span>
</span><span id="Station-574"><a href="#Station-574"><span class="linenos">574</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="Station-575"><a href="#Station-575"><span class="linenos">575</span></a>                    <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="Station-576"><a href="#Station-576"><span class="linenos">576</span></a>                <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">])</span>
</span><span id="Station-577"><a href="#Station-577"><span class="linenos">577</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Station-578"><a href="#Station-578"><span class="linenos">578</span></a>                <span class="k">raise</span> <span class="ne">AttributeError</span>
</span><span id="Station-579"><a href="#Station-579"><span class="linenos">579</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Station-580"><a href="#Station-580"><span class="linenos">580</span></a>            <span class="k">raise</span> <span class="ne">AttributeError</span>
</span><span id="Station-581"><a href="#Station-581"><span class="linenos">581</span></a>
</span><span id="Station-582"><a href="#Station-582"><span class="linenos">582</span></a>    <span class="nd">@property</span>
</span><span id="Station-583"><a href="#Station-583"><span class="linenos">583</span></a>    <span class="k">def</span> <span class="nf">instruments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Station-584"><a href="#Station-584"><span class="linenos">584</span></a>        <span class="n">location_codes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Station-585"><a href="#Station-585"><span class="linenos">585</span></a>        <span class="n">channel_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Station-586"><a href="#Station-586"><span class="linenos">586</span></a>        <span class="n">instruments</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Station-587"><a href="#Station-587"><span class="linenos">587</span></a>        <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">:</span>
</span><span id="Station-588"><a href="#Station-588"><span class="linenos">588</span></a>            <span class="n">location_codes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">channel</span><span class="o">.</span><span class="n">location_code</span><span class="p">)</span>
</span><span id="Station-589"><a href="#Station-589"><span class="linenos">589</span></a>            <span class="n">channel_dict</span><span class="p">[</span><span class="n">channel</span><span class="o">.</span><span class="n">location_code</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Station-590"><a href="#Station-590"><span class="linenos">590</span></a>
</span><span id="Station-591"><a href="#Station-591"><span class="linenos">591</span></a>        <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">:</span>
</span><span id="Station-592"><a href="#Station-592"><span class="linenos">592</span></a>            <span class="n">channel_dict</span><span class="p">[</span><span class="n">channel</span><span class="o">.</span><span class="n">location_code</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
</span><span id="Station-593"><a href="#Station-593"><span class="linenos">593</span></a>
</span><span id="Station-594"><a href="#Station-594"><span class="linenos">594</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">channel_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Station-595"><a href="#Station-595"><span class="linenos">595</span></a>            <span class="n">instruments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Instrument</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]))</span>
</span><span id="Station-596"><a href="#Station-596"><span class="linenos">596</span></a>
</span><span id="Station-597"><a href="#Station-597"><span class="linenos">597</span></a>        <span class="k">return</span> <span class="n">instruments</span>
</span><span id="Station-598"><a href="#Station-598"><span class="linenos">598</span></a>
</span><span id="Station-599"><a href="#Station-599"><span class="linenos">599</span></a>    <span class="nd">@property</span>
</span><span id="Station-600"><a href="#Station-600"><span class="linenos">600</span></a>    <span class="k">def</span> <span class="nf">instrument_coordinates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Station-601"><a href="#Station-601"><span class="linenos">601</span></a>        <span class="n">coordinates</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Station-602"><a href="#Station-602"><span class="linenos">602</span></a>        <span class="k">for</span> <span class="n">instrument</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">instruments</span><span class="p">:</span>
</span><span id="Station-603"><a href="#Station-603"><span class="linenos">603</span></a>            <span class="n">coordinates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">instrument</span><span class="o">.</span><span class="n">loc</span><span class="p">)</span>
</span><span id="Station-604"><a href="#Station-604"><span class="linenos">604</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">coordinates</span><span class="p">)</span>
</span><span id="Station-605"><a href="#Station-605"><span class="linenos">605</span></a>
</span><span id="Station-606"><a href="#Station-606"><span class="linenos">606</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Station-607"><a href="#Station-607"><span class="linenos">607</span></a>        <span class="n">contents</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_contents</span><span class="p">()</span>
</span><span id="Station-608"><a href="#Station-608"><span class="linenos">608</span></a>
</span><span id="Station-609"><a href="#Station-609"><span class="linenos">609</span></a>        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span>
</span><span id="Station-610"><a href="#Station-610"><span class="linenos">610</span></a>        <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span>
</span><span id="Station-611"><a href="#Station-611"><span class="linenos">611</span></a>        <span class="n">z</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span>
</span><span id="Station-612"><a href="#Station-612"><span class="linenos">612</span></a>
</span><span id="Station-613"><a href="#Station-613"><span class="linenos">613</span></a>        <span class="n">location_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instruments</span><span class="p">)</span>
</span><span id="Station-614"><a href="#Station-614"><span class="linenos">614</span></a>        <span class="n">channel_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">)</span>
</span><span id="Station-615"><a href="#Station-615"><span class="linenos">615</span></a>
</span><span id="Station-616"><a href="#Station-616"><span class="linenos">616</span></a>        <span class="n">format_dict</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Station-617"><a href="#Station-617"><span class="linenos">617</span></a>            <span class="s1">&#39;code&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">code</span> <span class="ow">or</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="Station-618"><a href="#Station-618"><span class="linenos">618</span></a>            <span class="s1">&#39;location_count&#39;</span><span class="p">:</span> <span class="n">location_count</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="Station-619"><a href="#Station-619"><span class="linenos">619</span></a>            <span class="s1">&#39;channel_count&#39;</span><span class="p">:</span> <span class="n">channel_count</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="Station-620"><a href="#Station-620"><span class="linenos">620</span></a>            <span class="s1">&#39;start_date&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_date</span> <span class="ow">or</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="Station-621"><a href="#Station-621"><span class="linenos">621</span></a>            <span class="s1">&#39;end_date&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_date</span> <span class="ow">or</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="Station-622"><a href="#Station-622"><span class="linenos">622</span></a>            <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="Station-623"><a href="#Station-623"><span class="linenos">623</span></a>            <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">y</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">y</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="Station-624"><a href="#Station-624"><span class="linenos">624</span></a>            <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">z</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">z</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="Station-625"><a href="#Station-625"><span class="linenos">625</span></a>        <span class="p">}</span>
</span><span id="Station-626"><a href="#Station-626"><span class="linenos">626</span></a>
</span><span id="Station-627"><a href="#Station-627"><span class="linenos">627</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Station Code: </span><span class="si">{code}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="Station-628"><a href="#Station-628"><span class="linenos">628</span></a>               <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Location Count: </span><span class="si">{location_count}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="Station-629"><a href="#Station-629"><span class="linenos">629</span></a>               <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Channel Count: </span><span class="si">{channel_count}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="Station-630"><a href="#Station-630"><span class="linenos">630</span></a>               <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Date range: </span><span class="si">{start_date}</span><span class="s2"> - </span><span class="si">{end_date}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="Station-631"><a href="#Station-631"><span class="linenos">631</span></a>               <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">x: </span><span class="si">{x}</span><span class="s2">, y: </span><span class="si">{y}</span><span class="s2">, z: </span><span class="si">{z}</span><span class="s2"> m</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">format_dict</span><span class="p">)</span>
</span><span id="Station-632"><a href="#Station-632"><span class="linenos">632</span></a>
</span><span id="Station-633"><a href="#Station-633"><span class="linenos">633</span></a>        <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;extra&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="Station-634"><a href="#Station-634"><span class="linenos">634</span></a>            <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span>
</span><span id="Station-635"><a href="#Station-635"><span class="linenos">635</span></a>                                                          <span class="kc">None</span><span class="p">):</span>
</span><span id="Station-636"><a href="#Station-636"><span class="linenos">636</span></a>                <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span>
</span><span id="Station-637"><a href="#Station-637"><span class="linenos">637</span></a>                <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span>
</span><span id="Station-638"><a href="#Station-638"><span class="linenos">638</span></a>                <span class="n">z</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span>
</span><span id="Station-639"><a href="#Station-639"><span class="linenos">639</span></a>                <span class="n">ret</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Station </span><span class="si">{station_name}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="Station-640"><a href="#Station-640"><span class="linenos">640</span></a>                       <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Station Code: </span><span class="si">{station_code}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="Station-641"><a href="#Station-641"><span class="linenos">641</span></a>                       <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Location Count: </span><span class="si">{site_count}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="Station-642"><a href="#Station-642"><span class="linenos">642</span></a>                       <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Channel Count: </span><span class="si">{selected}</span><span class="s2">/</span><span class="si">{total}</span><span class="s2">&quot;</span>
</span><span id="Station-643"><a href="#Station-643"><span class="linenos">643</span></a>                       <span class="s2">&quot; (Selected/Total)</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="Station-644"><a href="#Station-644"><span class="linenos">644</span></a>                       <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Date range: </span><span class="si">{start_date}</span><span class="s2"> - </span><span class="si">{end_date}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="Station-645"><a href="#Station-645"><span class="linenos">645</span></a>                       <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Easting [x]: </span><span class="si">{x:.0f}</span><span class="s2"> m, Northing [y] m: </span><span class="si">{y:.0f}</span><span class="s2">, &quot;</span>
</span><span id="Station-646"><a href="#Station-646"><span class="linenos">646</span></a>                       <span class="s2">&quot;Elevation [z]: </span><span class="si">{z:.0f}</span><span class="s2"> m</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="Station-647"><a href="#Station-647"><span class="linenos">647</span></a>
</span><span id="Station-648"><a href="#Station-648"><span class="linenos">648</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="n">ret</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
</span><span id="Station-649"><a href="#Station-649"><span class="linenos">649</span></a>            <span class="n">station_name</span><span class="o">=</span><span class="n">contents</span><span class="p">[</span><span class="s2">&quot;stations&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
</span><span id="Station-650"><a href="#Station-650"><span class="linenos">650</span></a>            <span class="n">station_code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">code</span><span class="p">,</span>
</span><span id="Station-651"><a href="#Station-651"><span class="linenos">651</span></a>            <span class="n">site_count</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instruments</span><span class="p">),</span>
</span><span id="Station-652"><a href="#Station-652"><span class="linenos">652</span></a>            <span class="n">selected</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_number_of_channels</span><span class="p">,</span>
</span><span id="Station-653"><a href="#Station-653"><span class="linenos">653</span></a>            <span class="n">total</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">total_number_of_channels</span><span class="p">,</span>
</span><span id="Station-654"><a href="#Station-654"><span class="linenos">654</span></a>            <span class="n">start_date</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start_date</span><span class="p">),</span>
</span><span id="Station-655"><a href="#Station-655"><span class="linenos">655</span></a>            <span class="n">end_date</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">end_date</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_date</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="Station-656"><a href="#Station-656"><span class="linenos">656</span></a>            <span class="n">restricted</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">restricted_status</span><span class="p">,</span>
</span><span id="Station-657"><a href="#Station-657"><span class="linenos">657</span></a>            <span class="n">alternate_code</span><span class="o">=</span><span class="s2">&quot;Alternate Code: </span><span class="si">%s</span><span class="s2"> &quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">alternate_code</span> <span class="k">if</span>
</span><span id="Station-658"><a href="#Station-658"><span class="linenos">658</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">alternate_code</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="Station-659"><a href="#Station-659"><span class="linenos">659</span></a>            <span class="n">historical_code</span><span class="o">=</span><span class="s2">&quot;Historical Code: </span><span class="si">%s</span><span class="s2"> &quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">historical_code</span> <span class="k">if</span>
</span><span id="Station-660"><a href="#Station-660"><span class="linenos">660</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">historical_code</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="Station-661"><a href="#Station-661"><span class="linenos">661</span></a>            <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="n">z</span><span class="p">)</span>
</span><span id="Station-662"><a href="#Station-662"><span class="linenos">662</span></a>        <span class="n">ret</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Available Channels:</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="Station-663"><a href="#Station-663"><span class="linenos">663</span></a>        <span class="n">ret</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">_textwrap</span><span class="p">(</span>
</span><span id="Station-664"><a href="#Station-664"><span class="linenos">664</span></a>            <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">_unified_content_strings</span><span class="p">(</span><span class="n">contents</span><span class="p">[</span><span class="s2">&quot;channels&quot;</span><span class="p">])),</span>
</span><span id="Station-665"><a href="#Station-665"><span class="linenos">665</span></a>            <span class="n">initial_indent</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">subsequent_indent</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t\t</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="Station-666"><a href="#Station-666"><span class="linenos">666</span></a>            <span class="n">expand_tabs</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</span><span id="Station-667"><a href="#Station-667"><span class="linenos">667</span></a>
</span><span id="Station-668"><a href="#Station-668"><span class="linenos">668</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span><span id="Station-669"><a href="#Station-669"><span class="linenos">669</span></a>
</span><span id="Station-670"><a href="#Station-670"><span class="linenos">670</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Station-671"><a href="#Station-671"><span class="linenos">671</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>From the StationXML definition:
    This type represents a Station epoch. It is common to only have a
    single station epoch with the station's creation and termination dates
    as the epoch start and end dates.</p>
</div>


                            <div id="Station.__init__" class="classattr">
                                        <input id="Station.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Station</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="o">*</span><span class="n">args</span>,</span><span class="param">	<span class="n">coordinates</span><span class="p">:</span> <span class="n"><a href="coordinates.html#Coordinates">uquake.core.coordinates.Coordinates</a></span> <span class="o">=</span> 
                        <span class="n">x</span><span class="p">:</span>  <span class="mf">0.00</span>
                        <span class="n">y</span><span class="p">:</span>  <span class="mf">0.00</span>
                        <span class="n">z</span><span class="p">:</span>  <span class="mf">0.00</span>
        <span class="n">coordinate</span> <span class="n">system</span><span class="p">:</span> <span class="n">NED</span>
           <span class="n">transformation</span><span class="p">:</span> 
                <span class="n">translation</span><span class="p">:</span> <span class="mi">0</span>
                   <span class="n">rotation</span><span class="p">:</span> <span class="mi">0</span>
                  <span class="n">epsg_code</span><span class="p">:</span> <span class="kc">None</span>
                    <span class="n">scaling</span><span class="p">:</span> <span class="mf">1.0</span>
        <span class="n">reference</span> <span class="n">elevation</span><span class="p">:</span> <span class="mf">0.0</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="Station.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Station.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Station.__init__-465"><a href="#Station.__init__-465"><span class="linenos">465</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">coordinates</span><span class="p">:</span> <span class="n">Coordinates</span> <span class="o">=</span> <span class="n">Coordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Station.__init__-466"><a href="#Station.__init__-466"><span class="linenos">466</span></a>
</span><span id="Station.__init__-467"><a href="#Station.__init__-467"><span class="linenos">467</span></a>        <span class="k">if</span> <span class="s1">&#39;extra&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>  <span class="c1"># hack for deepcopy to work</span>
</span><span id="Station.__init__-468"><a href="#Station.__init__-468"><span class="linenos">468</span></a>            <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Station.__init__-469"><a href="#Station.__init__-469"><span class="linenos">469</span></a>
</span><span id="Station.__init__-470"><a href="#Station.__init__-470"><span class="linenos">470</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="n">AttribDict</span><span class="p">()</span>
</span><span id="Station.__init__-471"><a href="#Station.__init__-471"><span class="linenos">471</span></a>
</span><span id="Station.__init__-472"><a href="#Station.__init__-472"><span class="linenos">472</span></a>        <span class="k">if</span> <span class="s1">&#39;latitude&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Station.__init__-473"><a href="#Station.__init__-473"><span class="linenos">473</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Station.__init__-474"><a href="#Station.__init__-474"><span class="linenos">474</span></a>        <span class="k">if</span> <span class="s1">&#39;longitude&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Station.__init__-475"><a href="#Station.__init__-475"><span class="linenos">475</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Station.__init__-476"><a href="#Station.__init__-476"><span class="linenos">476</span></a>        <span class="k">if</span> <span class="s1">&#39;elevation&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Station.__init__-477"><a href="#Station.__init__-477"><span class="linenos">477</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;elevation&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Station.__init__-478"><a href="#Station.__init__-478"><span class="linenos">478</span></a>
</span><span id="Station.__init__-479"><a href="#Station.__init__-479"><span class="linenos">479</span></a>        <span class="c1"># initialize the extra key</span>
</span><span id="Station.__init__-480"><a href="#Station.__init__-480"><span class="linenos">480</span></a>
</span><span id="Station.__init__-481"><a href="#Station.__init__-481"><span class="linenos">481</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;extra&#39;</span><span class="p">):</span>
</span><span id="Station.__init__-482"><a href="#Station.__init__-482"><span class="linenos">482</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="n">AttribDict</span><span class="p">()</span>
</span><span id="Station.__init__-483"><a href="#Station.__init__-483"><span class="linenos">483</span></a>
</span><span id="Station.__init__-484"><a href="#Station.__init__-484"><span class="linenos">484</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Station.__init__-485"><a href="#Station.__init__-485"><span class="linenos">485</span></a>
</span><span id="Station.__init__-486"><a href="#Station.__init__-486"><span class="linenos">486</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">[</span><span class="s1">&#39;coordinates&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">coordinates</span><span class="o">.</span><span class="n">to_extra_key</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><h6 id="parameters">Parameters</h6>

<ul>
<li><strong>channels</strong>:  All channels belonging to this station.</li>
<li><strong>site</strong>:  The lexical description of the site</li>
<li><strong>latitude</strong>:  The latitude of the station</li>
<li><strong>longitude</strong>:  The longitude of the station</li>
<li><strong>elevation</strong>:  The elevation of the station in meter.</li>
<li><strong>site</strong>:  These fields describe the location of the station using
geopolitical entities (country, city, etc.).</li>
<li><strong>vault</strong>:  Type of vault, e.g. WWSSN, tunnel, transportable array,
etc</li>
<li><strong>geology</strong>:  Type of rock and/or geologic formation.</li>
<li><strong>equipments</strong>:  Equipment used by all channels at a station.</li>
<li><strong>operators</strong>:  An operating agency and associated contact persons.</li>
<li><strong>creation_date</strong>:  Date and time (UTC) when the station was first
installed</li>
<li><strong>termination_date</strong>:  Date and time (UTC) when the station was
terminated or will be terminated. A blank value should be assumed
to mean that the station is still active.</li>
<li><strong>total_number_of_channels</strong>:  Total number of channels recorded at
this station.</li>
<li><strong>selected_number_of_channels</strong>:  Number of channels recorded at this
station and selected by the query that produced this document.</li>
<li><strong>external_references</strong>:  URI of any type of external report, such as
IRIS data reports or dataless SEED volumes.</li>
<li><strong>description</strong>:  A description of the resource</li>
<li><strong>comments</strong>:  An arbitrary number of comments to the resource</li>
<li><strong>start_date</strong>:  The start date of the resource</li>
<li><strong>end_date</strong>:  The end date of the resource</li>
<li><strong>restricted_status</strong>:  The restriction status</li>
<li><strong>alternate_code</strong>:  A code used for display or association,
alternate to the SEED-compliant code.</li>
<li><strong>historical_code</strong>:  A previously used code if different from the
current code.</li>
<li><strong>data_availability</strong>:  Information about time series availability
for the station.</li>
<li><strong>identifiers</strong>:  Persistent identifiers for network/station/channel
(schema version &gt;=1.1). URIs are in general composed of a 'scheme'
and a 'path' (optionally with additional components), the two of
which separated by a colon.</li>
<li><strong>water_level</strong>:  Elevation of the water surface in meters for
underwater sites, where 0 is sea level. (schema version &gt;=1.1)</li>
<li><strong>source_id</strong>:  A data source identifier in URI form
(schema version &gt;=1.1). URIs are in general composed of a 'scheme'
and a 'path' (optionally with additional components), the two of
which separated by a colon.</li>
</ul>
</div>


                            </div>
                            <div id="Station.extra" class="classattr">
                                <div class="attr variable">
            <span class="name">extra</span>

        
    </div>
    <a class="headerlink" href="#Station.extra"></a>
    
    

                            </div>
                            <div id="Station.from_obspy_station" class="classattr">
                                        <input id="Station.from_obspy_station-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">from_obspy_station</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">cls</span>,</span><span class="param">	<span class="n">obspy_station</span>,</span><span class="param">	<span class="n">xy_from_lat_lon</span><span class="o">=</span><span class="kc">False</span>,</span><span class="param">	<span class="n">output_projection</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">input_projection</span><span class="o">=</span><span class="mi">4326</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Station.from_obspy_station-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Station.from_obspy_station"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Station.from_obspy_station-515"><a href="#Station.from_obspy_station-515"><span class="linenos">515</span></a>    <span class="nd">@classmethod</span>
</span><span id="Station.from_obspy_station-516"><a href="#Station.from_obspy_station-516"><span class="linenos">516</span></a>    <span class="k">def</span> <span class="nf">from_obspy_station</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">obspy_station</span><span class="p">,</span> <span class="n">xy_from_lat_lon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="Station.from_obspy_station-517"><a href="#Station.from_obspy_station-517"><span class="linenos">517</span></a>                           <span class="n">output_projection</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Station.from_obspy_station-518"><a href="#Station.from_obspy_station-518"><span class="linenos">518</span></a>                           <span class="n">input_projection</span><span class="o">=</span><span class="mi">4326</span><span class="p">):</span>
</span><span id="Station.from_obspy_station-519"><a href="#Station.from_obspy_station-519"><span class="linenos">519</span></a>
</span><span id="Station.from_obspy_station-520"><a href="#Station.from_obspy_station-520"><span class="linenos">520</span></a>        <span class="c1">#     cls(*params) is same as calling Station(*params):</span>
</span><span id="Station.from_obspy_station-521"><a href="#Station.from_obspy_station-521"><span class="linenos">521</span></a>
</span><span id="Station.from_obspy_station-522"><a href="#Station.from_obspy_station-522"><span class="linenos">522</span></a>        <span class="n">stn</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">obspy_station</span><span class="o">.</span><span class="n">code</span><span class="p">,</span> <span class="n">latitude</span><span class="o">=</span><span class="n">obspy_station</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span>
</span><span id="Station.from_obspy_station-523"><a href="#Station.from_obspy_station-523"><span class="linenos">523</span></a>                  <span class="n">longitude</span><span class="o">=</span><span class="n">obspy_station</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span>
</span><span id="Station.from_obspy_station-524"><a href="#Station.from_obspy_station-524"><span class="linenos">524</span></a>                  <span class="n">elevation</span><span class="o">=</span><span class="n">obspy_station</span><span class="o">.</span><span class="n">elevation</span><span class="p">)</span>
</span><span id="Station.from_obspy_station-525"><a href="#Station.from_obspy_station-525"><span class="linenos">525</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">obspy_station</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Station.from_obspy_station-526"><a href="#Station.from_obspy_station-526"><span class="linenos">526</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="Station.from_obspy_station-527"><a href="#Station.from_obspy_station-527"><span class="linenos">527</span></a>                <span class="n">stn</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">obspy_station</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="Station.from_obspy_station-528"><a href="#Station.from_obspy_station-528"><span class="linenos">528</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="Station.from_obspy_station-529"><a href="#Station.from_obspy_station-529"><span class="linenos">529</span></a>                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="Station.from_obspy_station-530"><a href="#Station.from_obspy_station-530"><span class="linenos">530</span></a>
</span><span id="Station.from_obspy_station-531"><a href="#Station.from_obspy_station-531"><span class="linenos">531</span></a>        <span class="k">if</span> <span class="n">xy_from_lat_lon</span><span class="p">:</span>
</span><span id="Station.from_obspy_station-532"><a href="#Station.from_obspy_station-532"><span class="linenos">532</span></a>            <span class="k">if</span> <span class="p">(</span><span class="n">stn</span><span class="o">.</span><span class="n">latitude</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">stn</span><span class="o">.</span><span class="n">longitude</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="Station.from_obspy_station-533"><a href="#Station.from_obspy_station-533"><span class="linenos">533</span></a>
</span><span id="Station.from_obspy_station-534"><a href="#Station.from_obspy_station-534"><span class="linenos">534</span></a>                <span class="n">stn</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">stn</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">lon_lat_x_y</span><span class="p">(</span><span class="n">input_projection</span><span class="p">,</span> <span class="n">output_projection</span><span class="p">,</span>
</span><span id="Station.from_obspy_station-535"><a href="#Station.from_obspy_station-535"><span class="linenos">535</span></a>                                           <span class="n">longitude</span><span class="o">=</span><span class="n">stn</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span>
</span><span id="Station.from_obspy_station-536"><a href="#Station.from_obspy_station-536"><span class="linenos">536</span></a>                                           <span class="n">latitude</span><span class="o">=</span><span class="n">stn</span><span class="o">.</span><span class="n">latitude</span><span class="p">)</span>
</span><span id="Station.from_obspy_station-537"><a href="#Station.from_obspy_station-537"><span class="linenos">537</span></a>
</span><span id="Station.from_obspy_station-538"><a href="#Station.from_obspy_station-538"><span class="linenos">538</span></a>                <span class="n">stn</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">obspy_station</span><span class="o">.</span><span class="n">elevation</span>
</span><span id="Station.from_obspy_station-539"><a href="#Station.from_obspy_station-539"><span class="linenos">539</span></a>
</span><span id="Station.from_obspy_station-540"><a href="#Station.from_obspy_station-540"><span class="linenos">540</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Station.from_obspy_station-541"><a href="#Station.from_obspy_station-541"><span class="linenos">541</span></a>                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Latitude or Longitude are not&#39;</span>
</span><span id="Station.from_obspy_station-542"><a href="#Station.from_obspy_station-542"><span class="linenos">542</span></a>                               <span class="sa">f</span><span class="s1">&#39;defined for station </span><span class="si">{</span><span class="n">obspy_station</span><span class="o">.</span><span class="n">code</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
</span><span id="Station.from_obspy_station-543"><a href="#Station.from_obspy_station-543"><span class="linenos">543</span></a>
</span><span id="Station.from_obspy_station-544"><a href="#Station.from_obspy_station-544"><span class="linenos">544</span></a>                <span class="n">output_projection</span> <span class="o">=</span> <span class="mi">32725</span>
</span><span id="Station.from_obspy_station-545"><a href="#Station.from_obspy_station-545"><span class="linenos">545</span></a>
</span><span id="Station.from_obspy_station-546"><a href="#Station.from_obspy_station-546"><span class="linenos">546</span></a>        <span class="n">stn</span><span class="o">.</span><span class="n">channels</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Station.from_obspy_station-547"><a href="#Station.from_obspy_station-547"><span class="linenos">547</span></a>
</span><span id="Station.from_obspy_station-548"><a href="#Station.from_obspy_station-548"><span class="linenos">548</span></a>        <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="n">obspy_station</span><span class="o">.</span><span class="n">channels</span><span class="p">:</span>
</span><span id="Station.from_obspy_station-549"><a href="#Station.from_obspy_station-549"><span class="linenos">549</span></a>            <span class="n">stn</span><span class="o">.</span><span class="n">channels</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Channel</span><span class="o">.</span><span class="n">from_obspy_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span>
</span><span id="Station.from_obspy_station-550"><a href="#Station.from_obspy_station-550"><span class="linenos">550</span></a>                                                           <span class="n">xy_from_lat_lon</span><span class="o">=</span>
</span><span id="Station.from_obspy_station-551"><a href="#Station.from_obspy_station-551"><span class="linenos">551</span></a>                                                           <span class="n">xy_from_lat_lon</span><span class="p">,</span>
</span><span id="Station.from_obspy_station-552"><a href="#Station.from_obspy_station-552"><span class="linenos">552</span></a>                                                           <span class="n">input_projection</span><span class="o">=</span>
</span><span id="Station.from_obspy_station-553"><a href="#Station.from_obspy_station-553"><span class="linenos">553</span></a>                                                           <span class="n">input_projection</span><span class="p">,</span>
</span><span id="Station.from_obspy_station-554"><a href="#Station.from_obspy_station-554"><span class="linenos">554</span></a>                                                           <span class="n">output_projection</span><span class="o">=</span>
</span><span id="Station.from_obspy_station-555"><a href="#Station.from_obspy_station-555"><span class="linenos">555</span></a>                                                           <span class="n">output_projection</span><span class="p">))</span>
</span><span id="Station.from_obspy_station-556"><a href="#Station.from_obspy_station-556"><span class="linenos">556</span></a>
</span><span id="Station.from_obspy_station-557"><a href="#Station.from_obspy_station-557"><span class="linenos">557</span></a>        <span class="k">return</span> <span class="n">stn</span>
</span></pre></div>


    

                            </div>
                            <div id="Station.x" class="classattr">
                                <div class="attr variable">
            <span class="name">x</span>

        
    </div>
    <a class="headerlink" href="#Station.x"></a>
    
    

                            </div>
                            <div id="Station.y" class="classattr">
                                <div class="attr variable">
            <span class="name">y</span>

        
    </div>
    <a class="headerlink" href="#Station.y"></a>
    
    

                            </div>
                            <div id="Station.z" class="classattr">
                                <div class="attr variable">
            <span class="name">z</span>

        
    </div>
    <a class="headerlink" href="#Station.z"></a>
    
    

                            </div>
                            <div id="Station.loc" class="classattr">
                                <div class="attr variable">
            <span class="name">loc</span>

        
    </div>
    <a class="headerlink" href="#Station.loc"></a>
    
    

                            </div>
                            <div id="Station.instruments" class="classattr">
                                <div class="attr variable">
            <span class="name">instruments</span>

        
    </div>
    <a class="headerlink" href="#Station.instruments"></a>
    
    

                            </div>
                            <div id="Station.instrument_coordinates" class="classattr">
                                <div class="attr variable">
            <span class="name">instrument_coordinates</span>

        
    </div>
    <a class="headerlink" href="#Station.instrument_coordinates"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>obspy.core.inventory.station.Station</dt>
                                <dd id="Station.latitude" class="variable">latitude</dd>
                <dd id="Station.longitude" class="variable">longitude</dd>
                <dd id="Station.elevation" class="variable">elevation</dd>
                <dd id="Station.channels" class="variable">channels</dd>
                <dd id="Station.site" class="variable">site</dd>
                <dd id="Station.vault" class="variable">vault</dd>
                <dd id="Station.geology" class="variable">geology</dd>
                <dd id="Station.equipments" class="variable">equipments</dd>
                <dd id="Station.operators" class="variable">operators</dd>
                <dd id="Station.creation_date" class="variable">creation_date</dd>
                <dd id="Station.termination_date" class="variable">termination_date</dd>
                <dd id="Station.total_number_of_channels" class="variable">total_number_of_channels</dd>
                <dd id="Station.selected_number_of_channels" class="variable">selected_number_of_channels</dd>
                <dd id="Station.external_references" class="variable">external_references</dd>
                <dd id="Station.water_level" class="variable">water_level</dd>
                <dd id="Station.get_contents" class="function">get_contents</dd>
                <dd id="Station.select" class="function">select</dd>
                <dd id="Station.plot" class="function">plot</dd>

            </div>
            <div><dt>obspy.core.inventory.util.BaseNode</dt>
                                <dd id="Station.code" class="variable">code</dd>
                <dd id="Station.comments" class="variable">comments</dd>
                <dd id="Station.description" class="variable">description</dd>
                <dd id="Station.start_date" class="variable">start_date</dd>
                <dd id="Station.end_date" class="variable">end_date</dd>
                <dd id="Station.restricted_status" class="variable">restricted_status</dd>
                <dd id="Station.alternate_code" class="variable">alternate_code</dd>
                <dd id="Station.historical_code" class="variable">historical_code</dd>
                <dd id="Station.data_availability" class="variable">data_availability</dd>
                <dd id="Station.identifiers" class="variable">identifiers</dd>
                <dd id="Station.source_id" class="variable">source_id</dd>
                <dd id="Station.copy" class="function">copy</dd>
                <dd id="Station.is_active" class="function">is_active</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="Instrument">
                            <input id="Instrument-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Instrument</span>:

                <label class="view-source-button" for="Instrument-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Instrument"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Instrument-674"><a href="#Instrument-674"><span class="linenos">674</span></a><span class="k">class</span> <span class="nc">Instrument</span><span class="p">:</span>
</span><span id="Instrument-675"><a href="#Instrument-675"><span class="linenos">675</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Instrument-676"><a href="#Instrument-676"><span class="linenos">676</span></a><span class="sd">    This class is a container for grouping the channels into coherent entity</span>
</span><span id="Instrument-677"><a href="#Instrument-677"><span class="linenos">677</span></a><span class="sd">    that are Instruments. From the uquake package perspective a station is</span>
</span><span id="Instrument-678"><a href="#Instrument-678"><span class="linenos">678</span></a><span class="sd">    the physical location where data acquisition instruments are grouped.</span>
</span><span id="Instrument-679"><a href="#Instrument-679"><span class="linenos">679</span></a><span class="sd">    One or multiple instruments can be connected to a station.</span>
</span><span id="Instrument-680"><a href="#Instrument-680"><span class="linenos">680</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Instrument-681"><a href="#Instrument-681"><span class="linenos">681</span></a>
</span><span id="Instrument-682"><a href="#Instrument-682"><span class="linenos">682</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">station</span><span class="p">,</span> <span class="n">channels</span><span class="p">):</span>
</span><span id="Instrument-683"><a href="#Instrument-683"><span class="linenos">683</span></a>
</span><span id="Instrument-684"><a href="#Instrument-684"><span class="linenos">684</span></a>        <span class="n">location_codes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Instrument-685"><a href="#Instrument-685"><span class="linenos">685</span></a>        <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="n">channels</span><span class="p">:</span>
</span><span id="Instrument-686"><a href="#Instrument-686"><span class="linenos">686</span></a>            <span class="n">location_codes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">channel</span><span class="o">.</span><span class="n">location_code</span><span class="p">)</span>
</span><span id="Instrument-687"><a href="#Instrument-687"><span class="linenos">687</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">location_codes</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Instrument-688"><a href="#Instrument-688"><span class="linenos">688</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;the channels in the channel list should have a unique &#39;</span>
</span><span id="Instrument-689"><a href="#Instrument-689"><span class="linenos">689</span></a>                                 <span class="s1">&#39;location code&#39;</span><span class="p">)</span>
</span><span id="Instrument-690"><a href="#Instrument-690"><span class="linenos">690</span></a>
</span><span id="Instrument-691"><a href="#Instrument-691"><span class="linenos">691</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">location_code</span> <span class="o">=</span> <span class="n">location_codes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Instrument-692"><a href="#Instrument-692"><span class="linenos">692</span></a>
</span><span id="Instrument-693"><a href="#Instrument-693"><span class="linenos">693</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">location_codes</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Instrument-694"><a href="#Instrument-694"><span class="linenos">694</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;the channels in the channel list should have a&#39;</span>
</span><span id="Instrument-695"><a href="#Instrument-695"><span class="linenos">695</span></a>                         <span class="s1">&#39;unique location code&#39;</span><span class="p">)</span>
</span><span id="Instrument-696"><a href="#Instrument-696"><span class="linenos">696</span></a>            <span class="k">raise</span> <span class="ne">KeyError</span>
</span><span id="Instrument-697"><a href="#Instrument-697"><span class="linenos">697</span></a>
</span><span id="Instrument-698"><a href="#Instrument-698"><span class="linenos">698</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">station</span> <span class="o">=</span> <span class="n">station</span>
</span><span id="Instrument-699"><a href="#Instrument-699"><span class="linenos">699</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">channels</span> <span class="o">=</span> <span class="n">channels</span>
</span><span id="Instrument-700"><a href="#Instrument-700"><span class="linenos">700</span></a>
</span><span id="Instrument-701"><a href="#Instrument-701"><span class="linenos">701</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Instrument-702"><a href="#Instrument-702"><span class="linenos">702</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">Location </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">location_code</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span> \
</span><span id="Instrument-703"><a href="#Instrument-703"><span class="linenos">703</span></a>              <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">x: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="si">:</span><span class="s1">.0f</span><span class="si">}</span><span class="s1"> m, y: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="si">:</span><span class="s1">.0f</span><span class="si">}</span><span class="s1"> m z: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="si">:</span><span class="s1">0.0f</span><span class="si">}</span><span class="s1"> m</span><span class="se">\n</span><span class="s1">&#39;</span> \
</span><span id="Instrument-704"><a href="#Instrument-704"><span class="linenos">704</span></a>              <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">Channel Count: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="Instrument-705"><a href="#Instrument-705"><span class="linenos">705</span></a>
</span><span id="Instrument-706"><a href="#Instrument-706"><span class="linenos">706</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span><span id="Instrument-707"><a href="#Instrument-707"><span class="linenos">707</span></a>
</span><span id="Instrument-708"><a href="#Instrument-708"><span class="linenos">708</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Instrument-709"><a href="#Instrument-709"><span class="linenos">709</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">instrument_code</span>
</span><span id="Instrument-710"><a href="#Instrument-710"><span class="linenos">710</span></a>
</span><span id="Instrument-711"><a href="#Instrument-711"><span class="linenos">711</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="Instrument-712"><a href="#Instrument-712"><span class="linenos">712</span></a>        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="Instrument-713"><a href="#Instrument-713"><span class="linenos">713</span></a>
</span><span id="Instrument-714"><a href="#Instrument-714"><span class="linenos">714</span></a>    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="Instrument-715"><a href="#Instrument-715"><span class="linenos">715</span></a>        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">str</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="Instrument-716"><a href="#Instrument-716"><span class="linenos">716</span></a>
</span><span id="Instrument-717"><a href="#Instrument-717"><span class="linenos">717</span></a>    <span class="k">def</span> <span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="Instrument-718"><a href="#Instrument-718"><span class="linenos">718</span></a>        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">str</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="Instrument-719"><a href="#Instrument-719"><span class="linenos">719</span></a>
</span><span id="Instrument-720"><a href="#Instrument-720"><span class="linenos">720</span></a>    <span class="nd">@property</span>
</span><span id="Instrument-721"><a href="#Instrument-721"><span class="linenos">721</span></a>    <span class="k">def</span> <span class="nf">loc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Instrument-722"><a href="#Instrument-722"><span class="linenos">722</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">])</span>
</span><span id="Instrument-723"><a href="#Instrument-723"><span class="linenos">723</span></a>
</span><span id="Instrument-724"><a href="#Instrument-724"><span class="linenos">724</span></a>    <span class="nd">@property</span>
</span><span id="Instrument-725"><a href="#Instrument-725"><span class="linenos">725</span></a>    <span class="k">def</span> <span class="nf">alternate_code</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Instrument-726"><a href="#Instrument-726"><span class="linenos">726</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">alternative_code</span>
</span><span id="Instrument-727"><a href="#Instrument-727"><span class="linenos">727</span></a>
</span><span id="Instrument-728"><a href="#Instrument-728"><span class="linenos">728</span></a>    <span class="nd">@property</span>
</span><span id="Instrument-729"><a href="#Instrument-729"><span class="linenos">729</span></a>    <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Instrument-730"><a href="#Instrument-730"><span class="linenos">730</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">x</span>
</span><span id="Instrument-731"><a href="#Instrument-731"><span class="linenos">731</span></a>
</span><span id="Instrument-732"><a href="#Instrument-732"><span class="linenos">732</span></a>    <span class="nd">@property</span>
</span><span id="Instrument-733"><a href="#Instrument-733"><span class="linenos">733</span></a>    <span class="k">def</span> <span class="nf">y</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Instrument-734"><a href="#Instrument-734"><span class="linenos">734</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">y</span>
</span><span id="Instrument-735"><a href="#Instrument-735"><span class="linenos">735</span></a>
</span><span id="Instrument-736"><a href="#Instrument-736"><span class="linenos">736</span></a>    <span class="nd">@property</span>
</span><span id="Instrument-737"><a href="#Instrument-737"><span class="linenos">737</span></a>    <span class="k">def</span> <span class="nf">z</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Instrument-738"><a href="#Instrument-738"><span class="linenos">738</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">z</span>
</span><span id="Instrument-739"><a href="#Instrument-739"><span class="linenos">739</span></a>
</span><span id="Instrument-740"><a href="#Instrument-740"><span class="linenos">740</span></a>    <span class="nd">@property</span>
</span><span id="Instrument-741"><a href="#Instrument-741"><span class="linenos">741</span></a>    <span class="k">def</span> <span class="nf">coordinates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Instrument-742"><a href="#Instrument-742"><span class="linenos">742</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">coordinates</span>
</span><span id="Instrument-743"><a href="#Instrument-743"><span class="linenos">743</span></a>
</span><span id="Instrument-744"><a href="#Instrument-744"><span class="linenos">744</span></a>    <span class="nd">@property</span>
</span><span id="Instrument-745"><a href="#Instrument-745"><span class="linenos">745</span></a>    <span class="k">def</span> <span class="nf">station_code</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Instrument-746"><a href="#Instrument-746"><span class="linenos">746</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">station</span><span class="o">.</span><span class="n">code</span>
</span><span id="Instrument-747"><a href="#Instrument-747"><span class="linenos">747</span></a>
</span><span id="Instrument-748"><a href="#Instrument-748"><span class="linenos">748</span></a>    <span class="nd">@property</span>
</span><span id="Instrument-749"><a href="#Instrument-749"><span class="linenos">749</span></a>    <span class="k">def</span> <span class="nf">instrument_code</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Instrument-750"><a href="#Instrument-750"><span class="linenos">750</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">code</span>
</span><span id="Instrument-751"><a href="#Instrument-751"><span class="linenos">751</span></a>
</span><span id="Instrument-752"><a href="#Instrument-752"><span class="linenos">752</span></a>    <span class="nd">@property</span>
</span><span id="Instrument-753"><a href="#Instrument-753"><span class="linenos">753</span></a>    <span class="k">def</span> <span class="nf">simplified_code</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Instrument-754"><a href="#Instrument-754"><span class="linenos">754</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">station_code</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">location_code</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="Instrument-755"><a href="#Instrument-755"><span class="linenos">755</span></a>
</span><span id="Instrument-756"><a href="#Instrument-756"><span class="linenos">756</span></a>    <span class="nd">@property</span>
</span><span id="Instrument-757"><a href="#Instrument-757"><span class="linenos">757</span></a>    <span class="k">def</span> <span class="nf">code</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Instrument-758"><a href="#Instrument-758"><span class="linenos">758</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_instrument_code</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">station_code</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">location_code</span><span class="p">)</span>
</span><span id="Instrument-759"><a href="#Instrument-759"><span class="linenos">759</span></a>
</span><span id="Instrument-760"><a href="#Instrument-760"><span class="linenos">760</span></a>    <span class="nd">@property</span>
</span><span id="Instrument-761"><a href="#Instrument-761"><span class="linenos">761</span></a>    <span class="k">def</span> <span class="nf">sensor_type_code</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Instrument-762"><a href="#Instrument-762"><span class="linenos">762</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">code</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="Instrument-763"><a href="#Instrument-763"><span class="linenos">763</span></a>
</span><span id="Instrument-764"><a href="#Instrument-764"><span class="linenos">764</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Instrument-765"><a href="#Instrument-765"><span class="linenos">765</span></a>    <span class="k">def</span> <span class="nf">make_instrument_code</span><span class="p">(</span><span class="n">station_code</span><span class="p">,</span> <span class="n">location_code</span><span class="p">):</span>
</span><span id="Instrument-766"><a href="#Instrument-766"><span class="linenos">766</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">station_code</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">location_code</span><span class="si">}</span><span class="s1">&#39;</span>
</span></pre></div>


            <div class="docstring"><p>This class is a container for grouping the channels into coherent entity
that are Instruments. From the uquake package perspective a station is
the physical location where data acquisition instruments are grouped.
One or multiple instruments can be connected to a station.</p>
</div>


                            <div id="Instrument.__init__" class="classattr">
                                        <input id="Instrument.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Instrument</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">station</span>, </span><span class="param"><span class="n">channels</span></span>)</span>

                <label class="view-source-button" for="Instrument.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Instrument.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Instrument.__init__-682"><a href="#Instrument.__init__-682"><span class="linenos">682</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">station</span><span class="p">,</span> <span class="n">channels</span><span class="p">):</span>
</span><span id="Instrument.__init__-683"><a href="#Instrument.__init__-683"><span class="linenos">683</span></a>
</span><span id="Instrument.__init__-684"><a href="#Instrument.__init__-684"><span class="linenos">684</span></a>        <span class="n">location_codes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Instrument.__init__-685"><a href="#Instrument.__init__-685"><span class="linenos">685</span></a>        <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="n">channels</span><span class="p">:</span>
</span><span id="Instrument.__init__-686"><a href="#Instrument.__init__-686"><span class="linenos">686</span></a>            <span class="n">location_codes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">channel</span><span class="o">.</span><span class="n">location_code</span><span class="p">)</span>
</span><span id="Instrument.__init__-687"><a href="#Instrument.__init__-687"><span class="linenos">687</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">location_codes</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Instrument.__init__-688"><a href="#Instrument.__init__-688"><span class="linenos">688</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;the channels in the channel list should have a unique &#39;</span>
</span><span id="Instrument.__init__-689"><a href="#Instrument.__init__-689"><span class="linenos">689</span></a>                                 <span class="s1">&#39;location code&#39;</span><span class="p">)</span>
</span><span id="Instrument.__init__-690"><a href="#Instrument.__init__-690"><span class="linenos">690</span></a>
</span><span id="Instrument.__init__-691"><a href="#Instrument.__init__-691"><span class="linenos">691</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">location_code</span> <span class="o">=</span> <span class="n">location_codes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Instrument.__init__-692"><a href="#Instrument.__init__-692"><span class="linenos">692</span></a>
</span><span id="Instrument.__init__-693"><a href="#Instrument.__init__-693"><span class="linenos">693</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">location_codes</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Instrument.__init__-694"><a href="#Instrument.__init__-694"><span class="linenos">694</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;the channels in the channel list should have a&#39;</span>
</span><span id="Instrument.__init__-695"><a href="#Instrument.__init__-695"><span class="linenos">695</span></a>                         <span class="s1">&#39;unique location code&#39;</span><span class="p">)</span>
</span><span id="Instrument.__init__-696"><a href="#Instrument.__init__-696"><span class="linenos">696</span></a>            <span class="k">raise</span> <span class="ne">KeyError</span>
</span><span id="Instrument.__init__-697"><a href="#Instrument.__init__-697"><span class="linenos">697</span></a>
</span><span id="Instrument.__init__-698"><a href="#Instrument.__init__-698"><span class="linenos">698</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">station</span> <span class="o">=</span> <span class="n">station</span>
</span><span id="Instrument.__init__-699"><a href="#Instrument.__init__-699"><span class="linenos">699</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">channels</span> <span class="o">=</span> <span class="n">channels</span>
</span></pre></div>


    

                            </div>
                            <div id="Instrument.location_code" class="classattr">
                                <div class="attr variable">
            <span class="name">location_code</span>

        
    </div>
    <a class="headerlink" href="#Instrument.location_code"></a>
    
    

                            </div>
                            <div id="Instrument.station" class="classattr">
                                <div class="attr variable">
            <span class="name">station</span>

        
    </div>
    <a class="headerlink" href="#Instrument.station"></a>
    
    

                            </div>
                            <div id="Instrument.channels" class="classattr">
                                <div class="attr variable">
            <span class="name">channels</span>

        
    </div>
    <a class="headerlink" href="#Instrument.channels"></a>
    
    

                            </div>
                            <div id="Instrument.loc" class="classattr">
                                <div class="attr variable">
            <span class="name">loc</span>

        
    </div>
    <a class="headerlink" href="#Instrument.loc"></a>
    
    

                            </div>
                            <div id="Instrument.alternate_code" class="classattr">
                                <div class="attr variable">
            <span class="name">alternate_code</span>

        
    </div>
    <a class="headerlink" href="#Instrument.alternate_code"></a>
    
    

                            </div>
                            <div id="Instrument.x" class="classattr">
                                <div class="attr variable">
            <span class="name">x</span>

        
    </div>
    <a class="headerlink" href="#Instrument.x"></a>
    
    

                            </div>
                            <div id="Instrument.y" class="classattr">
                                <div class="attr variable">
            <span class="name">y</span>

        
    </div>
    <a class="headerlink" href="#Instrument.y"></a>
    
    

                            </div>
                            <div id="Instrument.z" class="classattr">
                                <div class="attr variable">
            <span class="name">z</span>

        
    </div>
    <a class="headerlink" href="#Instrument.z"></a>
    
    

                            </div>
                            <div id="Instrument.coordinates" class="classattr">
                                <div class="attr variable">
            <span class="name">coordinates</span>

        
    </div>
    <a class="headerlink" href="#Instrument.coordinates"></a>
    
    

                            </div>
                            <div id="Instrument.station_code" class="classattr">
                                <div class="attr variable">
            <span class="name">station_code</span>

        
    </div>
    <a class="headerlink" href="#Instrument.station_code"></a>
    
    

                            </div>
                            <div id="Instrument.instrument_code" class="classattr">
                                <div class="attr variable">
            <span class="name">instrument_code</span>

        
    </div>
    <a class="headerlink" href="#Instrument.instrument_code"></a>
    
    

                            </div>
                            <div id="Instrument.simplified_code" class="classattr">
                                <div class="attr variable">
            <span class="name">simplified_code</span>

        
    </div>
    <a class="headerlink" href="#Instrument.simplified_code"></a>
    
    

                            </div>
                            <div id="Instrument.code" class="classattr">
                                <div class="attr variable">
            <span class="name">code</span>

        
    </div>
    <a class="headerlink" href="#Instrument.code"></a>
    
    

                            </div>
                            <div id="Instrument.sensor_type_code" class="classattr">
                                <div class="attr variable">
            <span class="name">sensor_type_code</span>

        
    </div>
    <a class="headerlink" href="#Instrument.sensor_type_code"></a>
    
    

                            </div>
                            <div id="Instrument.make_instrument_code" class="classattr">
                                        <input id="Instrument.make_instrument_code-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">make_instrument_code</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">station_code</span>, </span><span class="param"><span class="n">location_code</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Instrument.make_instrument_code-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Instrument.make_instrument_code"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Instrument.make_instrument_code-764"><a href="#Instrument.make_instrument_code-764"><span class="linenos">764</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Instrument.make_instrument_code-765"><a href="#Instrument.make_instrument_code-765"><span class="linenos">765</span></a>    <span class="k">def</span> <span class="nf">make_instrument_code</span><span class="p">(</span><span class="n">station_code</span><span class="p">,</span> <span class="n">location_code</span><span class="p">):</span>
</span><span id="Instrument.make_instrument_code-766"><a href="#Instrument.make_instrument_code-766"><span class="linenos">766</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">station_code</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">location_code</span><span class="si">}</span><span class="s1">&#39;</span>
</span></pre></div>


    

                            </div>
                </section>
                <section id="Channel">
                            <input id="Channel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Channel</span><wbr>(<span class="base">obspy.core.inventory.channel.Channel</span>):

                <label class="view-source-button" for="Channel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Channel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Channel-769"><a href="#Channel-769"><span class="linenos">769</span></a><span class="k">class</span> <span class="nc">Channel</span><span class="p">(</span><span class="n">inventory</span><span class="o">.</span><span class="n">Channel</span><span class="p">):</span>
</span><span id="Channel-770"><a href="#Channel-770"><span class="linenos">770</span></a>    <span class="n">defaults</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Channel-771"><a href="#Channel-771"><span class="linenos">771</span></a>
</span><span id="Channel-772"><a href="#Channel-772"><span class="linenos">772</span></a>    <span class="vm">__doc__</span> <span class="o">=</span> <span class="n">inventory</span><span class="o">.</span><span class="n">Channel</span><span class="o">.</span><span class="vm">__doc__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;obspy&#39;</span><span class="p">,</span> <span class="n">ns</span><span class="p">)</span>
</span><span id="Channel-773"><a href="#Channel-773"><span class="linenos">773</span></a>
</span><span id="Channel-774"><a href="#Channel-774"><span class="linenos">774</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code</span><span class="p">,</span> <span class="n">location_code</span><span class="p">,</span> <span class="n">active</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">oriented</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="Channel-775"><a href="#Channel-775"><span class="linenos">775</span></a>                 <span class="n">coordinates</span><span class="p">:</span> <span class="n">Coordinates</span> <span class="o">=</span> <span class="n">Coordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
</span><span id="Channel-776"><a href="#Channel-776"><span class="linenos">776</span></a>                 <span class="n">orientation_vector</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Channel-777"><a href="#Channel-777"><span class="linenos">777</span></a>
</span><span id="Channel-778"><a href="#Channel-778"><span class="linenos">778</span></a>        <span class="n">latitude</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;latitude&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="s1">&#39;latitude&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="Channel-779"><a href="#Channel-779"><span class="linenos">779</span></a>        <span class="n">longitude</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;longitude&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="s1">&#39;longitude&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="Channel-780"><a href="#Channel-780"><span class="linenos">780</span></a>        <span class="n">elevation</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;elevation&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="s1">&#39;elevation&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="Channel-781"><a href="#Channel-781"><span class="linenos">781</span></a>        <span class="n">depth</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;depth&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="s1">&#39;depth&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="Channel-782"><a href="#Channel-782"><span class="linenos">782</span></a>
</span><span id="Channel-783"><a href="#Channel-783"><span class="linenos">783</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">location_code</span><span class="p">,</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">,</span>
</span><span id="Channel-784"><a href="#Channel-784"><span class="linenos">784</span></a>                                      <span class="n">elevation</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Channel-785"><a href="#Channel-785"><span class="linenos">785</span></a>
</span><span id="Channel-786"><a href="#Channel-786"><span class="linenos">786</span></a>        <span class="k">if</span> <span class="s1">&#39;extra&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>  <span class="c1"># hack for deepcopy to work</span>
</span><span id="Channel-787"><a href="#Channel-787"><span class="linenos">787</span></a>            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Channel-788"><a href="#Channel-788"><span class="linenos">788</span></a>
</span><span id="Channel-789"><a href="#Channel-789"><span class="linenos">789</span></a>        <span class="k">if</span> <span class="n">orientation_vector</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Channel-790"><a href="#Channel-790"><span class="linenos">790</span></a>            <span class="c1"># making the orientation vector (cosine vector) unitary</span>
</span><span id="Channel-791"><a href="#Channel-791"><span class="linenos">791</span></a>            <span class="n">orientation_vector</span> <span class="o">=</span> <span class="n">orientation_vector</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">orientation_vector</span><span class="p">)</span>
</span><span id="Channel-792"><a href="#Channel-792"><span class="linenos">792</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_orientation</span><span class="p">(</span><span class="n">orientation_vector</span><span class="p">)</span>
</span><span id="Channel-793"><a href="#Channel-793"><span class="linenos">793</span></a>
</span><span id="Channel-794"><a href="#Channel-794"><span class="linenos">794</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">[</span><span class="s1">&#39;coordinates&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">coordinates</span><span class="o">.</span><span class="n">to_extra_key</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
</span><span id="Channel-795"><a href="#Channel-795"><span class="linenos">795</span></a>        <span class="n">set_extra</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">,</span> <span class="n">active</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
</span><span id="Channel-796"><a href="#Channel-796"><span class="linenos">796</span></a>        <span class="n">set_extra</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;oriented&#39;</span><span class="p">,</span> <span class="n">oriented</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
</span><span id="Channel-797"><a href="#Channel-797"><span class="linenos">797</span></a>
</span><span id="Channel-798"><a href="#Channel-798"><span class="linenos">798</span></a>    <span class="nd">@classmethod</span>
</span><span id="Channel-799"><a href="#Channel-799"><span class="linenos">799</span></a>    <span class="k">def</span> <span class="nf">from_obspy_channel</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">obspy_channel</span><span class="p">,</span> <span class="n">xy_from_lat_lon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="Channel-800"><a href="#Channel-800"><span class="linenos">800</span></a>                           <span class="n">output_projection</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">input_projection</span><span class="o">=</span><span class="mi">4326</span><span class="p">):</span>
</span><span id="Channel-801"><a href="#Channel-801"><span class="linenos">801</span></a>
</span><span id="Channel-802"><a href="#Channel-802"><span class="linenos">802</span></a>        <span class="n">cha</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">obspy_channel</span><span class="o">.</span><span class="n">code</span><span class="p">,</span> <span class="n">obspy_channel</span><span class="o">.</span><span class="n">location_code</span><span class="p">,</span>
</span><span id="Channel-803"><a href="#Channel-803"><span class="linenos">803</span></a>                  <span class="n">latitude</span><span class="o">=</span><span class="n">obspy_channel</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span>
</span><span id="Channel-804"><a href="#Channel-804"><span class="linenos">804</span></a>                  <span class="n">longitude</span><span class="o">=</span><span class="n">obspy_channel</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span>
</span><span id="Channel-805"><a href="#Channel-805"><span class="linenos">805</span></a>                  <span class="n">elevation</span><span class="o">=</span><span class="n">obspy_channel</span><span class="o">.</span><span class="n">elevation</span><span class="p">,</span>
</span><span id="Channel-806"><a href="#Channel-806"><span class="linenos">806</span></a>                  <span class="n">depth</span><span class="o">=</span><span class="n">obspy_channel</span><span class="o">.</span><span class="n">depth</span><span class="p">)</span>
</span><span id="Channel-807"><a href="#Channel-807"><span class="linenos">807</span></a>
</span><span id="Channel-808"><a href="#Channel-808"><span class="linenos">808</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obspy_channel</span><span class="p">,</span> <span class="s1">&#39;extra&#39;</span><span class="p">):</span>
</span><span id="Channel-809"><a href="#Channel-809"><span class="linenos">809</span></a>            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">cha</span><span class="o">.</span><span class="n">extra</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Channel-810"><a href="#Channel-810"><span class="linenos">810</span></a>                <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">obspy_channel</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Channel-811"><a href="#Channel-811"><span class="linenos">811</span></a>                    <span class="n">cha</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Channel-812"><a href="#Channel-812"><span class="linenos">812</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="Channel-813"><a href="#Channel-813"><span class="linenos">813</span></a>                    <span class="n">cha</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> \
</span><span id="Channel-814"><a href="#Channel-814"><span class="linenos">814</span></a>                        <span class="n">obspy_channel</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">][</span><span class="n">key</span><span class="p">]</span>
</span><span id="Channel-815"><a href="#Channel-815"><span class="linenos">815</span></a>
</span><span id="Channel-816"><a href="#Channel-816"><span class="linenos">816</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">obspy_channel</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Channel-817"><a href="#Channel-817"><span class="linenos">817</span></a>            <span class="n">cha</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">obspy_channel</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="Channel-818"><a href="#Channel-818"><span class="linenos">818</span></a>
</span><span id="Channel-819"><a href="#Channel-819"><span class="linenos">819</span></a>        <span class="k">if</span> <span class="n">xy_from_lat_lon</span><span class="p">:</span>
</span><span id="Channel-820"><a href="#Channel-820"><span class="linenos">820</span></a>            <span class="k">if</span> <span class="p">(</span><span class="n">cha</span><span class="o">.</span><span class="n">latitude</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">cha</span><span class="o">.</span><span class="n">longitude</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="Channel-821"><a href="#Channel-821"><span class="linenos">821</span></a>
</span><span id="Channel-822"><a href="#Channel-822"><span class="linenos">822</span></a>                <span class="n">cha</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">cha</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">lon_lat_x_y</span><span class="p">(</span><span class="n">input_projection</span><span class="p">,</span> <span class="n">output_projection</span><span class="p">,</span>
</span><span id="Channel-823"><a href="#Channel-823"><span class="linenos">823</span></a>                                           <span class="n">longitude</span><span class="o">=</span><span class="n">cha</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span>
</span><span id="Channel-824"><a href="#Channel-824"><span class="linenos">824</span></a>                                           <span class="n">latitude</span><span class="o">=</span><span class="n">cha</span><span class="o">.</span><span class="n">latitude</span><span class="p">)</span>
</span><span id="Channel-825"><a href="#Channel-825"><span class="linenos">825</span></a>
</span><span id="Channel-826"><a href="#Channel-826"><span class="linenos">826</span></a>                <span class="n">cha</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">cha</span><span class="o">.</span><span class="n">elevation</span>
</span><span id="Channel-827"><a href="#Channel-827"><span class="linenos">827</span></a>
</span><span id="Channel-828"><a href="#Channel-828"><span class="linenos">828</span></a>        <span class="k">return</span> <span class="n">cha</span>
</span><span id="Channel-829"><a href="#Channel-829"><span class="linenos">829</span></a>
</span><span id="Channel-830"><a href="#Channel-830"><span class="linenos">830</span></a>    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span><span id="Channel-831"><a href="#Channel-831"><span class="linenos">831</span></a>        <span class="k">if</span> <span class="n">item</span> <span class="o">==</span> <span class="s1">&#39;coordinates&#39;</span><span class="p">:</span>
</span><span id="Channel-832"><a href="#Channel-832"><span class="linenos">832</span></a>            <span class="k">return</span> <span class="n">Coordinates</span><span class="o">.</span><span class="n">from_extra_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">[</span><span class="s1">&#39;coordinates&#39;</span><span class="p">])</span>
</span><span id="Channel-833"><a href="#Channel-833"><span class="linenos">833</span></a>        <span class="k">elif</span> <span class="n">item</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">,</span> <span class="s1">&#39;oriented&#39;</span><span class="p">):</span>
</span><span id="Channel-834"><a href="#Channel-834"><span class="linenos">834</span></a>            <span class="k">return</span> <span class="n">get_extra</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</span><span id="Channel-835"><a href="#Channel-835"><span class="linenos">835</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Channel-836"><a href="#Channel-836"><span class="linenos">836</span></a>            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="nb">super</span><span class="p">(),</span> <span class="n">item</span><span class="p">):</span>
</span><span id="Channel-837"><a href="#Channel-837"><span class="linenos">837</span></a>                <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="nb">super</span><span class="p">(),</span> <span class="n">item</span><span class="p">)</span>
</span><span id="Channel-838"><a href="#Channel-838"><span class="linenos">838</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Channel-839"><a href="#Channel-839"><span class="linenos">839</span></a>                <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span>
</span><span id="Channel-840"><a href="#Channel-840"><span class="linenos">840</span></a>                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; object has no attribute &#39;</span><span class="si">{</span><span class="n">item</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</span><span id="Channel-841"><a href="#Channel-841"><span class="linenos">841</span></a>
</span><span id="Channel-842"><a href="#Channel-842"><span class="linenos">842</span></a>    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="Channel-843"><a href="#Channel-843"><span class="linenos">843</span></a>        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;coordinates&#39;</span><span class="p">:</span>
</span><span id="Channel-844"><a href="#Channel-844"><span class="linenos">844</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">to_extra_key</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
</span><span id="Channel-845"><a href="#Channel-845"><span class="linenos">845</span></a>        <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">,</span> <span class="s1">&#39;oriented&#39;</span><span class="p">):</span>
</span><span id="Channel-846"><a href="#Channel-846"><span class="linenos">846</span></a>            <span class="n">set_extra</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
</span><span id="Channel-847"><a href="#Channel-847"><span class="linenos">847</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Channel-848"><a href="#Channel-848"><span class="linenos">848</span></a>            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="Channel-849"><a href="#Channel-849"><span class="linenos">849</span></a>
</span><span id="Channel-850"><a href="#Channel-850"><span class="linenos">850</span></a>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
</span><span id="Channel-851"><a href="#Channel-851"><span class="linenos">851</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="Channel-852"><a href="#Channel-852"><span class="linenos">852</span></a>
</span><span id="Channel-853"><a href="#Channel-853"><span class="linenos">853</span></a>    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="Channel-854"><a href="#Channel-854"><span class="linenos">854</span></a>        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="Channel-855"><a href="#Channel-855"><span class="linenos">855</span></a>
</span><span id="Channel-856"><a href="#Channel-856"><span class="linenos">856</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Channel-857"><a href="#Channel-857"><span class="linenos">857</span></a>        <span class="n">time_range</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">start_date</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">end_date</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_date</span> <span class="ow">and</span> \
</span><span id="Channel-858"><a href="#Channel-858"><span class="linenos">858</span></a>                                                               <span class="bp">self</span><span class="o">.</span><span class="n">end_date</span> <span class="k">else</span> <span class="s1">&#39;N/A&#39;</span>
</span><span id="Channel-859"><a href="#Channel-859"><span class="linenos">859</span></a>
</span><span id="Channel-860"><a href="#Channel-860"><span class="linenos">860</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">coordinate_system</span> <span class="o">==</span> <span class="s1">&#39;ENU&#39;</span><span class="p">:</span>
</span><span id="Channel-861"><a href="#Channel-861"><span class="linenos">861</span></a>
</span><span id="Channel-862"><a href="#Channel-862"><span class="linenos">862</span></a>            <span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Channel-863"><a href="#Channel-863"><span class="linenos">863</span></a>                <span class="s1">&#39;Channel&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">code</span><span class="p">,</span>
</span><span id="Channel-864"><a href="#Channel-864"><span class="linenos">864</span></a>                <span class="s1">&#39;Location&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">location_code</span><span class="p">,</span>
</span><span id="Channel-865"><a href="#Channel-865"><span class="linenos">865</span></a>                <span class="s1">&#39;Time range&#39;</span><span class="p">:</span> <span class="n">time_range</span><span class="p">,</span>
</span><span id="Channel-866"><a href="#Channel-866"><span class="linenos">866</span></a>                <span class="s1">&#39;Northing [x]&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="si">:</span><span class="s2">0.0f</span><span class="si">}</span><span class="s2"> m&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="Channel-867"><a href="#Channel-867"><span class="linenos">867</span></a>                <span class="s1">&#39;Easting [y]&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="si">:</span><span class="s2">0.0f</span><span class="si">}</span><span class="s2"> m&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="Channel-868"><a href="#Channel-868"><span class="linenos">868</span></a>                <span class="s1">&#39;Elevation [z]&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="si">:</span><span class="s2">0.0f</span><span class="si">}</span><span class="s2"> m&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="Channel-869"><a href="#Channel-869"><span class="linenos">869</span></a>                <span class="s1">&#39;Dip (degrees)&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dip</span><span class="si">:</span><span class="s2">0.0f</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dip</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="Channel-870"><a href="#Channel-870"><span class="linenos">870</span></a>                <span class="s1">&#39;Azimuth (degrees)&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span><span class="si">:</span><span class="s2">0.0f</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span>
</span><span id="Channel-871"><a href="#Channel-871"><span class="linenos">871</span></a>                                                               <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="Channel-872"><a href="#Channel-872"><span class="linenos">872</span></a>                <span class="s1">&#39;Response information&#39;</span><span class="p">:</span> <span class="s1">&#39;available&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">response</span> <span class="k">else</span> <span class="s1">&#39;not available&#39;</span>
</span><span id="Channel-873"><a href="#Channel-873"><span class="linenos">873</span></a>            <span class="p">}</span>
</span><span id="Channel-874"><a href="#Channel-874"><span class="linenos">874</span></a>
</span><span id="Channel-875"><a href="#Channel-875"><span class="linenos">875</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Channel-876"><a href="#Channel-876"><span class="linenos">876</span></a>            <span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Channel-877"><a href="#Channel-877"><span class="linenos">877</span></a>                <span class="s1">&#39;Channel&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">code</span><span class="p">,</span>
</span><span id="Channel-878"><a href="#Channel-878"><span class="linenos">878</span></a>                <span class="s1">&#39;Location&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">location_code</span><span class="p">,</span>
</span><span id="Channel-879"><a href="#Channel-879"><span class="linenos">879</span></a>                <span class="s1">&#39;Time range&#39;</span><span class="p">:</span> <span class="n">time_range</span><span class="p">,</span>
</span><span id="Channel-880"><a href="#Channel-880"><span class="linenos">880</span></a>                <span class="s1">&#39;Easting [x]&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="si">:</span><span class="s2">0.0f</span><span class="si">}</span><span class="s2"> m&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="Channel-881"><a href="#Channel-881"><span class="linenos">881</span></a>                <span class="s1">&#39;Northing [y]&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="si">:</span><span class="s2">0.0f</span><span class="si">}</span><span class="s2"> m&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="Channel-882"><a href="#Channel-882"><span class="linenos">882</span></a>                <span class="s1">&#39;Depth [z]&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="si">:</span><span class="s2">0.0f</span><span class="si">}</span><span class="s2"> m&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="Channel-883"><a href="#Channel-883"><span class="linenos">883</span></a>                <span class="s1">&#39;Dip (degrees)&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dip</span><span class="si">:</span><span class="s2">0.0f</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dip</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="Channel-884"><a href="#Channel-884"><span class="linenos">884</span></a>                <span class="s1">&#39;Azimuth (degrees)&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span><span class="si">:</span><span class="s2">0.0f</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span>
</span><span id="Channel-885"><a href="#Channel-885"><span class="linenos">885</span></a>                                                               <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;N/A&#39;</span><span class="p">,</span>
</span><span id="Channel-886"><a href="#Channel-886"><span class="linenos">886</span></a>                <span class="s1">&#39;Response information&#39;</span><span class="p">:</span> <span class="s1">&#39;available&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">response</span> <span class="k">else</span> <span class="s1">&#39;not available&#39;</span>
</span><span id="Channel-887"><a href="#Channel-887"><span class="linenos">887</span></a>            <span class="p">}</span>
</span><span id="Channel-888"><a href="#Channel-888"><span class="linenos">888</span></a>
</span><span id="Channel-889"><a href="#Channel-889"><span class="linenos">889</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">attributes</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
</span><span id="Channel-890"><a href="#Channel-890"><span class="linenos">890</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span><span id="Channel-891"><a href="#Channel-891"><span class="linenos">891</span></a>
</span><span id="Channel-892"><a href="#Channel-892"><span class="linenos">892</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="Channel-893"><a href="#Channel-893"><span class="linenos">893</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="Channel-894"><a href="#Channel-894"><span class="linenos">894</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="Channel-895"><a href="#Channel-895"><span class="linenos">895</span></a>
</span><span id="Channel-896"><a href="#Channel-896"><span class="linenos">896</span></a>        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">coordinates</span> <span class="ow">and</span>
</span><span id="Channel-897"><a href="#Channel-897"><span class="linenos">897</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">active</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">active</span> <span class="ow">and</span>
</span><span id="Channel-898"><a href="#Channel-898"><span class="linenos">898</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">oriented</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">oriented</span><span class="p">)</span>
</span><span id="Channel-899"><a href="#Channel-899"><span class="linenos">899</span></a>
</span><span id="Channel-900"><a href="#Channel-900"><span class="linenos">900</span></a>    <span class="k">def</span> <span class="nf">set_orientation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">orientation_vector</span><span class="p">):</span>
</span><span id="Channel-901"><a href="#Channel-901"><span class="linenos">901</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Channel-902"><a href="#Channel-902"><span class="linenos">902</span></a><span class="sd">        set the Azimuth and Dip from an orientation vector assuming the</span>
</span><span id="Channel-903"><a href="#Channel-903"><span class="linenos">903</span></a><span class="sd">        orientation vector provided is east, north, up.</span>
</span><span id="Channel-904"><a href="#Channel-904"><span class="linenos">904</span></a><span class="sd">        :param self:</span>
</span><span id="Channel-905"><a href="#Channel-905"><span class="linenos">905</span></a><span class="sd">        :param orientation_vector:</span>
</span><span id="Channel-906"><a href="#Channel-906"><span class="linenos">906</span></a><span class="sd">        :return:</span>
</span><span id="Channel-907"><a href="#Channel-907"><span class="linenos">907</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Channel-908"><a href="#Channel-908"><span class="linenos">908</span></a>
</span><span id="Channel-909"><a href="#Channel-909"><span class="linenos">909</span></a>        <span class="n">east</span> <span class="o">=</span> <span class="n">orientation_vector</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Channel-910"><a href="#Channel-910"><span class="linenos">910</span></a>        <span class="n">north</span> <span class="o">=</span> <span class="n">orientation_vector</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="Channel-911"><a href="#Channel-911"><span class="linenos">911</span></a>        <span class="n">up</span> <span class="o">=</span> <span class="n">orientation_vector</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</span><span id="Channel-912"><a href="#Channel-912"><span class="linenos">912</span></a>
</span><span id="Channel-913"><a href="#Channel-913"><span class="linenos">913</span></a>        <span class="n">horizontal_length</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">([</span><span class="n">east</span><span class="p">,</span> <span class="n">north</span><span class="p">])</span>
</span><span id="Channel-914"><a href="#Channel-914"><span class="linenos">914</span></a>
</span><span id="Channel-915"><a href="#Channel-915"><span class="linenos">915</span></a>        <span class="n">azimuth</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">east</span><span class="p">,</span> <span class="n">north</span><span class="p">)</span> <span class="o">*</span> <span class="mi">180</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span>
</span><span id="Channel-916"><a href="#Channel-916"><span class="linenos">916</span></a>        <span class="k">if</span> <span class="n">azimuth</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Channel-917"><a href="#Channel-917"><span class="linenos">917</span></a>            <span class="n">azimuth</span> <span class="o">=</span> <span class="mi">360</span> <span class="o">+</span> <span class="n">azimuth</span>
</span><span id="Channel-918"><a href="#Channel-918"><span class="linenos">918</span></a>
</span><span id="Channel-919"><a href="#Channel-919"><span class="linenos">919</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span> <span class="o">=</span> <span class="n">azimuth</span>
</span><span id="Channel-920"><a href="#Channel-920"><span class="linenos">920</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dip</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="o">-</span><span class="n">up</span><span class="p">,</span> <span class="n">horizontal_length</span><span class="p">)</span> <span class="o">*</span> <span class="mi">180</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span>
</span><span id="Channel-921"><a href="#Channel-921"><span class="linenos">921</span></a>
</span><span id="Channel-922"><a href="#Channel-922"><span class="linenos">922</span></a>    <span class="nd">@property</span>
</span><span id="Channel-923"><a href="#Channel-923"><span class="linenos">923</span></a>    <span class="k">def</span> <span class="nf">orientation_vector</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Channel-924"><a href="#Channel-924"><span class="linenos">924</span></a>
</span><span id="Channel-925"><a href="#Channel-925"><span class="linenos">925</span></a>        <span class="n">up</span> <span class="o">=</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dip</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">180</span><span class="p">)</span>
</span><span id="Channel-926"><a href="#Channel-926"><span class="linenos">926</span></a>        <span class="n">east</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">180</span><span class="p">)</span> <span class="o">*</span> \
</span><span id="Channel-927"><a href="#Channel-927"><span class="linenos">927</span></a>               <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dip</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">180</span><span class="p">)</span>
</span><span id="Channel-928"><a href="#Channel-928"><span class="linenos">928</span></a>        <span class="n">north</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">180</span><span class="p">)</span> <span class="o">*</span> \
</span><span id="Channel-929"><a href="#Channel-929"><span class="linenos">929</span></a>                <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dip</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">180</span><span class="p">)</span>
</span><span id="Channel-930"><a href="#Channel-930"><span class="linenos">930</span></a>
</span><span id="Channel-931"><a href="#Channel-931"><span class="linenos">931</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">east</span><span class="p">,</span> <span class="n">north</span><span class="p">,</span> <span class="n">up</span><span class="p">])</span>
</span><span id="Channel-932"><a href="#Channel-932"><span class="linenos">932</span></a>
</span><span id="Channel-933"><a href="#Channel-933"><span class="linenos">933</span></a>    <span class="nd">@property</span>
</span><span id="Channel-934"><a href="#Channel-934"><span class="linenos">934</span></a>    <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Channel-935"><a href="#Channel-935"><span class="linenos">935</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">x</span>
</span><span id="Channel-936"><a href="#Channel-936"><span class="linenos">936</span></a>
</span><span id="Channel-937"><a href="#Channel-937"><span class="linenos">937</span></a>    <span class="nd">@property</span>
</span><span id="Channel-938"><a href="#Channel-938"><span class="linenos">938</span></a>    <span class="k">def</span> <span class="nf">y</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Channel-939"><a href="#Channel-939"><span class="linenos">939</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">y</span>
</span><span id="Channel-940"><a href="#Channel-940"><span class="linenos">940</span></a>
</span><span id="Channel-941"><a href="#Channel-941"><span class="linenos">941</span></a>    <span class="nd">@property</span>
</span><span id="Channel-942"><a href="#Channel-942"><span class="linenos">942</span></a>    <span class="k">def</span> <span class="nf">z</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Channel-943"><a href="#Channel-943"><span class="linenos">943</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">z</span>
</span><span id="Channel-944"><a href="#Channel-944"><span class="linenos">944</span></a>
</span><span id="Channel-945"><a href="#Channel-945"><span class="linenos">945</span></a>    <span class="nd">@property</span>
</span><span id="Channel-946"><a href="#Channel-946"><span class="linenos">946</span></a>    <span class="k">def</span> <span class="nf">loc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Channel-947"><a href="#Channel-947"><span class="linenos">947</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">])</span>
</span></pre></div>


            <div class="docstring"><p>From the StationXML definition:
    Equivalent to SEED blockette 52 and parent element for the related
    response blockettes.</p>
</div>


                            <div id="Channel.__init__" class="classattr">
                                        <input id="Channel.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Channel</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">code</span>,</span><span class="param">	<span class="n">location_code</span>,</span><span class="param">	<span class="n">active</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">oriented</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">coordinates</span><span class="p">:</span> <span class="n"><a href="coordinates.html#Coordinates">uquake.core.coordinates.Coordinates</a></span> <span class="o">=</span> 
                        <span class="n">x</span><span class="p">:</span>  <span class="mf">0.00</span>
                        <span class="n">y</span><span class="p">:</span>  <span class="mf">0.00</span>
                        <span class="n">z</span><span class="p">:</span>  <span class="mf">0.00</span>
        <span class="n">coordinate</span> <span class="n">system</span><span class="p">:</span> <span class="n">NED</span>
           <span class="n">transformation</span><span class="p">:</span> 
                <span class="n">translation</span><span class="p">:</span> <span class="mi">0</span>
                   <span class="n">rotation</span><span class="p">:</span> <span class="mi">0</span>
                  <span class="n">epsg_code</span><span class="p">:</span> <span class="kc">None</span>
                    <span class="n">scaling</span><span class="p">:</span> <span class="mf">1.0</span>
        <span class="n">reference</span> <span class="n">elevation</span><span class="p">:</span> <span class="mf">0.0</span>,</span><span class="param">	<span class="n">orientation_vector</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="Channel.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Channel.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Channel.__init__-774"><a href="#Channel.__init__-774"><span class="linenos">774</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code</span><span class="p">,</span> <span class="n">location_code</span><span class="p">,</span> <span class="n">active</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">oriented</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="Channel.__init__-775"><a href="#Channel.__init__-775"><span class="linenos">775</span></a>                 <span class="n">coordinates</span><span class="p">:</span> <span class="n">Coordinates</span> <span class="o">=</span> <span class="n">Coordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
</span><span id="Channel.__init__-776"><a href="#Channel.__init__-776"><span class="linenos">776</span></a>                 <span class="n">orientation_vector</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Channel.__init__-777"><a href="#Channel.__init__-777"><span class="linenos">777</span></a>
</span><span id="Channel.__init__-778"><a href="#Channel.__init__-778"><span class="linenos">778</span></a>        <span class="n">latitude</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;latitude&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="s1">&#39;latitude&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="Channel.__init__-779"><a href="#Channel.__init__-779"><span class="linenos">779</span></a>        <span class="n">longitude</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;longitude&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="s1">&#39;longitude&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="Channel.__init__-780"><a href="#Channel.__init__-780"><span class="linenos">780</span></a>        <span class="n">elevation</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;elevation&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="s1">&#39;elevation&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="Channel.__init__-781"><a href="#Channel.__init__-781"><span class="linenos">781</span></a>        <span class="n">depth</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;depth&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="s1">&#39;depth&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="Channel.__init__-782"><a href="#Channel.__init__-782"><span class="linenos">782</span></a>
</span><span id="Channel.__init__-783"><a href="#Channel.__init__-783"><span class="linenos">783</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">location_code</span><span class="p">,</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">,</span>
</span><span id="Channel.__init__-784"><a href="#Channel.__init__-784"><span class="linenos">784</span></a>                                      <span class="n">elevation</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Channel.__init__-785"><a href="#Channel.__init__-785"><span class="linenos">785</span></a>
</span><span id="Channel.__init__-786"><a href="#Channel.__init__-786"><span class="linenos">786</span></a>        <span class="k">if</span> <span class="s1">&#39;extra&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>  <span class="c1"># hack for deepcopy to work</span>
</span><span id="Channel.__init__-787"><a href="#Channel.__init__-787"><span class="linenos">787</span></a>            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Channel.__init__-788"><a href="#Channel.__init__-788"><span class="linenos">788</span></a>
</span><span id="Channel.__init__-789"><a href="#Channel.__init__-789"><span class="linenos">789</span></a>        <span class="k">if</span> <span class="n">orientation_vector</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Channel.__init__-790"><a href="#Channel.__init__-790"><span class="linenos">790</span></a>            <span class="c1"># making the orientation vector (cosine vector) unitary</span>
</span><span id="Channel.__init__-791"><a href="#Channel.__init__-791"><span class="linenos">791</span></a>            <span class="n">orientation_vector</span> <span class="o">=</span> <span class="n">orientation_vector</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">orientation_vector</span><span class="p">)</span>
</span><span id="Channel.__init__-792"><a href="#Channel.__init__-792"><span class="linenos">792</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_orientation</span><span class="p">(</span><span class="n">orientation_vector</span><span class="p">)</span>
</span><span id="Channel.__init__-793"><a href="#Channel.__init__-793"><span class="linenos">793</span></a>
</span><span id="Channel.__init__-794"><a href="#Channel.__init__-794"><span class="linenos">794</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">[</span><span class="s1">&#39;coordinates&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">coordinates</span><span class="o">.</span><span class="n">to_extra_key</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
</span><span id="Channel.__init__-795"><a href="#Channel.__init__-795"><span class="linenos">795</span></a>        <span class="n">set_extra</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">,</span> <span class="n">active</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
</span><span id="Channel.__init__-796"><a href="#Channel.__init__-796"><span class="linenos">796</span></a>        <span class="n">set_extra</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;oriented&#39;</span><span class="p">,</span> <span class="n">oriented</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><h6 id="parameters">Parameters</h6>

<ul>
<li><strong>code</strong>:  The SEED channel code for this channel</li>
<li><strong>location_code</strong>:  The SEED location code for this channel</li>
<li><strong>latitude</strong>:  Latitude coordinate of this channel's sensor.</li>
<li><strong>longitude</strong>:  Longitude coordinate of this channel's sensor.</li>
<li><strong>elevation</strong>:  Elevation of the sensor.</li>
<li><strong>depth</strong>:  The local depth or overburden of the instrument's
location. For downhole instruments, the depth of the instrument
under the surface ground level. For underground vaults, the
distance from the instrument to the local ground level above.</li>
<li><strong>azimuth</strong>:  Azimuth of the sensor in degrees from North, clockwise.</li>
<li><strong>dip</strong>:  Dip of the instrument in degrees, down from horizontal.</li>
<li><strong>types</strong>:  The type of data this channel collects. Corresponds to
channel flags in SEED blockette 52. The SEED volume producer could
use the first letter of an Output value as the SEED channel flag.
Possible values: TRIGGERED, CONTINUOUS, HEALTH, GEOPHYSICAL,
WEATHER, FLAG, SYNTHESIZED, INPUT, EXPERIMENTAL, MAINTENANCE, BEAM</li>
<li><strong>external_references</strong>:  URI of any type of external report, such as
data quality reports.</li>
<li><strong>sample_rate</strong>:  This is a group of elements that represent sample
rate. If this group is included, then SampleRate, which is the
sample rate in samples per second, is required. SampleRateRatio,
which is expressed as a ratio of number of samples in a number of
seconds, is optional. If both are included, SampleRate should be
considered more definitive.</li>
<li><strong>sample_rate_ratio_number_samples</strong>:  The sample rate expressed as
number of samples in a number of seconds. This is the number of
samples.</li>
<li><strong>sample_rate_ratio_number_seconds</strong>:  The sample rate expressed as
number of samples in a number of seconds. This is the number of
seconds.</li>
<li><strong>storage_format</strong>:  Ignored. Removed with ObsPy version 1.2.0 in
accordance with StationXML 1.1</li>
<li><strong>clock_drift_in_seconds_per_sample</strong>:  A tolerance value, measured
in seconds per sample, used as a threshold for time error detection
in data from the channel.</li>
<li><strong>calibration_units</strong>:  Name of units , e.g. "M/S", "M", ...</li>
<li><strong>calibration_units_description</strong>:  Description of units, e.g.
"Velocity in meters per second", ...</li>
<li><strong>sensor</strong>:  The sensor</li>
<li><strong>pre_amplifier</strong>:  The pre-amplifier</li>
<li><strong>data_logger</strong>:  The data-logger</li>
<li><strong>equipments</strong>:  Other station equipment</li>
<li><strong>response</strong>:  The response of the channel</li>
<li><strong>description</strong>:  A description of the resource</li>
<li><strong>comments</strong>:  An arbitrary number of comments to the resource</li>
<li><strong>start_date</strong>:  The start date of the resource</li>
<li><strong>end_date</strong>:  The end date of the resource</li>
<li><strong>restricted_status</strong>:  The restriction status</li>
<li><strong>alternate_code</strong>:  A code used for display or association,
alternate to the SEED-compliant code.</li>
<li><strong>historical_code</strong>:  A previously used code if different from the
current code.</li>
<li><strong>data_availability</strong>:  Information about time series availability
for the channel.</li>
<li><strong>identifiers</strong>:  Persistent identifiers for network/station/channel
(schema version &gt;=1.1). URIs are in general composed of a 'scheme'
and a 'path' (optionally with additional components), the two of
which separated by a colon.</li>
<li><strong>water_level</strong>:  Elevation of the water surface in meters for
underwater sites, where 0 is sea level. (schema version &gt;=1.1)</li>
<li><strong>source_id</strong>:  A data source identifier in URI form
(schema version &gt;=1.1). URIs are in general composed of a 'scheme'
and a 'path' (optionally with additional components), the two of
which separated by a colon.</li>
</ul>
</div>


                            </div>
                            <div id="Channel.defaults" class="classattr">
                                <div class="attr variable">
            <span class="name">defaults</span>        =
<span class="default_value">{}</span>

        
    </div>
    <a class="headerlink" href="#Channel.defaults"></a>
    
    

                            </div>
                            <div id="Channel.from_obspy_channel" class="classattr">
                                        <input id="Channel.from_obspy_channel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">from_obspy_channel</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">cls</span>,</span><span class="param">	<span class="n">obspy_channel</span>,</span><span class="param">	<span class="n">xy_from_lat_lon</span><span class="o">=</span><span class="kc">False</span>,</span><span class="param">	<span class="n">output_projection</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">input_projection</span><span class="o">=</span><span class="mi">4326</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Channel.from_obspy_channel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Channel.from_obspy_channel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Channel.from_obspy_channel-798"><a href="#Channel.from_obspy_channel-798"><span class="linenos">798</span></a>    <span class="nd">@classmethod</span>
</span><span id="Channel.from_obspy_channel-799"><a href="#Channel.from_obspy_channel-799"><span class="linenos">799</span></a>    <span class="k">def</span> <span class="nf">from_obspy_channel</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">obspy_channel</span><span class="p">,</span> <span class="n">xy_from_lat_lon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="Channel.from_obspy_channel-800"><a href="#Channel.from_obspy_channel-800"><span class="linenos">800</span></a>                           <span class="n">output_projection</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">input_projection</span><span class="o">=</span><span class="mi">4326</span><span class="p">):</span>
</span><span id="Channel.from_obspy_channel-801"><a href="#Channel.from_obspy_channel-801"><span class="linenos">801</span></a>
</span><span id="Channel.from_obspy_channel-802"><a href="#Channel.from_obspy_channel-802"><span class="linenos">802</span></a>        <span class="n">cha</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">obspy_channel</span><span class="o">.</span><span class="n">code</span><span class="p">,</span> <span class="n">obspy_channel</span><span class="o">.</span><span class="n">location_code</span><span class="p">,</span>
</span><span id="Channel.from_obspy_channel-803"><a href="#Channel.from_obspy_channel-803"><span class="linenos">803</span></a>                  <span class="n">latitude</span><span class="o">=</span><span class="n">obspy_channel</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span>
</span><span id="Channel.from_obspy_channel-804"><a href="#Channel.from_obspy_channel-804"><span class="linenos">804</span></a>                  <span class="n">longitude</span><span class="o">=</span><span class="n">obspy_channel</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span>
</span><span id="Channel.from_obspy_channel-805"><a href="#Channel.from_obspy_channel-805"><span class="linenos">805</span></a>                  <span class="n">elevation</span><span class="o">=</span><span class="n">obspy_channel</span><span class="o">.</span><span class="n">elevation</span><span class="p">,</span>
</span><span id="Channel.from_obspy_channel-806"><a href="#Channel.from_obspy_channel-806"><span class="linenos">806</span></a>                  <span class="n">depth</span><span class="o">=</span><span class="n">obspy_channel</span><span class="o">.</span><span class="n">depth</span><span class="p">)</span>
</span><span id="Channel.from_obspy_channel-807"><a href="#Channel.from_obspy_channel-807"><span class="linenos">807</span></a>
</span><span id="Channel.from_obspy_channel-808"><a href="#Channel.from_obspy_channel-808"><span class="linenos">808</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obspy_channel</span><span class="p">,</span> <span class="s1">&#39;extra&#39;</span><span class="p">):</span>
</span><span id="Channel.from_obspy_channel-809"><a href="#Channel.from_obspy_channel-809"><span class="linenos">809</span></a>            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">cha</span><span class="o">.</span><span class="n">extra</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Channel.from_obspy_channel-810"><a href="#Channel.from_obspy_channel-810"><span class="linenos">810</span></a>                <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">obspy_channel</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Channel.from_obspy_channel-811"><a href="#Channel.from_obspy_channel-811"><span class="linenos">811</span></a>                    <span class="n">cha</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Channel.from_obspy_channel-812"><a href="#Channel.from_obspy_channel-812"><span class="linenos">812</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="Channel.from_obspy_channel-813"><a href="#Channel.from_obspy_channel-813"><span class="linenos">813</span></a>                    <span class="n">cha</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> \
</span><span id="Channel.from_obspy_channel-814"><a href="#Channel.from_obspy_channel-814"><span class="linenos">814</span></a>                        <span class="n">obspy_channel</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">][</span><span class="n">key</span><span class="p">]</span>
</span><span id="Channel.from_obspy_channel-815"><a href="#Channel.from_obspy_channel-815"><span class="linenos">815</span></a>
</span><span id="Channel.from_obspy_channel-816"><a href="#Channel.from_obspy_channel-816"><span class="linenos">816</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">obspy_channel</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Channel.from_obspy_channel-817"><a href="#Channel.from_obspy_channel-817"><span class="linenos">817</span></a>            <span class="n">cha</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">obspy_channel</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="Channel.from_obspy_channel-818"><a href="#Channel.from_obspy_channel-818"><span class="linenos">818</span></a>
</span><span id="Channel.from_obspy_channel-819"><a href="#Channel.from_obspy_channel-819"><span class="linenos">819</span></a>        <span class="k">if</span> <span class="n">xy_from_lat_lon</span><span class="p">:</span>
</span><span id="Channel.from_obspy_channel-820"><a href="#Channel.from_obspy_channel-820"><span class="linenos">820</span></a>            <span class="k">if</span> <span class="p">(</span><span class="n">cha</span><span class="o">.</span><span class="n">latitude</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">cha</span><span class="o">.</span><span class="n">longitude</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="Channel.from_obspy_channel-821"><a href="#Channel.from_obspy_channel-821"><span class="linenos">821</span></a>
</span><span id="Channel.from_obspy_channel-822"><a href="#Channel.from_obspy_channel-822"><span class="linenos">822</span></a>                <span class="n">cha</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">cha</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">lon_lat_x_y</span><span class="p">(</span><span class="n">input_projection</span><span class="p">,</span> <span class="n">output_projection</span><span class="p">,</span>
</span><span id="Channel.from_obspy_channel-823"><a href="#Channel.from_obspy_channel-823"><span class="linenos">823</span></a>                                           <span class="n">longitude</span><span class="o">=</span><span class="n">cha</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span>
</span><span id="Channel.from_obspy_channel-824"><a href="#Channel.from_obspy_channel-824"><span class="linenos">824</span></a>                                           <span class="n">latitude</span><span class="o">=</span><span class="n">cha</span><span class="o">.</span><span class="n">latitude</span><span class="p">)</span>
</span><span id="Channel.from_obspy_channel-825"><a href="#Channel.from_obspy_channel-825"><span class="linenos">825</span></a>
</span><span id="Channel.from_obspy_channel-826"><a href="#Channel.from_obspy_channel-826"><span class="linenos">826</span></a>                <span class="n">cha</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">cha</span><span class="o">.</span><span class="n">elevation</span>
</span><span id="Channel.from_obspy_channel-827"><a href="#Channel.from_obspy_channel-827"><span class="linenos">827</span></a>
</span><span id="Channel.from_obspy_channel-828"><a href="#Channel.from_obspy_channel-828"><span class="linenos">828</span></a>        <span class="k">return</span> <span class="n">cha</span>
</span></pre></div>


    

                            </div>
                            <div id="Channel.set_orientation" class="classattr">
                                        <input id="Channel.set_orientation-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_orientation</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">orientation_vector</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Channel.set_orientation-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Channel.set_orientation"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Channel.set_orientation-900"><a href="#Channel.set_orientation-900"><span class="linenos">900</span></a>    <span class="k">def</span> <span class="nf">set_orientation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">orientation_vector</span><span class="p">):</span>
</span><span id="Channel.set_orientation-901"><a href="#Channel.set_orientation-901"><span class="linenos">901</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Channel.set_orientation-902"><a href="#Channel.set_orientation-902"><span class="linenos">902</span></a><span class="sd">        set the Azimuth and Dip from an orientation vector assuming the</span>
</span><span id="Channel.set_orientation-903"><a href="#Channel.set_orientation-903"><span class="linenos">903</span></a><span class="sd">        orientation vector provided is east, north, up.</span>
</span><span id="Channel.set_orientation-904"><a href="#Channel.set_orientation-904"><span class="linenos">904</span></a><span class="sd">        :param self:</span>
</span><span id="Channel.set_orientation-905"><a href="#Channel.set_orientation-905"><span class="linenos">905</span></a><span class="sd">        :param orientation_vector:</span>
</span><span id="Channel.set_orientation-906"><a href="#Channel.set_orientation-906"><span class="linenos">906</span></a><span class="sd">        :return:</span>
</span><span id="Channel.set_orientation-907"><a href="#Channel.set_orientation-907"><span class="linenos">907</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Channel.set_orientation-908"><a href="#Channel.set_orientation-908"><span class="linenos">908</span></a>
</span><span id="Channel.set_orientation-909"><a href="#Channel.set_orientation-909"><span class="linenos">909</span></a>        <span class="n">east</span> <span class="o">=</span> <span class="n">orientation_vector</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Channel.set_orientation-910"><a href="#Channel.set_orientation-910"><span class="linenos">910</span></a>        <span class="n">north</span> <span class="o">=</span> <span class="n">orientation_vector</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="Channel.set_orientation-911"><a href="#Channel.set_orientation-911"><span class="linenos">911</span></a>        <span class="n">up</span> <span class="o">=</span> <span class="n">orientation_vector</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</span><span id="Channel.set_orientation-912"><a href="#Channel.set_orientation-912"><span class="linenos">912</span></a>
</span><span id="Channel.set_orientation-913"><a href="#Channel.set_orientation-913"><span class="linenos">913</span></a>        <span class="n">horizontal_length</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">([</span><span class="n">east</span><span class="p">,</span> <span class="n">north</span><span class="p">])</span>
</span><span id="Channel.set_orientation-914"><a href="#Channel.set_orientation-914"><span class="linenos">914</span></a>
</span><span id="Channel.set_orientation-915"><a href="#Channel.set_orientation-915"><span class="linenos">915</span></a>        <span class="n">azimuth</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">east</span><span class="p">,</span> <span class="n">north</span><span class="p">)</span> <span class="o">*</span> <span class="mi">180</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span>
</span><span id="Channel.set_orientation-916"><a href="#Channel.set_orientation-916"><span class="linenos">916</span></a>        <span class="k">if</span> <span class="n">azimuth</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Channel.set_orientation-917"><a href="#Channel.set_orientation-917"><span class="linenos">917</span></a>            <span class="n">azimuth</span> <span class="o">=</span> <span class="mi">360</span> <span class="o">+</span> <span class="n">azimuth</span>
</span><span id="Channel.set_orientation-918"><a href="#Channel.set_orientation-918"><span class="linenos">918</span></a>
</span><span id="Channel.set_orientation-919"><a href="#Channel.set_orientation-919"><span class="linenos">919</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span> <span class="o">=</span> <span class="n">azimuth</span>
</span><span id="Channel.set_orientation-920"><a href="#Channel.set_orientation-920"><span class="linenos">920</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dip</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="o">-</span><span class="n">up</span><span class="p">,</span> <span class="n">horizontal_length</span><span class="p">)</span> <span class="o">*</span> <span class="mi">180</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span>
</span></pre></div>


            <div class="docstring"><p>set the Azimuth and Dip from an orientation vector assuming the
orientation vector provided is east, north, up.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>self</strong>: </li>
<li><strong>orientation_vector</strong>: </li>
</ul>

<h6 id="returns">Returns</h6>
</div>


                            </div>
                            <div id="Channel.orientation_vector" class="classattr">
                                <div class="attr variable">
            <span class="name">orientation_vector</span>

        
    </div>
    <a class="headerlink" href="#Channel.orientation_vector"></a>
    
    

                            </div>
                            <div id="Channel.x" class="classattr">
                                <div class="attr variable">
            <span class="name">x</span>

        
    </div>
    <a class="headerlink" href="#Channel.x"></a>
    
    

                            </div>
                            <div id="Channel.y" class="classattr">
                                <div class="attr variable">
            <span class="name">y</span>

        
    </div>
    <a class="headerlink" href="#Channel.y"></a>
    
    

                            </div>
                            <div id="Channel.z" class="classattr">
                                <div class="attr variable">
            <span class="name">z</span>

        
    </div>
    <a class="headerlink" href="#Channel.z"></a>
    
    

                            </div>
                            <div id="Channel.loc" class="classattr">
                                <div class="attr variable">
            <span class="name">loc</span>

        
    </div>
    <a class="headerlink" href="#Channel.loc"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>obspy.core.inventory.channel.Channel</dt>
                                <dd id="Channel.location_code" class="variable">location_code</dd>
                <dd id="Channel.latitude" class="variable">latitude</dd>
                <dd id="Channel.longitude" class="variable">longitude</dd>
                <dd id="Channel.elevation" class="variable">elevation</dd>
                <dd id="Channel.depth" class="variable">depth</dd>
                <dd id="Channel.azimuth" class="variable">azimuth</dd>
                <dd id="Channel.dip" class="variable">dip</dd>
                <dd id="Channel.water_level" class="variable">water_level</dd>
                <dd id="Channel.types" class="variable">types</dd>
                <dd id="Channel.external_references" class="variable">external_references</dd>
                <dd id="Channel.sample_rate" class="variable">sample_rate</dd>
                <dd id="Channel.sample_rate_ratio_number_samples" class="variable">sample_rate_ratio_number_samples</dd>
                <dd id="Channel.sample_rate_ratio_number_seconds" class="variable">sample_rate_ratio_number_seconds</dd>
                <dd id="Channel.clock_drift_in_seconds_per_sample" class="variable">clock_drift_in_seconds_per_sample</dd>
                <dd id="Channel.calibration_units" class="variable">calibration_units</dd>
                <dd id="Channel.calibration_units_description" class="variable">calibration_units_description</dd>
                <dd id="Channel.sensor" class="variable">sensor</dd>
                <dd id="Channel.pre_amplifier" class="variable">pre_amplifier</dd>
                <dd id="Channel.data_logger" class="variable">data_logger</dd>
                <dd id="Channel.equipments" class="variable">equipments</dd>
                <dd id="Channel.response" class="variable">response</dd>
                <dd id="Channel.storage_format" class="variable">storage_format</dd>
                <dd id="Channel.equipment" class="variable">equipment</dd>
                <dd id="Channel.plot" class="function">plot</dd>

            </div>
            <div><dt>obspy.core.inventory.util.BaseNode</dt>
                                <dd id="Channel.code" class="variable">code</dd>
                <dd id="Channel.comments" class="variable">comments</dd>
                <dd id="Channel.description" class="variable">description</dd>
                <dd id="Channel.start_date" class="variable">start_date</dd>
                <dd id="Channel.end_date" class="variable">end_date</dd>
                <dd id="Channel.restricted_status" class="variable">restricted_status</dd>
                <dd id="Channel.alternate_code" class="variable">alternate_code</dd>
                <dd id="Channel.historical_code" class="variable">historical_code</dd>
                <dd id="Channel.data_availability" class="variable">data_availability</dd>
                <dd id="Channel.identifiers" class="variable">identifiers</dd>
                <dd id="Channel.source_id" class="variable">source_id</dd>
                <dd id="Channel.copy" class="function">copy</dd>
                <dd id="Channel.is_active" class="function">is_active</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="load_from_excel">
                            <input id="load_from_excel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">load_from_excel</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">file_name</span></span><span class="return-annotation">) -> <span class="n"><a href="#Inventory">Inventory</a></span>:</span></span>

                <label class="view-source-button" for="load_from_excel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#load_from_excel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="load_from_excel-950"><a href="#load_from_excel-950"><span class="linenos"> 950</span></a><span class="k">def</span> <span class="nf">load_from_excel</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Inventory</span><span class="p">:</span>
</span><span id="load_from_excel-951"><a href="#load_from_excel-951"><span class="linenos"> 951</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="load_from_excel-952"><a href="#load_from_excel-952"><span class="linenos"> 952</span></a><span class="sd">    Read in a multi-sheet excel file with network metadata sheets:</span>
</span><span id="load_from_excel-953"><a href="#load_from_excel-953"><span class="linenos"> 953</span></a><span class="sd">        Locations, Networks, Hubs, Stations, Components, Locations, Cables,</span>
</span><span id="load_from_excel-954"><a href="#load_from_excel-954"><span class="linenos"> 954</span></a><span class="sd">        Boreholes</span>
</span><span id="load_from_excel-955"><a href="#load_from_excel-955"><span class="linenos"> 955</span></a><span class="sd">    Organize these into a uquake Inventory object</span>
</span><span id="load_from_excel-956"><a href="#load_from_excel-956"><span class="linenos"> 956</span></a>
</span><span id="load_from_excel-957"><a href="#load_from_excel-957"><span class="linenos"> 957</span></a><span class="sd">    :param xls_file: path to excel file</span>
</span><span id="load_from_excel-958"><a href="#load_from_excel-958"><span class="linenos"> 958</span></a><span class="sd">    :type: xls_file: str</span>
</span><span id="load_from_excel-959"><a href="#load_from_excel-959"><span class="linenos"> 959</span></a><span class="sd">    :return: inventory</span>
</span><span id="load_from_excel-960"><a href="#load_from_excel-960"><span class="linenos"> 960</span></a><span class="sd">    :rtype: uquake.core.data.inventory.Inventory</span>
</span><span id="load_from_excel-961"><a href="#load_from_excel-961"><span class="linenos"> 961</span></a>
</span><span id="load_from_excel-962"><a href="#load_from_excel-962"><span class="linenos"> 962</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="load_from_excel-963"><a href="#load_from_excel-963"><span class="linenos"> 963</span></a>
</span><span id="load_from_excel-964"><a href="#load_from_excel-964"><span class="linenos"> 964</span></a>    <span class="n">df_dict</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</span><span id="load_from_excel-965"><a href="#load_from_excel-965"><span class="linenos"> 965</span></a>
</span><span id="load_from_excel-966"><a href="#load_from_excel-966"><span class="linenos"> 966</span></a>    <span class="n">source</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Locations&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;code&#39;</span><span class="p">]</span>
</span><span id="load_from_excel-967"><a href="#load_from_excel-967"><span class="linenos"> 967</span></a>    <span class="c1"># sender (str, optional) Name of the institution sending this message.</span>
</span><span id="load_from_excel-968"><a href="#load_from_excel-968"><span class="linenos"> 968</span></a>    <span class="n">sender</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Locations&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;operator&#39;</span><span class="p">]</span>
</span><span id="load_from_excel-969"><a href="#load_from_excel-969"><span class="linenos"> 969</span></a>    <span class="n">net_code</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Networks&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;code&#39;</span><span class="p">]</span>
</span><span id="load_from_excel-970"><a href="#load_from_excel-970"><span class="linenos"> 970</span></a>    <span class="n">net_descriptions</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Networks&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
</span><span id="load_from_excel-971"><a href="#load_from_excel-971"><span class="linenos"> 971</span></a>
</span><span id="load_from_excel-972"><a href="#load_from_excel-972"><span class="linenos"> 972</span></a>    <span class="n">contact_name</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Networks&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;contact_name&#39;</span><span class="p">]</span>
</span><span id="load_from_excel-973"><a href="#load_from_excel-973"><span class="linenos"> 973</span></a>    <span class="n">contact_email</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Networks&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;contact_email&#39;</span><span class="p">]</span>
</span><span id="load_from_excel-974"><a href="#load_from_excel-974"><span class="linenos"> 974</span></a>    <span class="n">contact_phone</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Networks&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;contact_phone&#39;</span><span class="p">]</span>
</span><span id="load_from_excel-975"><a href="#load_from_excel-975"><span class="linenos"> 975</span></a>    <span class="n">site_operator</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Locations&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;operator&#39;</span><span class="p">]</span>
</span><span id="load_from_excel-976"><a href="#load_from_excel-976"><span class="linenos"> 976</span></a>    <span class="n">site_country</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Locations&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;country&#39;</span><span class="p">]</span>
</span><span id="load_from_excel-977"><a href="#load_from_excel-977"><span class="linenos"> 977</span></a>    <span class="n">site_name</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Locations&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
</span><span id="load_from_excel-978"><a href="#load_from_excel-978"><span class="linenos"> 978</span></a>    <span class="n">location_code</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Locations&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;code&#39;</span><span class="p">]</span>
</span><span id="load_from_excel-979"><a href="#load_from_excel-979"><span class="linenos"> 979</span></a>
</span><span id="load_from_excel-980"><a href="#load_from_excel-980"><span class="linenos"> 980</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;source=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">source</span><span class="p">)</span>
</span><span id="load_from_excel-981"><a href="#load_from_excel-981"><span class="linenos"> 981</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;sender=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">sender</span><span class="p">)</span>
</span><span id="load_from_excel-982"><a href="#load_from_excel-982"><span class="linenos"> 982</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;net_code=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">net_code</span><span class="p">)</span>
</span><span id="load_from_excel-983"><a href="#load_from_excel-983"><span class="linenos"> 983</span></a>
</span><span id="load_from_excel-984"><a href="#load_from_excel-984"><span class="linenos"> 984</span></a>    <span class="n">network</span> <span class="o">=</span> <span class="n">Network</span><span class="p">(</span><span class="n">net_code</span><span class="p">)</span>
</span><span id="load_from_excel-985"><a href="#load_from_excel-985"><span class="linenos"> 985</span></a>    <span class="n">inventory</span> <span class="o">=</span> <span class="n">Inventory</span><span class="p">([</span><span class="n">network</span><span class="p">],</span> <span class="n">source</span><span class="p">)</span>
</span><span id="load_from_excel-986"><a href="#load_from_excel-986"><span class="linenos"> 986</span></a>
</span><span id="load_from_excel-987"><a href="#load_from_excel-987"><span class="linenos"> 987</span></a>    <span class="c1"># obspy requirements for PhoneNumber are super specific:</span>
</span><span id="load_from_excel-988"><a href="#load_from_excel-988"><span class="linenos"> 988</span></a>    <span class="c1"># So likely this will raise an error if/when someone changes the value in</span>
</span><span id="load_from_excel-989"><a href="#load_from_excel-989"><span class="linenos"> 989</span></a>    <span class="c1"># Networks.contact_phone</span>
</span><span id="load_from_excel-990"><a href="#load_from_excel-990"><span class="linenos"> 990</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="load_from_excel-991"><a href="#load_from_excel-991"><span class="linenos"> 991</span></a><span class="sd">    PhoneNumber(self, area_code, phone_number, country_code=None,</span>
</span><span id="load_from_excel-992"><a href="#load_from_excel-992"><span class="linenos"> 992</span></a><span class="sd">    description=None):</span>
</span><span id="load_from_excel-993"><a href="#load_from_excel-993"><span class="linenos"> 993</span></a><span class="sd">        :type area_code: int</span>
</span><span id="load_from_excel-994"><a href="#load_from_excel-994"><span class="linenos"> 994</span></a><span class="sd">        :param area_code: The area code.</span>
</span><span id="load_from_excel-995"><a href="#load_from_excel-995"><span class="linenos"> 995</span></a><span class="sd">        :type phone_number: str</span>
</span><span id="load_from_excel-996"><a href="#load_from_excel-996"><span class="linenos"> 996</span></a><span class="sd">        :param phone_number: The phone number minus the country and</span>
</span><span id="load_from_excel-997"><a href="#load_from_excel-997"><span class="linenos"> 997</span></a><span class="sd">        area code. Must be in the form &quot;[0-9]+-[0-9]+&quot;, e.g. 1234-5678.</span>
</span><span id="load_from_excel-998"><a href="#load_from_excel-998"><span class="linenos"> 998</span></a><span class="sd">        :type country_code: int, optional</span>
</span><span id="load_from_excel-999"><a href="#load_from_excel-999"><span class="linenos"> 999</span></a><span class="sd">        :param country_code: The country code.</span>
</span><span id="load_from_excel-1000"><a href="#load_from_excel-1000"><span class="linenos">1000</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="load_from_excel-1001"><a href="#load_from_excel-1001"><span class="linenos">1001</span></a>
</span><span id="load_from_excel-1002"><a href="#load_from_excel-1002"><span class="linenos">1002</span></a>    <span class="kn">import</span> <span class="nn">re</span>
</span><span id="load_from_excel-1003"><a href="#load_from_excel-1003"><span class="linenos">1003</span></a>    <span class="n">phone</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[\d&#39;]+&quot;</span><span class="p">,</span> <span class="n">contact_phone</span><span class="p">)</span>
</span><span id="load_from_excel-1004"><a href="#load_from_excel-1004"><span class="linenos">1004</span></a>    <span class="n">area_code</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">phone</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="load_from_excel-1005"><a href="#load_from_excel-1005"><span class="linenos">1005</span></a>    <span class="n">number</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">-</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">phone</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">phone</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</span><span id="load_from_excel-1006"><a href="#load_from_excel-1006"><span class="linenos">1006</span></a>    <span class="n">phone_number</span> <span class="o">=</span> <span class="n">PhoneNumber</span><span class="p">(</span><span class="n">area_code</span><span class="o">=</span><span class="n">area_code</span><span class="p">,</span> <span class="n">phone_number</span><span class="o">=</span><span class="n">number</span><span class="p">)</span>
</span><span id="load_from_excel-1007"><a href="#load_from_excel-1007"><span class="linenos">1007</span></a>
</span><span id="load_from_excel-1008"><a href="#load_from_excel-1008"><span class="linenos">1008</span></a>    <span class="n">person</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="n">contact_name</span><span class="p">],</span> <span class="n">agencies</span><span class="o">=</span><span class="p">[</span><span class="n">site_operator</span><span class="p">],</span>
</span><span id="load_from_excel-1009"><a href="#load_from_excel-1009"><span class="linenos">1009</span></a>                    <span class="n">emails</span><span class="o">=</span><span class="p">[</span><span class="n">contact_email</span><span class="p">],</span> <span class="n">phones</span><span class="o">=</span><span class="p">[</span><span class="n">phone_number</span><span class="p">])</span>
</span><span id="load_from_excel-1010"><a href="#load_from_excel-1010"><span class="linenos">1010</span></a>    <span class="n">operator</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">(</span><span class="n">site_operator</span><span class="p">,</span> <span class="n">contacts</span><span class="o">=</span><span class="p">[</span><span class="n">person</span><span class="p">])</span>
</span><span id="load_from_excel-1011"><a href="#load_from_excel-1011"><span class="linenos">1011</span></a>    <span class="n">location</span> <span class="o">=</span> <span class="n">Instrument</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">site_name</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="n">site_name</span><span class="p">,</span>
</span><span id="load_from_excel-1012"><a href="#load_from_excel-1012"><span class="linenos">1012</span></a>                          <span class="n">country</span><span class="o">=</span><span class="n">site_country</span><span class="p">)</span>
</span><span id="load_from_excel-1013"><a href="#load_from_excel-1013"><span class="linenos">1013</span></a>
</span><span id="load_from_excel-1014"><a href="#load_from_excel-1014"><span class="linenos">1014</span></a>    <span class="c1"># Merge Stations+Components+Locations+Cables info into sorted stations +</span>
</span><span id="load_from_excel-1015"><a href="#load_from_excel-1015"><span class="linenos">1015</span></a>    <span class="c1"># channels dicts:</span>
</span><span id="load_from_excel-1016"><a href="#load_from_excel-1016"><span class="linenos">1016</span></a>
</span><span id="load_from_excel-1017"><a href="#load_from_excel-1017"><span class="linenos">1017</span></a>    <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Stations&#39;</span><span class="p">][</span><span class="s1">&#39;station_code&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Stations&#39;</span><span class="p">][</span><span class="s1">&#39;code&#39;</span><span class="p">]</span>
</span><span id="load_from_excel-1018"><a href="#load_from_excel-1018"><span class="linenos">1018</span></a>    <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Locations&#39;</span><span class="p">][</span><span class="s1">&#39;sensor_code&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Locations&#39;</span><span class="p">][</span><span class="s1">&#39;code&#39;</span><span class="p">]</span>
</span><span id="load_from_excel-1019"><a href="#load_from_excel-1019"><span class="linenos">1019</span></a>    <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Components&#39;</span><span class="p">][</span><span class="s1">&#39;code_channel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Components&#39;</span><span class="p">][</span><span class="s1">&#39;code&#39;</span><span class="p">]</span>
</span><span id="load_from_excel-1020"><a href="#load_from_excel-1020"><span class="linenos">1020</span></a>    <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Components&#39;</span><span class="p">][</span><span class="s1">&#39;sensor&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Components&#39;</span><span class="p">][</span><span class="s1">&#39;sensor__code&#39;</span><span class="p">]</span>
</span><span id="load_from_excel-1021"><a href="#load_from_excel-1021"><span class="linenos">1021</span></a>    <span class="n">df_merge</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Stations&#39;</span><span class="p">],</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Locations&#39;</span><span class="p">],</span>
</span><span id="load_from_excel-1022"><a href="#load_from_excel-1022"><span class="linenos">1022</span></a>                        <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;station__code&#39;</span><span class="p">,</span>
</span><span id="load_from_excel-1023"><a href="#load_from_excel-1023"><span class="linenos">1023</span></a>                        <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">,</span> <span class="n">suffixes</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;_channel&#39;</span><span class="p">))</span>
</span><span id="load_from_excel-1024"><a href="#load_from_excel-1024"><span class="linenos">1024</span></a>
</span><span id="load_from_excel-1025"><a href="#load_from_excel-1025"><span class="linenos">1025</span></a>    <span class="n">df_merge2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_merge</span><span class="p">,</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Components&#39;</span><span class="p">],</span>
</span><span id="load_from_excel-1026"><a href="#load_from_excel-1026"><span class="linenos">1026</span></a>                         <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;sensor_code&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;sensor__code&#39;</span><span class="p">,</span>
</span><span id="load_from_excel-1027"><a href="#load_from_excel-1027"><span class="linenos">1027</span></a>                         <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">,</span> <span class="n">suffixes</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;_sensor&#39;</span><span class="p">))</span>
</span><span id="load_from_excel-1028"><a href="#load_from_excel-1028"><span class="linenos">1028</span></a>
</span><span id="load_from_excel-1029"><a href="#load_from_excel-1029"><span class="linenos">1029</span></a>    <span class="n">df_merge3</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_merge2</span><span class="p">,</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Cable types&#39;</span><span class="p">],</span>
</span><span id="load_from_excel-1030"><a href="#load_from_excel-1030"><span class="linenos">1030</span></a>                         <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;cable__code&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;code&#39;</span><span class="p">,</span>
</span><span id="load_from_excel-1031"><a href="#load_from_excel-1031"><span class="linenos">1031</span></a>                         <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">,</span> <span class="n">suffixes</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;_cable&#39;</span><span class="p">))</span>
</span><span id="load_from_excel-1032"><a href="#load_from_excel-1032"><span class="linenos">1032</span></a>
</span><span id="load_from_excel-1033"><a href="#load_from_excel-1033"><span class="linenos">1033</span></a>    <span class="n">df_merge4</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_merge3</span><span class="p">,</span> <span class="n">df_dict</span><span class="p">[</span><span class="s1">&#39;Location types&#39;</span><span class="p">],</span>
</span><span id="load_from_excel-1034"><a href="#load_from_excel-1034"><span class="linenos">1034</span></a>                         <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;sensor_type__model&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;model&#39;</span><span class="p">,</span>
</span><span id="load_from_excel-1035"><a href="#load_from_excel-1035"><span class="linenos">1035</span></a>                         <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">,</span> <span class="n">suffixes</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;_sensor_type&#39;</span><span class="p">))</span>
</span><span id="load_from_excel-1036"><a href="#load_from_excel-1036"><span class="linenos">1036</span></a>
</span><span id="load_from_excel-1037"><a href="#load_from_excel-1037"><span class="linenos">1037</span></a>    <span class="n">df</span> <span class="o">=</span> <span class="n">df_merge4</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s1">&#39;sensor_code&#39;</span><span class="p">,</span> <span class="s1">&#39;location_code&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="load_from_excel-1038"><a href="#load_from_excel-1038"><span class="linenos">1038</span></a>
</span><span id="load_from_excel-1039"><a href="#load_from_excel-1039"><span class="linenos">1039</span></a>    <span class="c1"># Need to sort by unique station codes, then look through 1-3 channels</span>
</span><span id="load_from_excel-1040"><a href="#load_from_excel-1040"><span class="linenos">1040</span></a>    <span class="c1"># to add</span>
</span><span id="load_from_excel-1041"><a href="#load_from_excel-1041"><span class="linenos">1041</span></a>    <span class="n">stn_codes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;sensor_code&#39;</span><span class="p">])</span>
</span><span id="load_from_excel-1042"><a href="#load_from_excel-1042"><span class="linenos">1042</span></a>    <span class="n">stations</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="load_from_excel-1043"><a href="#load_from_excel-1043"><span class="linenos">1043</span></a>
</span><span id="load_from_excel-1044"><a href="#load_from_excel-1044"><span class="linenos">1044</span></a>    <span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">stn_codes</span><span class="p">:</span>
</span><span id="load_from_excel-1045"><a href="#load_from_excel-1045"><span class="linenos">1045</span></a>        <span class="n">chan_rows</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;sensor_code&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">code</span><span class="p">]</span>
</span><span id="load_from_excel-1046"><a href="#load_from_excel-1046"><span class="linenos">1046</span></a>        <span class="n">row</span> <span class="o">=</span> <span class="n">chan_rows</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="load_from_excel-1047"><a href="#load_from_excel-1047"><span class="linenos">1047</span></a>        <span class="n">station</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="load_from_excel-1048"><a href="#load_from_excel-1048"><span class="linenos">1048</span></a>        <span class="c1"># Set some keys explicitly</span>
</span><span id="load_from_excel-1049"><a href="#load_from_excel-1049"><span class="linenos">1049</span></a>        <span class="c1">#     from ipdb import set_trace; set_trace()</span>
</span><span id="load_from_excel-1050"><a href="#load_from_excel-1050"><span class="linenos">1050</span></a>        <span class="n">station</span><span class="p">[</span><span class="s1">&#39;code&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;sensor_code&#39;</span><span class="p">])</span>
</span><span id="load_from_excel-1051"><a href="#load_from_excel-1051"><span class="linenos">1051</span></a>        <span class="n">station</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;location_x_channel&#39;</span><span class="p">]</span>
</span><span id="load_from_excel-1052"><a href="#load_from_excel-1052"><span class="linenos">1052</span></a>        <span class="n">station</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;location_y_channel&#39;</span><span class="p">]</span>
</span><span id="load_from_excel-1053"><a href="#load_from_excel-1053"><span class="linenos">1053</span></a>        <span class="n">station</span><span class="p">[</span><span class="s1">&#39;z&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;location_z_channel&#39;</span><span class="p">]</span>
</span><span id="load_from_excel-1054"><a href="#load_from_excel-1054"><span class="linenos">1054</span></a>        <span class="n">station</span><span class="p">[</span><span class="s1">&#39;loc&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
</span><span id="load_from_excel-1055"><a href="#load_from_excel-1055"><span class="linenos">1055</span></a>            <span class="p">[</span><span class="n">station</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">station</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">],</span> <span class="n">station</span><span class="p">[</span><span class="s1">&#39;z&#39;</span><span class="p">]])</span>
</span><span id="load_from_excel-1056"><a href="#load_from_excel-1056"><span class="linenos">1056</span></a>        <span class="n">station</span><span class="p">[</span><span class="s1">&#39;long_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">.</span><span class="si">{:02d}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;network__code&#39;</span><span class="p">],</span>
</span><span id="load_from_excel-1057"><a href="#load_from_excel-1057"><span class="linenos">1057</span></a>                                                     <span class="n">row</span><span class="p">[</span><span class="s1">&#39;station_code&#39;</span><span class="p">],</span>
</span><span id="load_from_excel-1058"><a href="#load_from_excel-1058"><span class="linenos">1058</span></a>                                                     <span class="n">row</span><span class="p">[</span><span class="s1">&#39;location_code&#39;</span><span class="p">])</span>
</span><span id="load_from_excel-1059"><a href="#load_from_excel-1059"><span class="linenos">1059</span></a>
</span><span id="load_from_excel-1060"><a href="#load_from_excel-1060"><span class="linenos">1060</span></a>        <span class="c1"># MTH: 2019/07 Seem to have moved from pF to F on Cables sheet:</span>
</span><span id="load_from_excel-1061"><a href="#load_from_excel-1061"><span class="linenos">1061</span></a>        <span class="n">station</span><span class="p">[</span><span class="s1">&#39;cable_capacitance_pF_per_meter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mf">1e12</span>
</span><span id="load_from_excel-1062"><a href="#load_from_excel-1062"><span class="linenos">1062</span></a>
</span><span id="load_from_excel-1063"><a href="#load_from_excel-1063"><span class="linenos">1063</span></a>        <span class="c1"># Set the rest (minus empty fields) directly from spreadsheet names:</span>
</span><span id="load_from_excel-1064"><a href="#load_from_excel-1064"><span class="linenos">1064</span></a>        <span class="n">renamed_keys</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;sensor_code&#39;</span><span class="p">,</span> <span class="s1">&#39;location_x&#39;</span><span class="p">,</span> <span class="s1">&#39;location_y&#39;</span><span class="p">,</span>
</span><span id="load_from_excel-1065"><a href="#load_from_excel-1065"><span class="linenos">1065</span></a>                        <span class="s1">&#39;location_z&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">}</span>
</span><span id="load_from_excel-1066"><a href="#load_from_excel-1066"><span class="linenos">1066</span></a>
</span><span id="load_from_excel-1067"><a href="#load_from_excel-1067"><span class="linenos">1067</span></a>        <span class="c1"># These keys are either redundant or specific to channel, not station:</span>
</span><span id="load_from_excel-1068"><a href="#load_from_excel-1068"><span class="linenos">1068</span></a>        <span class="n">remove_keys</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;id_channel&#39;</span><span class="p">,</span> <span class="s1">&#39;orientation_x&#39;</span><span class="p">,</span>
</span><span id="load_from_excel-1069"><a href="#load_from_excel-1069"><span class="linenos">1069</span></a>                       <span class="s1">&#39;orientation_y&#39;</span><span class="p">,</span> <span class="s1">&#39;orientation_z&#39;</span><span class="p">,</span> <span class="s1">&#39;id_sensor&#39;</span><span class="p">,</span>
</span><span id="load_from_excel-1070"><a href="#load_from_excel-1070"><span class="linenos">1070</span></a>                       <span class="s1">&#39;enabled_channel&#39;</span><span class="p">,</span> <span class="s1">&#39;station_id&#39;</span><span class="p">,</span> <span class="s1">&#39;id_cable&#39;</span><span class="p">}</span>
</span><span id="load_from_excel-1071"><a href="#load_from_excel-1071"><span class="linenos">1071</span></a>        <span class="n">keys</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</span><span id="load_from_excel-1072"><a href="#load_from_excel-1072"><span class="linenos">1072</span></a>        <span class="n">empty_keys</span> <span class="o">=</span> <span class="n">keys</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">row</span><span class="p">)]</span>
</span><span id="load_from_excel-1073"><a href="#load_from_excel-1073"><span class="linenos">1073</span></a>        <span class="n">keys</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">empty_keys</span><span class="p">)</span> <span class="o">-</span> <span class="n">renamed_keys</span> <span class="o">-</span> <span class="n">remove_keys</span>
</span><span id="load_from_excel-1074"><a href="#load_from_excel-1074"><span class="linenos">1074</span></a>
</span><span id="load_from_excel-1075"><a href="#load_from_excel-1075"><span class="linenos">1075</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
</span><span id="load_from_excel-1076"><a href="#load_from_excel-1076"><span class="linenos">1076</span></a>            <span class="n">station</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="load_from_excel-1077"><a href="#load_from_excel-1077"><span class="linenos">1077</span></a>
</span><span id="load_from_excel-1078"><a href="#load_from_excel-1078"><span class="linenos">1078</span></a>        <span class="c1"># Added keys:</span>
</span><span id="load_from_excel-1079"><a href="#load_from_excel-1079"><span class="linenos">1079</span></a>        <span class="n">station</span><span class="p">[</span><span class="s1">&#39;motion&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;VELOCITY&#39;</span>
</span><span id="load_from_excel-1080"><a href="#load_from_excel-1080"><span class="linenos">1080</span></a>
</span><span id="load_from_excel-1081"><a href="#load_from_excel-1081"><span class="linenos">1081</span></a>        <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;sensor_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;ACCELEROMETER&#39;</span><span class="p">:</span>
</span><span id="load_from_excel-1082"><a href="#load_from_excel-1082"><span class="linenos">1082</span></a>            <span class="n">station</span><span class="p">[</span><span class="s1">&#39;motion&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;ACCELERATION&#39;</span>
</span><span id="load_from_excel-1083"><a href="#load_from_excel-1083"><span class="linenos">1083</span></a>
</span><span id="load_from_excel-1084"><a href="#load_from_excel-1084"><span class="linenos">1084</span></a>        <span class="c1"># Attach channels:</span>
</span><span id="load_from_excel-1085"><a href="#load_from_excel-1085"><span class="linenos">1085</span></a>        <span class="n">station</span><span class="p">[</span><span class="s1">&#39;channels&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="load_from_excel-1086"><a href="#load_from_excel-1086"><span class="linenos">1086</span></a>
</span><span id="load_from_excel-1087"><a href="#load_from_excel-1087"><span class="linenos">1087</span></a>        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">rr</span> <span class="ow">in</span> <span class="n">chan_rows</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
</span><span id="load_from_excel-1088"><a href="#load_from_excel-1088"><span class="linenos">1088</span></a>            <span class="n">chan</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="load_from_excel-1089"><a href="#load_from_excel-1089"><span class="linenos">1089</span></a>            <span class="n">chan</span><span class="p">[</span><span class="s1">&#39;cmp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rr</span><span class="p">[</span><span class="s1">&#39;code_channel_sensor&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
</span><span id="load_from_excel-1090"><a href="#load_from_excel-1090"><span class="linenos">1090</span></a>            <span class="n">chan</span><span class="p">[</span><span class="s1">&#39;orientation&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">rr</span><span class="p">[</span><span class="s1">&#39;orientation_x&#39;</span><span class="p">],</span>
</span><span id="load_from_excel-1091"><a href="#load_from_excel-1091"><span class="linenos">1091</span></a>                                            <span class="n">rr</span><span class="p">[</span><span class="s1">&#39;orientation_y&#39;</span><span class="p">],</span>
</span><span id="load_from_excel-1092"><a href="#load_from_excel-1092"><span class="linenos">1092</span></a>                                            <span class="n">rr</span><span class="p">[</span><span class="s1">&#39;orientation_z&#39;</span><span class="p">]])</span>
</span><span id="load_from_excel-1093"><a href="#load_from_excel-1093"><span class="linenos">1093</span></a>            <span class="n">chan</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;location_x_channel&#39;</span><span class="p">]</span>
</span><span id="load_from_excel-1094"><a href="#load_from_excel-1094"><span class="linenos">1094</span></a>            <span class="n">chan</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;location_y_channel&#39;</span><span class="p">]</span>
</span><span id="load_from_excel-1095"><a href="#load_from_excel-1095"><span class="linenos">1095</span></a>            <span class="n">chan</span><span class="p">[</span><span class="s1">&#39;z&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;location_z_channel&#39;</span><span class="p">]</span>
</span><span id="load_from_excel-1096"><a href="#load_from_excel-1096"><span class="linenos">1096</span></a>            <span class="n">chan</span><span class="p">[</span><span class="s1">&#39;enabled&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rr</span><span class="p">[</span><span class="s1">&#39;enabled&#39;</span><span class="p">]</span>
</span><span id="load_from_excel-1097"><a href="#load_from_excel-1097"><span class="linenos">1097</span></a>            <span class="n">station</span><span class="p">[</span><span class="s1">&#39;channels&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>
</span><span id="load_from_excel-1098"><a href="#load_from_excel-1098"><span class="linenos">1098</span></a>
</span><span id="load_from_excel-1099"><a href="#load_from_excel-1099"><span class="linenos">1099</span></a>        <span class="n">stations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">station</span><span class="p">)</span>
</span><span id="load_from_excel-1100"><a href="#load_from_excel-1100"><span class="linenos">1100</span></a>
</span><span id="load_from_excel-1101"><a href="#load_from_excel-1101"><span class="linenos">1101</span></a>    <span class="c1"># from ipdb import set_trace; set_trace()</span>
</span><span id="load_from_excel-1102"><a href="#load_from_excel-1102"><span class="linenos">1102</span></a>
</span><span id="load_from_excel-1103"><a href="#load_from_excel-1103"><span class="linenos">1103</span></a>    <span class="c1"># Convert these station dicts to inventory.Station objects and attach to</span>
</span><span id="load_from_excel-1104"><a href="#load_from_excel-1104"><span class="linenos">1104</span></a>    <span class="c1"># inventory.network:</span>
</span><span id="load_from_excel-1105"><a href="#load_from_excel-1105"><span class="linenos">1105</span></a>    <span class="n">station_list</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="load_from_excel-1106"><a href="#load_from_excel-1106"><span class="linenos">1106</span></a>
</span><span id="load_from_excel-1107"><a href="#load_from_excel-1107"><span class="linenos">1107</span></a>    <span class="k">for</span> <span class="n">station</span> <span class="ow">in</span> <span class="n">stations</span><span class="p">:</span>
</span><span id="load_from_excel-1108"><a href="#load_from_excel-1108"><span class="linenos">1108</span></a>        <span class="c1"># This is where namespace is first employed:</span>
</span><span id="load_from_excel-1109"><a href="#load_from_excel-1109"><span class="linenos">1109</span></a>        <span class="n">station</span> <span class="o">=</span> <span class="n">Station</span><span class="o">.</span><span class="n">from_station_dict</span><span class="p">(</span><span class="n">station</span><span class="p">,</span> <span class="n">site_name</span><span class="p">)</span>
</span><span id="load_from_excel-1110"><a href="#load_from_excel-1110"><span class="linenos">1110</span></a>        <span class="n">station</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">location</span>
</span><span id="load_from_excel-1111"><a href="#load_from_excel-1111"><span class="linenos">1111</span></a>        <span class="n">station</span><span class="o">.</span><span class="n">operators</span> <span class="o">=</span> <span class="p">[</span><span class="n">operator</span><span class="p">]</span>
</span><span id="load_from_excel-1112"><a href="#load_from_excel-1112"><span class="linenos">1112</span></a>        <span class="n">station_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">station</span><span class="p">)</span>
</span><span id="load_from_excel-1113"><a href="#load_from_excel-1113"><span class="linenos">1113</span></a>
</span><span id="load_from_excel-1114"><a href="#load_from_excel-1114"><span class="linenos">1114</span></a>    <span class="n">network</span><span class="o">.</span><span class="n">stations</span> <span class="o">=</span> <span class="n">station_list</span>
</span><span id="load_from_excel-1115"><a href="#load_from_excel-1115"><span class="linenos">1115</span></a>
</span><span id="load_from_excel-1116"><a href="#load_from_excel-1116"><span class="linenos">1116</span></a>    <span class="k">return</span> <span class="n">inventory</span>
</span></pre></div>


            <div class="docstring"><p>Read in a multi-sheet excel file with network metadata sheets:
    Locations, Networks, Hubs, Stations, Components, Locations, Cables,
    Boreholes
Organize these into a uquake Inventory object</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>xls_file</strong>:  path to excel file</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>inventory</p>
</blockquote>
</div>


                </section>
                <section id="read_inventory">
                            <input id="read_inventory-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@expand_input_format_compatibility</div>

        <span class="def">def</span>
        <span class="name">read_inventory</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">path_or_file_object</span>,</span><span class="param">	<span class="nb">format</span><span class="o">=</span><span class="s1">&#39;STATIONXML&#39;</span>,</span><span class="param">	<span class="n">xy_from_lat_lon</span><span class="o">=</span><span class="kc">False</span>,</span><span class="param">	<span class="n">input_projection</span><span class="o">=</span><span class="mi">4326</span>,</span><span class="param">	<span class="n">output_projection</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="o">*</span><span class="n">args</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">) -> <span class="n"><a href="#Inventory">Inventory</a></span>:</span></span>

                <label class="view-source-button" for="read_inventory-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#read_inventory"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="read_inventory-1119"><a href="#read_inventory-1119"><span class="linenos">1119</span></a><span class="nd">@expand_input_format_compatibility</span>
</span><span id="read_inventory-1120"><a href="#read_inventory-1120"><span class="linenos">1120</span></a><span class="k">def</span> <span class="nf">read_inventory</span><span class="p">(</span><span class="n">path_or_file_object</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;STATIONXML&#39;</span><span class="p">,</span>
</span><span id="read_inventory-1121"><a href="#read_inventory-1121"><span class="linenos">1121</span></a>                   <span class="n">xy_from_lat_lon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">input_projection</span><span class="o">=</span><span class="mi">4326</span><span class="p">,</span>
</span><span id="read_inventory-1122"><a href="#read_inventory-1122"><span class="linenos">1122</span></a>                   <span class="n">output_projection</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Inventory</span><span class="p">:</span>
</span><span id="read_inventory-1123"><a href="#read_inventory-1123"><span class="linenos">1123</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="read_inventory-1124"><a href="#read_inventory-1124"><span class="linenos">1124</span></a><span class="sd">    Read inventory file</span>
</span><span id="read_inventory-1125"><a href="#read_inventory-1125"><span class="linenos">1125</span></a><span class="sd">    :param path_or_file_object: the path to the inventory file or a file object</span>
</span><span id="read_inventory-1126"><a href="#read_inventory-1126"><span class="linenos">1126</span></a><span class="sd">    :param format: the format</span>
</span><span id="read_inventory-1127"><a href="#read_inventory-1127"><span class="linenos">1127</span></a><span class="sd">    :param xy_from_lat_lon: if True convert populate the XY field by converting</span>
</span><span id="read_inventory-1128"><a href="#read_inventory-1128"><span class="linenos">1128</span></a><span class="sd">    the latitude and longitude to UTM</span>
</span><span id="read_inventory-1129"><a href="#read_inventory-1129"><span class="linenos">1129</span></a><span class="sd">    :param input_projection: The input projection. Applicable if</span>
</span><span id="read_inventory-1130"><a href="#read_inventory-1130"><span class="linenos">1130</span></a><span class="sd">    xy_from_lat_lon is True (default=4326 for latitude longitude)</span>
</span><span id="read_inventory-1131"><a href="#read_inventory-1131"><span class="linenos">1131</span></a><span class="sd">    :param output_projection: The output projection. Has to be specified if</span>
</span><span id="read_inventory-1132"><a href="#read_inventory-1132"><span class="linenos">1132</span></a><span class="sd">    xy_from_lat_lon is True. Default=None</span>
</span><span id="read_inventory-1133"><a href="#read_inventory-1133"><span class="linenos">1133</span></a><span class="sd">    :param args: see obspy.core.inventory.read_inventory for more information</span>
</span><span id="read_inventory-1134"><a href="#read_inventory-1134"><span class="linenos">1134</span></a><span class="sd">    :param kwargs: see obspy.core.inventory.read_inventory for more information</span>
</span><span id="read_inventory-1135"><a href="#read_inventory-1135"><span class="linenos">1135</span></a><span class="sd">    :return: an inventory object</span>
</span><span id="read_inventory-1136"><a href="#read_inventory-1136"><span class="linenos">1136</span></a><span class="sd">    :rtype: ~uquake.core.inventory.Inventory</span>
</span><span id="read_inventory-1137"><a href="#read_inventory-1137"><span class="linenos">1137</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="read_inventory-1138"><a href="#read_inventory-1138"><span class="linenos">1138</span></a>
</span><span id="read_inventory-1139"><a href="#read_inventory-1139"><span class="linenos">1139</span></a>    <span class="k">if</span> <span class="n">xy_from_lat_lon</span> <span class="ow">and</span> <span class="p">(</span><span class="n">output_projection</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="read_inventory-1140"><a href="#read_inventory-1140"><span class="linenos">1140</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;the output projection is needed for conversion&#39;</span>
</span><span id="read_inventory-1141"><a href="#read_inventory-1141"><span class="linenos">1141</span></a>                         <span class="s1">&#39;from latitude-longitude to UTM&#39;</span><span class="p">)</span>
</span><span id="read_inventory-1142"><a href="#read_inventory-1142"><span class="linenos">1142</span></a>
</span><span id="read_inventory-1143"><a href="#read_inventory-1143"><span class="linenos">1143</span></a>    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">path_or_file_object</span><span class="p">)</span> <span class="ow">is</span> <span class="n">Path</span><span class="p">:</span>
</span><span id="read_inventory-1144"><a href="#read_inventory-1144"><span class="linenos">1144</span></a>        <span class="n">path_or_file_object</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">path_or_file_object</span><span class="p">)</span>
</span><span id="read_inventory-1145"><a href="#read_inventory-1145"><span class="linenos">1145</span></a>
</span><span id="read_inventory-1146"><a href="#read_inventory-1146"><span class="linenos">1146</span></a>    <span class="c1"># del kwargs[&#39;xy_from_lat_lon&#39;]</span>
</span><span id="read_inventory-1147"><a href="#read_inventory-1147"><span class="linenos">1147</span></a>
</span><span id="read_inventory-1148"><a href="#read_inventory-1148"><span class="linenos">1148</span></a>    <span class="k">if</span> <span class="p">(</span><span class="nb">format</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ENTRY_POINTS</span><span class="p">[</span><span class="s1">&#39;inventory&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="ow">or</span> \
</span><span id="read_inventory-1149"><a href="#read_inventory-1149"><span class="linenos">1149</span></a>            <span class="p">(</span><span class="nb">format</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;STATIONXML&#39;</span><span class="p">):</span>
</span><span id="read_inventory-1150"><a href="#read_inventory-1150"><span class="linenos">1150</span></a>
</span><span id="read_inventory-1151"><a href="#read_inventory-1151"><span class="linenos">1151</span></a>        <span class="n">obspy_inv</span> <span class="o">=</span> <span class="n">inventory</span><span class="o">.</span><span class="n">read_inventory</span><span class="p">(</span><span class="n">path_or_file_object</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span>
</span><span id="read_inventory-1152"><a href="#read_inventory-1152"><span class="linenos">1152</span></a>                                             <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="read_inventory-1153"><a href="#read_inventory-1153"><span class="linenos">1153</span></a>
</span><span id="read_inventory-1154"><a href="#read_inventory-1154"><span class="linenos">1154</span></a>        <span class="k">return</span> <span class="n">Inventory</span><span class="o">.</span><span class="n">from_obspy_inventory_object</span><span class="p">(</span>
</span><span id="read_inventory-1155"><a href="#read_inventory-1155"><span class="linenos">1155</span></a>            <span class="n">obspy_inv</span><span class="p">,</span> <span class="n">xy_from_lat_lon</span><span class="o">=</span><span class="n">xy_from_lat_lon</span><span class="p">,</span>
</span><span id="read_inventory-1156"><a href="#read_inventory-1156"><span class="linenos">1156</span></a>            <span class="n">output_projection</span><span class="o">=</span><span class="n">output_projection</span><span class="p">,</span>
</span><span id="read_inventory-1157"><a href="#read_inventory-1157"><span class="linenos">1157</span></a>            <span class="n">input_projection</span><span class="o">=</span><span class="n">input_projection</span><span class="p">)</span>
</span><span id="read_inventory-1158"><a href="#read_inventory-1158"><span class="linenos">1158</span></a>
</span><span id="read_inventory-1159"><a href="#read_inventory-1159"><span class="linenos">1159</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="read_inventory-1160"><a href="#read_inventory-1160"><span class="linenos">1160</span></a>        <span class="n">format_ep</span> <span class="o">=</span> <span class="n">ENTRY_POINTS</span><span class="p">[</span><span class="s1">&#39;inventory&#39;</span><span class="p">][</span><span class="nb">format</span><span class="p">]</span>
</span><span id="read_inventory-1161"><a href="#read_inventory-1161"><span class="linenos">1161</span></a>
</span><span id="read_inventory-1162"><a href="#read_inventory-1162"><span class="linenos">1162</span></a>        <span class="n">read_format</span> <span class="o">=</span> <span class="n">load_entry_point</span><span class="p">(</span><span class="n">format_ep</span><span class="o">.</span><span class="n">dist</span><span class="o">.</span><span class="n">key</span><span class="p">,</span>
</span><span id="read_inventory-1163"><a href="#read_inventory-1163"><span class="linenos">1163</span></a>                                       <span class="s1">&#39;obspy.io.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span>
</span><span id="read_inventory-1164"><a href="#read_inventory-1164"><span class="linenos">1164</span></a>                                       <span class="n">format_ep</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;readFormat&#39;</span><span class="p">)</span>
</span><span id="read_inventory-1165"><a href="#read_inventory-1165"><span class="linenos">1165</span></a>
</span><span id="read_inventory-1166"><a href="#read_inventory-1166"><span class="linenos">1166</span></a>        <span class="k">return</span> <span class="n">expand_input_format_compatibility</span><span class="p">(</span>
</span><span id="read_inventory-1167"><a href="#read_inventory-1167"><span class="linenos">1167</span></a>            <span class="n">read_format</span><span class="p">(</span><span class="n">path_or_file_object</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
</span><span id="read_inventory-1168"><a href="#read_inventory-1168"><span class="linenos">1168</span></a>
</span><span id="read_inventory-1169"><a href="#read_inventory-1169"><span class="linenos">1169</span></a>    <span class="c1"># else:</span>
</span></pre></div>


            <div class="docstring"><p>Function to read inventory files.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>path_or_file_object</strong>:  String containing a file name or a URL, a Path
object, or a open file-like object. Wildcards are allowed for a file
name. If this attribute is omitted, an example
<code>~uquake.core.inventory.inventory.Inventory</code> object will be
returned.</li>
<li><strong>format</strong>:  Format of the file to read (e.g. <code>"STATIONXML"</code>). See the
<code>Supported Formats</code>_ section below for a list of supported formats.</li>
<li><strong>level</strong>:  Level of detail to read from file. One of <code>'response'</code>,
<code>'channel'</code>, <code>'station'</code> or <code>'network'</code>. Lower level of detail
can result in much shorter reading times for some file formats.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An ObsPy <code>~uquake.core.inventory.inventory.Inventory</code>
      object.</p>
</blockquote>

<p>Additional args and kwargs are passed on to the underlying <code>_read_X()</code>
methods of the inventory plugins.</p>

<p>.. rubric:: _<code>Supported Formats</code></p>

<p>Additional ObsPy modules extend the functionality of the
<code>~uquake.core.inventory.inventory.read_inventory()</code> function. The
following table summarizes all known file formats currently supported by
ObsPy.</p>

<p>Please refer to the <code>Linked Function Call</code>_ of each module for any extra
options available at the import stage.</p>

<p>============ ========================== ============================================================
Format       Used Module                _<code>Linked Function Call</code> <br />
============ ========================== ============================================================
INVENTORYXML <code>uquake.io.arclink</code>    <code>uquake.io.arclink.inventory._read_inventory_xml()</code> <br />
RESP         <code>uquake.io.xseed</code>      <code>uquake.io.xseed.core._read_resp()</code> <br />
SC3ML        <code>uquake.io.seiscomp</code>   <code>uquake.io.seiscomp.inventory._read_sc3ml()</code> <br />
SEED         <code>uquake.io.xseed</code>      <code>uquake.io.xseed.core._read_seed()</code> <br />
STATIONTXT   <code>uquake.io.stationtxt</code> <code>uquake.io.stationtxt.core.read_fdsn_station_text_file()</code>
STATIONXML   <code>uquake.io.stationxml</code> <code>uquake.io.stationxml.core._read_stationxml()</code> <br />
XSEED        <code>uquake.io.xseed</code>      <code>uquake.io.xseed.core._read_xseed()</code> <br />
============ ========================== ============================================================</p>

<div class="pdoc-alert pdoc-alert-note">

<p>For handling additional information not covered by the
StationXML standard and how to output it to StationXML
see the :ref:<code>ObsPy Tutorial &lt;stationxml-extra&gt;</code>.</p>

</div>
</div>


                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>