<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 14.1.0"/>
    <title>uquake.core.event API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../core.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;uquake.core</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="variable" href="#namespace">namespace</a>
            </li>
            <li>
                    <a class="class" href="#RayCollection">RayCollection</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#RayCollection.append">append</a>
                        </li>
                        <li>
                                <a class="function" href="#RayCollection.to_json">to_json</a>
                        </li>
                        <li>
                                <a class="function" href="#RayCollection.from_json">from_json</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Phase">Phase</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#Phase.P">P</a>
                        </li>
                        <li>
                                <a class="variable" href="#Phase.S">S</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Ray">Ray</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Ray.__init__">Ray</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ray.nodes">nodes</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ray.waveform_id">waveform_id</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ray.arrival_id">arrival_id</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ray.phase">phase</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ray.travel_time">travel_time</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ray.resource_id">resource_id</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ray.velocity_model_id">velocity_model_id</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ray.coordinate_system">coordinate_system</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ray.takeoff_angle">takeoff_angle</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ray.azimuth">azimuth</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ray.length">length</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ray.toa">toa</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ray.az">az</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ray.location">location</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ray.station">station</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ray.network">network</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ray.back_azimuth">back_azimuth</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ray.earth_model_id">earth_model_id</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ray.baz">baz</a>
                        </li>
                        <li>
                                <a class="variable" href="#Ray.incidence_angle">incidence_angle</a>
                        </li>
                        <li>
                                <a class="function" href="#Ray.to_pick">to_pick</a>
                        </li>
                        <li>
                                <a class="function" href="#Ray.to_json">to_json</a>
                        </li>
                        <li>
                                <a class="function" href="#Ray.from_json">from_json</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Catalog">Catalog</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Catalog.__init__">Catalog</a>
                        </li>
                        <li>
                                <a class="variable" href="#Catalog.extra_keys">extra_keys</a>
                        </li>
                        <li>
                                <a class="variable" href="#Catalog.extra">extra</a>
                        </li>
                        <li>
                                <a class="variable" href="#Catalog.events">events</a>
                        </li>
                        <li>
                                <a class="function" href="#Catalog.write">write</a>
                        </li>
                        <li>
                                <a class="function" href="#Catalog.duplicate">duplicate</a>
                        </li>
                        <li>
                                <a class="function" href="#Catalog.copy">copy</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#EventTypeLookup">EventTypeLookup</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#EventTypeLookup.lookup_table">lookup_table</a>
                        </li>
                        <li>
                                <a class="variable" href="#EventTypeLookup.inverse_lookup_table">inverse_lookup_table</a>
                        </li>
                        <li>
                                <a class="function" href="#EventTypeLookup.convert_from_quakeml">convert_from_quakeml</a>
                        </li>
                        <li>
                                <a class="function" href="#EventTypeLookup.convert_to_quakeml">convert_to_quakeml</a>
                        </li>
                        <li>
                                <a class="variable" href="#EventTypeLookup.valid_quakeml_types">valid_quakeml_types</a>
                        </li>
                        <li>
                                <a class="variable" href="#EventTypeLookup.valid_uquakeml_types">valid_uquakeml_types</a>
                        </li>
                        <li>
                                <a class="function" href="#EventTypeLookup.is_valid_quakeml">is_valid_quakeml</a>
                        </li>
                        <li>
                                <a class="function" href="#EventTypeLookup.is_valid_uquakeml">is_valid_uquakeml</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Event">Event</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Event.__init__">Event</a>
                        </li>
                        <li>
                                <a class="variable" href="#Event.extra_keys">extra_keys</a>
                        </li>
                        <li>
                                <a class="variable" href="#Event.extra_types">extra_types</a>
                        </li>
                        <li>
                                <a class="function" href="#Event.short_str">short_str</a>
                        </li>
                        <li>
                                <a class="function" href="#Event.write">write</a>
                        </li>
                        <li>
                                <a class="function" href="#Event.plot_focal_mechanism">plot_focal_mechanism</a>
                        </li>
                        <li>
                                <a class="function" href="#Event.append_origin_as_preferred_origin">append_origin_as_preferred_origin</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#UncertaintyPointCloud">UncertaintyPointCloud</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#UncertaintyPointCloud.__init__">UncertaintyPointCloud</a>
                        </li>
                        <li>
                                <a class="variable" href="#UncertaintyPointCloud.locations">locations</a>
                        </li>
                        <li>
                                <a class="variable" href="#UncertaintyPointCloud.probabilities">probabilities</a>
                        </li>
                        <li>
                                <a class="variable" href="#UncertaintyPointCloud.coordinate_system">coordinate_system</a>
                        </li>
                        <li>
                                <a class="function" href="#UncertaintyPointCloud.to_json">to_json</a>
                        </li>
                        <li>
                                <a class="function" href="#UncertaintyPointCloud.from_json">from_json</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Origin">Origin</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Origin.__init__">Origin</a>
                        </li>
                        <li>
                                <a class="variable" href="#Origin.extra_keys">extra_keys</a>
                        </li>
                        <li>
                                <a class="variable" href="#Origin.extra_types">extra_types</a>
                        </li>
                        <li>
                                <a class="variable" href="#Origin.extra">extra</a>
                        </li>
                        <li>
                                <a class="function" href="#Origin.get_arrival_id">get_arrival_id</a>
                        </li>
                        <li>
                                <a class="function" href="#Origin.append_ray">append_ray</a>
                        </li>
                        <li>
                                <a class="variable" href="#Origin.rms_residual">rms_residual</a>
                        </li>
                        <li>
                                <a class="variable" href="#Origin.loc">loc</a>
                        </li>
                        <li>
                                <a class="variable" href="#Origin.x">x</a>
                        </li>
                        <li>
                                <a class="variable" href="#Origin.y">y</a>
                        </li>
                        <li>
                                <a class="variable" href="#Origin.z">z</a>
                        </li>
                        <li>
                                <a class="variable" href="#Origin.easting">easting</a>
                        </li>
                        <li>
                                <a class="variable" href="#Origin.northing">northing</a>
                        </li>
                        <li>
                                <a class="variable" href="#Origin.down">down</a>
                        </li>
                        <li>
                                <a class="variable" href="#Origin.depth">depth</a>
                        </li>
                        <li>
                                <a class="variable" href="#Origin.up">up</a>
                        </li>
                        <li>
                                <a class="variable" href="#Origin.elevation">elevation</a>
                        </li>
                        <li>
                                <a class="variable" href="#Origin.coordinate_system">coordinate_system</a>
                        </li>
                        <li>
                                <a class="variable" href="#Origin.location_uncertainty">location_uncertainty</a>
                        </li>
                        <li>
                                <a class="function" href="#Origin.get_origin">get_origin</a>
                        </li>
                        <li>
                                <a class="function" href="#Origin.get_all_magnitudes_for_origin">get_all_magnitudes_for_origin</a>
                        </li>
                        <li>
                                <a class="function" href="#Origin.get_incidence_baz_angles">get_incidence_baz_angles</a>
                        </li>
                        <li>
                                <a class="function" href="#Origin.get_ray_station_phase">get_ray_station_phase</a>
                        </li>
                        <li>
                                <a class="function" href="#Origin.distance_station">distance_station</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Magnitude">Magnitude</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Magnitude.__init__">Magnitude</a>
                        </li>
                        <li>
                                <a class="variable" href="#Magnitude.extra_keys">extra_keys</a>
                        </li>
                        <li>
                                <a class="variable" href="#Magnitude.extra_types">extra_types</a>
                        </li>
                        <li>
                                <a class="function" href="#Magnitude.from_dict">from_dict</a>
                        </li>
                        <li>
                                <a class="variable" href="#Magnitude.energy">energy</a>
                        </li>
                        <li>
                                <a class="variable" href="#Magnitude.static_stress_drop">static_stress_drop</a>
                        </li>
                        <li>
                                <a class="variable" href="#Magnitude.apparent_stress">apparent_stress</a>
                        </li>
                        <li>
                                <a class="variable" href="#Magnitude.seismic_moment">seismic_moment</a>
                        </li>
                        <li>
                                <a class="variable" href="#Magnitude.potency">potency</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Pick">Pick</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Pick.__init__">Pick</a>
                        </li>
                        <li>
                                <a class="variable" href="#Pick.original_doc">original_doc</a>
                        </li>
                        <li>
                                <a class="variable" href="#Pick.insert_position">insert_position</a>
                        </li>
                        <li>
                                <a class="variable" href="#Pick.new_doc_addition">new_doc_addition</a>
                        </li>
                        <li>
                                <a class="variable" href="#Pick.new_doc">new_doc</a>
                        </li>
                        <li>
                                <a class="variable" href="#Pick.extra_keys">extra_keys</a>
                        </li>
                        <li>
                                <a class="variable" href="#Pick.extra_types">extra_types</a>
                        </li>
                        <li>
                                <a class="function" href="#Pick.get_sta">get_sta</a>
                        </li>
                        <li>
                                <a class="variable" href="#Pick.location">location</a>
                        </li>
                        <li>
                                <a class="variable" href="#Pick.stream_id">stream_id</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#WaveformStreamID">WaveformStreamID</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#WaveformStreamID.__init__">WaveformStreamID</a>
                        </li>
                        <li>
                                <a class="variable" href="#WaveformStreamID.extra_keys">extra_keys</a>
                        </li>
                        <li>
                                <a class="variable" href="#WaveformStreamID.extra_type">extra_type</a>
                        </li>
                        <li>
                                <a class="variable" href="#WaveformStreamID.location">location</a>
                        </li>
                        <li>
                                <a class="variable" href="#WaveformStreamID.stream_id">stream_id</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Arrival">Arrival</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Arrival.__init__">Arrival</a>
                        </li>
                        <li>
                                <a class="variable" href="#Arrival.extra_keys">extra_keys</a>
                        </li>
                        <li>
                                <a class="variable" href="#Arrival.extra_type">extra_type</a>
                        </li>
                        <li>
                                <a class="function" href="#Arrival.calculate_time_residual">calculate_time_residual</a>
                        </li>
                        <li>
                                <a class="variable" href="#Arrival.polarity">polarity</a>
                        </li>
                        <li>
                                <a class="variable" href="#Arrival.pick">pick</a>
                        </li>
                        <li>
                                <a class="variable" href="#Arrival.time">time</a>
                        </li>
                        <li>
                                <a class="variable" href="#Arrival.channel">channel</a>
                        </li>
                        <li>
                                <a class="variable" href="#Arrival.location">location</a>
                        </li>
                        <li>
                                <a class="variable" href="#Arrival.station">station</a>
                        </li>
                        <li>
                                <a class="variable" href="#Arrival.network">network</a>
                        </li>
                        <li>
                                <a class="variable" href="#Arrival.velocity_model_id">velocity_model_id</a>
                        </li>
                        <li>
                                <a class="function" href="#Arrival.get_pick">get_pick</a>
                        </li>
                        <li>
                                <a class="function" href="#Arrival.get_sta">get_sta</a>
                        </li>
                        <li>
                                <a class="function" href="#Arrival.get_station">get_station</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#get_arrival_from_pick">get_arrival_from_pick</a>
            </li>
            <li>
                    <a class="function" href="#read_events">read_events</a>
            </li>
            <li>
                    <a class="function" href="#break_down">break_down</a>
            </li>
            <li>
                    <a class="function" href="#make_pick">make_pick</a>
            </li>
            <li>
                    <a class="function" href="#array_to_b64">array_to_b64</a>
            </li>
            <li>
                    <a class="function" href="#isfloat">isfloat</a>
            </li>
            <li>
                    <a class="function" href="#b64_to_array">b64_to_array</a>
            </li>
            <li>
                    <a class="function" href="#pop_keys_matching">pop_keys_matching</a>
            </li>
            <li>
                    <a class="function" href="#parse_string_val">parse_string_val</a>
            </li>
            <li>
                    <a class="function" href="#calc_static_stress_drop">calc_static_stress_drop</a>
            </li>
            <li>
                    <a class="variable" href="#cos">cos</a>
            </li>
            <li>
                    <a class="variable" href="#sin">sin</a>
            </li>
            <li>
                    <a class="variable" href="#degs2rad">degs2rad</a>
            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../../uquake.html">uquake</a><wbr>.<a href="./../core.html">core</a><wbr>.event    </h1>

                        <div class="docstring"><p>Expansion of the obspy.core.event module</p>

<p>:copyright:
    uquake development team (devs@uquake.org)
:license:
    GNU Lesser General Public License, Version 3
    (<a href="http://www.gnu.org/copyleft/lesser.html">http://www.gnu.org/copyleft/lesser.html</a>)</p>
</div>

                        <input id="mod-event-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-event-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">   1</span></a><span class="c1"># Copyright (C) 2023, Jean-Philippe Mercier</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">   2</span></a><span class="c1">#</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">   3</span></a><span class="c1"># This program is free software: you can redistribute it and/or modify</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">   4</span></a><span class="c1"># it under the terms of the GNU Affero General Public License as published by</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">   5</span></a><span class="c1"># the Free Software Foundation, either version 3 of the License, or</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">   6</span></a><span class="c1"># (at your option) any later version.</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">   7</span></a><span class="c1">#</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">   8</span></a><span class="c1"># This program is distributed in the hope that it will be useful,</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">   9</span></a><span class="c1"># but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">  10</span></a><span class="c1"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos">  11</span></a><span class="c1"># GNU Affero General Public License for more details.</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">  12</span></a><span class="c1">#</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos">  13</span></a><span class="c1"># You should have received a copy of the GNU Affero General Public License</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos">  14</span></a><span class="c1"># along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos">  15</span></a>
</span><span id="L-16"><a href="#L-16"><span class="linenos">  16</span></a><span class="c1"># -*- coding: utf-8 -*-</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos">  17</span></a><span class="c1"># ------------------------------------------------------------------</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos">  18</span></a><span class="c1"># Filename: event.py</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos">  19</span></a><span class="c1">#  Purpose: Expansion of the obspy.core.event module</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos">  20</span></a><span class="c1">#   Author: uquake development team</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos">  21</span></a><span class="c1">#    Email: devs@uquake.org</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos">  22</span></a><span class="c1">#</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos">  23</span></a><span class="c1"># Copyright (C) 2016 uquake development team</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos">  24</span></a><span class="c1"># --------------------------------------------------------------------</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">  25</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos">  26</span></a><span class="sd">Expansion of the obspy.core.event module</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos">  27</span></a>
</span><span id="L-28"><a href="#L-28"><span class="linenos">  28</span></a><span class="sd">:copyright:</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos">  29</span></a><span class="sd">    uquake development team (devs@uquake.org)</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos">  30</span></a><span class="sd">:license:</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos">  31</span></a><span class="sd">    GNU Lesser General Public License, Version 3</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos">  32</span></a><span class="sd">    (http://www.gnu.org/copyleft/lesser.html)</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos">  33</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos">  34</span></a>
</span><span id="L-35"><a href="#L-35"><span class="linenos">  35</span></a><span class="kn">import</span> <span class="nn">base64</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos">  36</span></a><span class="kn">import</span> <span class="nn">io</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos">  37</span></a><span class="kn">import</span> <span class="nn">warnings</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos">  38</span></a><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos">  39</span></a><span class="kn">import</span> <span class="nn">obspy.core.event</span> <span class="k">as</span> <span class="nn">obsevent</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos">  40</span></a><span class="kn">from</span> <span class="nn">obspy.core.event</span> <span class="kn">import</span> <span class="o">*</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos">  41</span></a><span class="kn">from</span> <span class="nn">obspy.core.event</span> <span class="kn">import</span> <span class="n">ResourceIdentifier</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos">  42</span></a><span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos">  43</span></a><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos">  44</span></a><span class="kn">from</span> <span class="nn">uquake.core.coordinates</span> <span class="kn">import</span> <span class="n">Coordinates</span><span class="p">,</span> <span class="n">CoordinateSystem</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos">  45</span></a><span class="kn">from</span> <span class="nn">uquake.core.util.decorators</span> <span class="kn">import</span> <span class="n">update_doc</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos">  46</span></a><span class="kn">import</span> <span class="nn">json</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos">  47</span></a><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos">  48</span></a><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos">  49</span></a><span class="kn">from</span> <span class="nn">obspy.core.util</span> <span class="kn">import</span> <span class="n">AttribDict</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos">  50</span></a>
</span><span id="L-51"><a href="#L-51"><span class="linenos">  51</span></a><span class="n">namespace</span> <span class="o">=</span> <span class="s1">&#39;https://microquake.ai/xml/event/1&#39;</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos">  52</span></a>
</span><span id="L-53"><a href="#L-53"><span class="linenos">  53</span></a>
</span><span id="L-54"><a href="#L-54"><span class="linenos">  54</span></a><span class="k">class</span> <span class="nc">RayCollection</span><span class="p">(</span><span class="nb">list</span><span class="p">):</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos">  55</span></a>
</span><span id="L-56"><a href="#L-56"><span class="linenos">  56</span></a>    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos">  57</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">Ray</span><span class="p">):</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos">  58</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Only Ray objects can be appended to RayCollection&quot;</span><span class="p">)</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos">  59</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos">  60</span></a>
</span><span id="L-61"><a href="#L-61"><span class="linenos">  61</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos">  62</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;RayCollection(</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span><span class="si">}</span><span class="s2">)&quot;</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos">  63</span></a>
</span><span id="L-64"><a href="#L-64"><span class="linenos">  64</span></a>    <span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos">  65</span></a>        <span class="n">out_list</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos">  66</span></a>        <span class="k">for</span> <span class="n">ray</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos">  67</span></a>            <span class="n">out_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ray</span><span class="o">.</span><span class="n">to_json</span><span class="p">())</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos">  68</span></a>        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">out_list</span><span class="p">)</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos">  69</span></a>
</span><span id="L-70"><a href="#L-70"><span class="linenos">  70</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos">  71</span></a>    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">encoded_rays</span><span class="p">):</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos">  72</span></a>        <span class="n">out_list</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos">  73</span></a>        <span class="k">for</span> <span class="n">encoded_ray</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">encoded_rays</span><span class="p">):</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos">  74</span></a>            <span class="n">out_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Ray</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">encoded_ray</span><span class="p">))</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos">  75</span></a>        <span class="k">return</span> <span class="n">out_list</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos">  76</span></a>
</span><span id="L-77"><a href="#L-77"><span class="linenos">  77</span></a>
</span><span id="L-78"><a href="#L-78"><span class="linenos">  78</span></a><span class="k">class</span> <span class="nc">Phase</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos">  79</span></a>
</span><span id="L-80"><a href="#L-80"><span class="linenos">  80</span></a>    <span class="n">P</span> <span class="o">=</span> <span class="s1">&#39;P&#39;</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos">  81</span></a>    <span class="n">S</span> <span class="o">=</span> <span class="s1">&#39;S&#39;</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos">  82</span></a>
</span><span id="L-83"><a href="#L-83"><span class="linenos">  83</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos">  84</span></a>        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos">  85</span></a>
</span><span id="L-86"><a href="#L-86"><span class="linenos">  86</span></a>
</span><span id="L-87"><a href="#L-87"><span class="linenos">  87</span></a><span class="k">class</span> <span class="nc">Ray</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos">  88</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos">  89</span></a><span class="sd">    Initializes a Ray object that represents a seismic raypath in a 3D medium.</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos">  90</span></a>
</span><span id="L-91"><a href="#L-91"><span class="linenos">  91</span></a><span class="sd">    :param nodes: List of nodes defining the raypath geometry. Default is an empty list.</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos">  92</span></a><span class="sd">    :type nodes: list, optional</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos">  93</span></a><span class="sd">    :param waveform_id: Identifier for the associated waveform. Default is an empty</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos">  94</span></a><span class="sd">    WaveformStreamID.</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos">  95</span></a><span class="sd">    :type waveform_id: WaveformStreamID, optional</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos">  96</span></a><span class="sd">    :param arrival_id: Identifier for the associated seismic arrival. Default is None.</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos">  97</span></a><span class="sd">    :type arrival_id: ResourceIdentifier, optional</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos">  98</span></a><span class="sd">    :param phase: Type of seismic wave, either &quot;P&quot; for primary or &quot;S&quot; for secondary.</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos">  99</span></a><span class="sd">    Default is None.</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos"> 100</span></a><span class="sd">    :type phase: str, optional</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos"> 101</span></a><span class="sd">    :param travel_time: Travel time from the source to the observation location, in</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos"> 102</span></a><span class="sd">    seconds.</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos"> 103</span></a><span class="sd">    Default is None.</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos"> 104</span></a><span class="sd">    :type travel_time: float, optional</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos"> 105</span></a><span class="sd">    :param earth_model_id: Identifier for the Earth model used in ray tracing. Default is</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos"> 106</span></a><span class="sd">    None.</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos"> 107</span></a><span class="sd">    :type earth_model_id: ResourceIdentifier, optional</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos"> 108</span></a><span class="sd">    :param coordinate_system: Coordinate system in which the ray nodes are defined.</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos"> 109</span></a><span class="sd">    Default North East Down (NED).</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos"> 110</span></a><span class="sd">    :type coordinate_system: CoordinateSystem, optional</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos"> 111</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos"> 112</span></a>
</span><span id="L-113"><a href="#L-113"><span class="linenos"> 113</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nodes</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos"> 114</span></a>                 <span class="n">waveform_id</span><span class="p">:</span> <span class="n">WaveformStreamID</span> <span class="o">=</span> <span class="n">WaveformStreamID</span><span class="p">(),</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos"> 115</span></a>                 <span class="n">arrival_id</span><span class="p">:</span> <span class="n">ResourceIdentifier</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos"> 116</span></a>                 <span class="n">phase</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos"> 117</span></a>                 <span class="n">travel_time</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos"> 118</span></a>                 <span class="n">takeoff_angle</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos"> 119</span></a>                 <span class="n">azimuth</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos"> 120</span></a>                 <span class="n">velocity_model_id</span><span class="p">:</span> <span class="n">ResourceIdentifier</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos"> 121</span></a>                 <span class="n">coordinate_system</span><span class="p">:</span> <span class="n">CoordinateSystem</span> <span class="o">=</span> <span class="n">CoordinateSystem</span><span class="o">.</span><span class="n">NED</span><span class="p">):</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos"> 122</span></a>
</span><span id="L-123"><a href="#L-123"><span class="linenos"> 123</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">nodes</span><span class="p">)</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos"> 124</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span> <span class="o">=</span> <span class="n">waveform_id</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos"> 125</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">arrival_id</span> <span class="o">=</span> <span class="n">arrival_id</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos"> 126</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">phase</span> <span class="o">=</span> <span class="n">Phase</span><span class="p">(</span><span class="n">phase</span><span class="p">)</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos"> 127</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">travel_time</span> <span class="o">=</span> <span class="n">travel_time</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos"> 128</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">ResourceIdentifier</span><span class="p">()</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos"> 129</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">velocity_model_id</span> <span class="o">=</span> <span class="n">velocity_model_id</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos"> 130</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span> <span class="o">=</span> <span class="n">coordinate_system</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos"> 131</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">takeoff_angle</span> <span class="o">=</span> <span class="n">takeoff_angle</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos"> 132</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span> <span class="o">=</span> <span class="n">azimuth</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos"> 133</span></a>
</span><span id="L-134"><a href="#L-134"><span class="linenos"> 134</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos"> 135</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos"> 136</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos"> 137</span></a>
</span><span id="L-138"><a href="#L-138"><span class="linenos"> 138</span></a>        <span class="c1"># Compare nodes (assuming the same shape and numerical values)</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos"> 139</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">array_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">nodes</span><span class="p">):</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos"> 140</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos"> 141</span></a>
</span><span id="L-142"><a href="#L-142"><span class="linenos"> 142</span></a>        <span class="c1"># Compare other attributes</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos"> 143</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">arrival_id</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">arrival_id</span> <span class="ow">or</span> \
</span><span id="L-144"><a href="#L-144"><span class="linenos"> 144</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">phase</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">phase</span> <span class="ow">or</span> \
</span><span id="L-145"><a href="#L-145"><span class="linenos"> 145</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">travel_time</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">travel_time</span> <span class="ow">or</span> \
</span><span id="L-146"><a href="#L-146"><span class="linenos"> 146</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">takeoff_angle</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">takeoff_angle</span> <span class="ow">or</span> \
</span><span id="L-147"><a href="#L-147"><span class="linenos"> 147</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">azimuth</span> <span class="ow">or</span> \
</span><span id="L-148"><a href="#L-148"><span class="linenos"> 148</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">velocity_model_id</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">velocity_model_id</span> <span class="ow">or</span> \
</span><span id="L-149"><a href="#L-149"><span class="linenos"> 149</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">coordinate_system</span> <span class="ow">or</span> \
</span><span id="L-150"><a href="#L-150"><span class="linenos"> 150</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">waveform_id</span><span class="p">:</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos"> 151</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos"> 152</span></a>
</span><span id="L-153"><a href="#L-153"><span class="linenos"> 153</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos"> 154</span></a>
</span><span id="L-155"><a href="#L-155"><span class="linenos"> 155</span></a>    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos"> 156</span></a>        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;phase&#39;</span><span class="p">:</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos"> 157</span></a>            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos"> 158</span></a>                <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos"> 159</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos"> 160</span></a>                <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos"> 161</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos"> 162</span></a>            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos"> 163</span></a>
</span><span id="L-164"><a href="#L-164"><span class="linenos"> 164</span></a>    <span class="nd">@property</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos"> 165</span></a>    <span class="k">def</span> <span class="nf">length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos"> 166</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos"> 167</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos"> 168</span></a>
</span><span id="L-169"><a href="#L-169"><span class="linenos"> 169</span></a>        <span class="n">length</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos"> 170</span></a>        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">node1</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]):</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos"> 171</span></a>            <span class="n">node2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos"> 172</span></a>            <span class="n">length</span> <span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">node1</span> <span class="o">-</span> <span class="n">node2</span><span class="p">)</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos"> 173</span></a>
</span><span id="L-174"><a href="#L-174"><span class="linenos"> 174</span></a>        <span class="k">return</span> <span class="n">length</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos"> 175</span></a>
</span><span id="L-176"><a href="#L-176"><span class="linenos"> 176</span></a>    <span class="nd">@property</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos"> 177</span></a>    <span class="k">def</span> <span class="nf">toa</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos"> 178</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">takeoff_angle</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos"> 179</span></a>
</span><span id="L-180"><a href="#L-180"><span class="linenos"> 180</span></a>    <span class="nd">@property</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos"> 181</span></a>    <span class="k">def</span> <span class="nf">az</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos"> 182</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos"> 183</span></a>
</span><span id="L-184"><a href="#L-184"><span class="linenos"> 184</span></a>    <span class="nd">@property</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos"> 185</span></a>    <span class="k">def</span> <span class="nf">location</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos"> 186</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">location</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos"> 187</span></a>
</span><span id="L-188"><a href="#L-188"><span class="linenos"> 188</span></a>    <span class="nd">@property</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos"> 189</span></a>    <span class="k">def</span> <span class="nf">station</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos"> 190</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">station_code</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos"> 191</span></a>
</span><span id="L-192"><a href="#L-192"><span class="linenos"> 192</span></a>    <span class="nd">@property</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos"> 193</span></a>    <span class="k">def</span> <span class="nf">location</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos"> 194</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">location_code</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos"> 195</span></a>
</span><span id="L-196"><a href="#L-196"><span class="linenos"> 196</span></a>    <span class="nd">@property</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos"> 197</span></a>    <span class="k">def</span> <span class="nf">network</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos"> 198</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">network_code</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos"> 199</span></a>
</span><span id="L-200"><a href="#L-200"><span class="linenos"> 200</span></a>    <span class="nd">@property</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos"> 201</span></a>    <span class="k">def</span> <span class="nf">back_azimuth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos"> 202</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">baz</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos"> 203</span></a>
</span><span id="L-204"><a href="#L-204"><span class="linenos"> 204</span></a>    <span class="nd">@property</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos"> 205</span></a>    <span class="k">def</span> <span class="nf">earth_model_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos"> 206</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">velocity_model_id</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos"> 207</span></a>
</span><span id="L-208"><a href="#L-208"><span class="linenos"> 208</span></a>    <span class="k">def</span> <span class="nf">_vector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index1</span><span class="p">,</span> <span class="n">index2</span><span class="p">):</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos"> 209</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the vector between two nodes based on coordinate system.&quot;&quot;&quot;</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos"> 210</span></a>        <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">index2</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">index1</span><span class="p">]</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos"> 211</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span> <span class="o">==</span> <span class="n">CoordinateSystem</span><span class="o">.</span><span class="n">NED</span><span class="p">:</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos"> 212</span></a>            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="o">-</span><span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos"> 213</span></a>        <span class="k">return</span> <span class="n">v</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos"> 214</span></a>
</span><span id="L-215"><a href="#L-215"><span class="linenos"> 215</span></a>    <span class="nd">@property</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos"> 216</span></a>    <span class="k">def</span> <span class="nf">baz</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos"> 217</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Back-azimuth in degrees.&quot;&quot;&quot;</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos"> 218</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos"> 219</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos"> 220</span></a>        <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vector</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos"> 221</span></a>        <span class="n">baz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mi">180</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos"> 222</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">baz</span> <span class="o">+</span> <span class="mi">360</span><span class="p">)</span> <span class="o">%</span> <span class="mi">360</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos"> 223</span></a>
</span><span id="L-224"><a href="#L-224"><span class="linenos"> 224</span></a>    <span class="nd">@property</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos"> 225</span></a>    <span class="k">def</span> <span class="nf">incidence_angle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos"> 226</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Incidence angle in degrees.&quot;&quot;&quot;</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos"> 227</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos"> 228</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos"> 229</span></a>        <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vector</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos"> 230</span></a>        <span class="n">h</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos"> 231</span></a>        <span class="n">ia</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">*</span> <span class="mi">180</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos"> 232</span></a>        <span class="k">return</span> <span class="n">ia</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos"> 233</span></a>
</span><span id="L-234"><a href="#L-234"><span class="linenos"> 234</span></a>    <span class="k">def</span> <span class="nf">to_pick</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">origin_time</span><span class="p">):</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos"> 235</span></a>        <span class="n">time</span> <span class="o">=</span> <span class="n">origin_time</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">travel_time</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos"> 236</span></a>        <span class="n">waveform_id</span> <span class="o">=</span> <span class="n">WaveformStreamID</span><span class="p">(</span><span class="n">network_code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">network</span><span class="p">,</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos"> 237</span></a>                                       <span class="n">station_code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">station</span><span class="p">,</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos"> 238</span></a>                                       <span class="n">location_code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">location</span><span class="p">)</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos"> 239</span></a>
</span><span id="L-240"><a href="#L-240"><span class="linenos"> 240</span></a>        <span class="n">method_id</span> <span class="o">=</span> <span class="n">ResourceIdentifier</span><span class="p">(</span><span class="s1">&#39;predicted from rays&#39;</span><span class="p">)</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos"> 241</span></a>        <span class="k">return</span> <span class="n">Pick</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="n">time</span><span class="p">,</span> <span class="n">waveform_id</span><span class="o">=</span><span class="n">waveform_id</span><span class="p">,</span> <span class="n">method_id</span><span class="o">=</span><span class="n">method_id</span><span class="p">,</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos"> 242</span></a>                    <span class="n">back_azimuth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">back_azimuth</span><span class="p">,</span> <span class="n">phase_hint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">phase</span><span class="p">,</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos"> 243</span></a>                    <span class="n">evaluation_mode</span><span class="o">=</span><span class="s1">&#39;automatic&#39;</span><span class="p">,</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos"> 244</span></a>                    <span class="n">evaluation_status</span><span class="o">=</span><span class="s1">&#39;preliminary&#39;</span><span class="p">)</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos"> 245</span></a>
</span><span id="L-246"><a href="#L-246"><span class="linenos"> 246</span></a>    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos"> 247</span></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos"> 248</span></a>
</span><span id="L-249"><a href="#L-249"><span class="linenos"> 249</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos"> 250</span></a>
</span><span id="L-251"><a href="#L-251"><span class="linenos"> 251</span></a>        <span class="n">stream_code</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">network_code</span><span class="si">}</span><span class="s1">.&#39;</span> \
</span><span id="L-252"><a href="#L-252"><span class="linenos"> 252</span></a>                      <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">station_code</span><span class="si">}</span><span class="s1">.&#39;</span> \
</span><span id="L-253"><a href="#L-253"><span class="linenos"> 253</span></a>                      <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">location_code</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos"> 254</span></a>
</span><span id="L-255"><a href="#L-255"><span class="linenos"> 255</span></a>        <span class="n">txt</span> <span class="o">=</span> \
</span><span id="L-256"><a href="#L-256"><span class="linenos"> 256</span></a>            <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos"> 257</span></a><span class="s2">         stream code: </span><span class="si">{</span><span class="n">stream_code</span><span class="si">}</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos"> 258</span></a><span class="s2">          arrival id: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">arrival_id</span><span class="si">}</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos"> 259</span></a><span class="s2">               phase: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">phase</span><span class="si">}</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos"> 260</span></a><span class="s2">          length (m): </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">length</span><span class="si">:</span><span class="s2">0.1f</span><span class="si">}</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos"> 261</span></a><span class="s2">     number of nodes: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span><span class="si">}</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos"> 262</span></a><span class="s2">            &quot;&quot;&quot;</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos"> 263</span></a>        <span class="k">return</span> <span class="n">txt</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos"> 264</span></a>
</span><span id="L-265"><a href="#L-265"><span class="linenos"> 265</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos"> 266</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos"> 267</span></a>
</span><span id="L-268"><a href="#L-268"><span class="linenos"> 268</span></a>    <span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos"> 269</span></a>        <span class="n">obj_dict</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos"> 270</span></a>            <span class="s1">&#39;nodes&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos"> 271</span></a>            <span class="s1">&#39;waveform_id&#39;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos"> 272</span></a>                <span class="s1">&#39;network_code&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">network_code</span><span class="p">,</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos"> 273</span></a>                <span class="s1">&#39;station_code&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">station_code</span><span class="p">,</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos"> 274</span></a>                <span class="s1">&#39;channel_code&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">channel_code</span><span class="p">,</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos"> 275</span></a>                <span class="s1">&#39;location_code&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">location_code</span><span class="p">,</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos"> 276</span></a>                <span class="s1">&#39;resource_uri&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">resource_uri</span><span class="p">)</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos"> 277</span></a>            <span class="p">},</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos"> 278</span></a>            <span class="s1">&#39;arrival_id&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arrival_id</span><span class="p">),</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos"> 279</span></a>            <span class="s1">&#39;phase&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">phase</span><span class="p">),</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos"> 280</span></a>            <span class="s1">&#39;travel_time&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">travel_time</span><span class="p">,</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos"> 281</span></a>            <span class="s1">&#39;resource_id&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="p">),</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos"> 282</span></a>            <span class="s1">&#39;velocity_model_id&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">velocity_model_id</span><span class="p">),</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos"> 283</span></a>            <span class="s1">&#39;coordinate_system&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span><span class="p">),</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos"> 284</span></a>            <span class="s1">&#39;takeoff_angle&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">takeoff_angle</span><span class="p">,</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos"> 285</span></a>            <span class="s1">&#39;azimuth&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos"> 286</span></a>        <span class="p">}</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos"> 287</span></a>        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">obj_dict</span><span class="p">)</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos"> 288</span></a>
</span><span id="L-289"><a href="#L-289"><span class="linenos"> 289</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos"> 290</span></a>    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">json_str</span><span class="p">):</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos"> 291</span></a>        <span class="n">obj_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos"> 292</span></a>        <span class="n">nodes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;nodes&#39;</span><span class="p">])</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos"> 293</span></a>        <span class="n">waveform_id_dict</span> <span class="o">=</span> <span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;waveform_id&#39;</span><span class="p">]</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos"> 294</span></a>        <span class="n">waveform_id</span> <span class="o">=</span> <span class="n">WaveformStreamID</span><span class="p">(</span><span class="n">network_code</span><span class="o">=</span><span class="n">waveform_id_dict</span><span class="p">[</span><span class="s1">&#39;network_code&#39;</span><span class="p">],</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos"> 295</span></a>                                       <span class="n">station_code</span><span class="o">=</span><span class="n">waveform_id_dict</span><span class="p">[</span><span class="s1">&#39;station_code&#39;</span><span class="p">],</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos"> 296</span></a>                                       <span class="n">channel_code</span><span class="o">=</span><span class="n">waveform_id_dict</span><span class="p">[</span><span class="s1">&#39;channel_code&#39;</span><span class="p">],</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos"> 297</span></a>                                       <span class="n">location_code</span><span class="o">=</span><span class="n">waveform_id_dict</span><span class="p">[</span><span class="s1">&#39;location_code&#39;</span><span class="p">],</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos"> 298</span></a>                                       <span class="n">resource_uri</span><span class="o">=</span><span class="n">ResourceIdentifier</span><span class="p">(</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos"> 299</span></a>                                           <span class="n">waveform_id_dict</span><span class="p">[</span><span class="s1">&#39;resource_uri&#39;</span><span class="p">]))</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos"> 300</span></a>        <span class="n">arrival_id</span> <span class="o">=</span> <span class="n">ResourceIdentifier</span><span class="p">(</span><span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;arrival_id&#39;</span><span class="p">])</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos"> 301</span></a>        <span class="n">phase</span> <span class="o">=</span> <span class="n">Phase</span><span class="p">(</span><span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;phase&#39;</span><span class="p">])</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos"> 302</span></a>        <span class="n">travel_time</span> <span class="o">=</span> <span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;travel_time&#39;</span><span class="p">]</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos"> 303</span></a>        <span class="n">velocity_model_id</span> <span class="o">=</span> <span class="n">ResourceIdentifier</span><span class="p">(</span><span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;velocity_model_id&#39;</span><span class="p">])</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos"> 304</span></a>        <span class="n">coordinate_system</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">CoordinateSystem</span><span class="p">,</span> <span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;coordinate_system&#39;</span><span class="p">])</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos"> 305</span></a>        <span class="n">takeoff_angle</span> <span class="o">=</span> <span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;takeoff_angle&#39;</span><span class="p">]</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos"> 306</span></a>        <span class="n">azimuth</span> <span class="o">=</span> <span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;azimuth&#39;</span><span class="p">]</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos"> 307</span></a>
</span><span id="L-308"><a href="#L-308"><span class="linenos"> 308</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span> <span class="n">waveform_id</span><span class="p">,</span> <span class="n">arrival_id</span><span class="p">,</span> <span class="n">phase</span><span class="p">,</span> <span class="n">travel_time</span><span class="p">,</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos"> 309</span></a>                   <span class="n">takeoff_angle</span><span class="p">,</span> <span class="n">azimuth</span><span class="p">,</span> <span class="n">velocity_model_id</span><span class="p">,</span> <span class="n">coordinate_system</span><span class="p">)</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos"> 310</span></a>
</span><span id="L-311"><a href="#L-311"><span class="linenos"> 311</span></a>
</span><span id="L-312"><a href="#L-312"><span class="linenos"> 312</span></a><span class="nd">@update_doc</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos"> 313</span></a><span class="k">class</span> <span class="nc">Catalog</span><span class="p">(</span><span class="n">obsevent</span><span class="o">.</span><span class="n">Catalog</span><span class="p">):</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos"> 314</span></a>    <span class="n">extra_keys</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos"> 315</span></a>    <span class="n">extra</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos"> 316</span></a>
</span><span id="L-317"><a href="#L-317"><span class="linenos"> 317</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos"> 318</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">events</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos"> 319</span></a>        <span class="k">if</span> <span class="n">obspy_obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos"> 320</span></a>            <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos"> 321</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos"> 322</span></a>            <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">events</span><span class="p">:</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos"> 323</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Event</span><span class="p">(</span><span class="n">obspy_obj</span><span class="o">=</span><span class="n">event</span><span class="p">))</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos"> 324</span></a>
</span><span id="L-325"><a href="#L-325"><span class="linenos"> 325</span></a>    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos"> 326</span></a>        <span class="nb">super</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos"> 327</span></a>
</span><span id="L-328"><a href="#L-328"><span class="linenos"> 328</span></a>    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos"> 329</span></a>        <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos"> 330</span></a>
</span><span id="L-331"><a href="#L-331"><span class="linenos"> 331</span></a>    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fileobj</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;quakeml&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos"> 332</span></a>        <span class="n">event_type_lookup</span> <span class="o">=</span> <span class="n">EventTypeLookup</span><span class="p">()</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos"> 333</span></a>        <span class="n">type_lookup</span> <span class="o">=</span> <span class="n">event_type_lookup</span><span class="o">.</span><span class="n">lookup_table</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos"> 334</span></a>        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">:</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos"> 335</span></a>            <span class="k">if</span> <span class="n">event_type_lookup</span><span class="o">.</span><span class="n">is_valid_uquakeml</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">event_type</span><span class="p">):</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos"> 336</span></a>                <span class="n">event</span><span class="o">.</span><span class="n">event_type</span> <span class="o">=</span> <span class="n">type_lookup</span><span class="p">[</span><span class="n">event</span><span class="o">.</span><span class="n">event_type</span><span class="p">]</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos"> 337</span></a>            <span class="k">for</span> <span class="n">ori</span> <span class="ow">in</span> <span class="n">event</span><span class="o">.</span><span class="n">origins</span><span class="p">:</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos"> 338</span></a>                <span class="k">for</span> <span class="n">ar</span> <span class="ow">in</span> <span class="n">ori</span><span class="o">.</span><span class="n">arrivals</span><span class="p">:</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos"> 339</span></a>                    <span class="k">if</span> <span class="s1">&#39;extra&#39;</span> <span class="ow">in</span> <span class="n">ar</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos"> 340</span></a>                        <span class="k">del</span> <span class="n">ar</span><span class="o">.</span><span class="n">extra</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos"> 341</span></a>
</span><span id="L-342"><a href="#L-342"><span class="linenos"> 342</span></a>        <span class="k">if</span> <span class="nb">format</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;QUAKEML&#39;</span><span class="p">:</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos"> 343</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">Catalog</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fileobj</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos"> 344</span></a>                                            <span class="n">nsmap</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;mq&#39;</span><span class="p">:</span> <span class="n">namespace</span><span class="p">},</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-345"><a href="#L-345"><span class="linenos"> 345</span></a>
</span><span id="L-346"><a href="#L-346"><span class="linenos"> 346</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos"> 347</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">Catalog</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fileobj</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos"> 348</span></a>
</span><span id="L-349"><a href="#L-349"><span class="linenos"> 349</span></a>        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">:</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos"> 350</span></a>            <span class="k">for</span> <span class="n">ori</span> <span class="ow">in</span> <span class="n">event</span><span class="o">.</span><span class="n">origins</span><span class="p">:</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos"> 351</span></a>                <span class="n">ars</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos"> 352</span></a>                <span class="k">for</span> <span class="n">ar</span> <span class="ow">in</span> <span class="n">ori</span><span class="o">.</span><span class="n">arrivals</span><span class="p">:</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos"> 353</span></a>                    <span class="n">ars</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Arrival</span><span class="p">(</span><span class="n">obspy_obj</span><span class="o">=</span><span class="n">ar</span><span class="p">))</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos"> 354</span></a>                <span class="n">ori</span><span class="o">.</span><span class="n">arrivals</span> <span class="o">=</span> <span class="n">ars</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos"> 355</span></a>
</span><span id="L-356"><a href="#L-356"><span class="linenos"> 356</span></a>
</span><span id="L-357"><a href="#L-357"><span class="linenos"> 357</span></a>
</span><span id="L-358"><a href="#L-358"><span class="linenos"> 358</span></a>        <span class="k">return</span> <span class="n">result</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos"> 359</span></a>
</span><span id="L-360"><a href="#L-360"><span class="linenos"> 360</span></a>    <span class="k">def</span> <span class="nf">duplicate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos"> 361</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos"> 362</span></a><span class="sd">        this function duplicates a catalog object, this function does not</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos"> 363</span></a><span class="sd">        duplicate picks. It creates an object containing multiple event</span>
</span><span id="L-364"><a href="#L-364"><span class="linenos"> 364</span></a><span class="sd">        containing each one origin and one magnitude.</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos"> 365</span></a><span class="sd">        :return: a new catalog object</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos"> 366</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos"> 367</span></a>
</span><span id="L-368"><a href="#L-368"><span class="linenos"> 368</span></a>        <span class="n">new_events</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos"> 369</span></a>        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">:</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos"> 370</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">origins</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos"> 371</span></a>                <span class="n">new_origins</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos"> 372</span></a>                <span class="n">preferred_origin_id</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos"> 373</span></a>
</span><span id="L-374"><a href="#L-374"><span class="linenos"> 374</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos"> 375</span></a>                <span class="n">new_origins</span> <span class="o">=</span> <span class="p">[</span><span class="n">event</span><span class="o">.</span><span class="n">preferred_origin</span><span class="p">()</span> <span class="ow">or</span> <span class="n">event</span><span class="o">.</span><span class="n">origins</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos"> 376</span></a>
</span><span id="L-377"><a href="#L-377"><span class="linenos"> 377</span></a>                <span class="n">preferred_origin_id</span> <span class="o">=</span> <span class="n">ResourceIdentifier</span><span class="p">()</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos"> 378</span></a>                <span class="n">new_origins</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">preferred_origin_id</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos"> 379</span></a>                <span class="n">new_origins</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">arrivals</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos"> 380</span></a>                <span class="n">new_rays</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos"> 381</span></a>                <span class="k">for</span> <span class="n">ray</span> <span class="ow">in</span> <span class="n">new_origins</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">rays</span><span class="p">:</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos"> 382</span></a>                    <span class="n">ray</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">ResourceIdentifier</span><span class="p">()</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos"> 383</span></a>                    <span class="n">new_rays</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ray</span><span class="p">)</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos"> 384</span></a>                <span class="n">new_origins</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">rays</span> <span class="o">=</span> <span class="n">new_rays</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos"> 385</span></a>
</span><span id="L-386"><a href="#L-386"><span class="linenos"> 386</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">magnitudes</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos"> 387</span></a>                <span class="n">new_magnitudes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos"> 388</span></a>                <span class="n">preferred_magnitude_id</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos"> 389</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos"> 390</span></a>                <span class="n">new_magnitudes</span> <span class="o">=</span> <span class="p">[</span><span class="n">event</span><span class="o">.</span><span class="n">preferred_magnitude</span><span class="p">()</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos"> 391</span></a>                                  <span class="ow">or</span> <span class="n">event</span><span class="o">.</span><span class="n">magnitudes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos"> 392</span></a>
</span><span id="L-393"><a href="#L-393"><span class="linenos"> 393</span></a>                <span class="n">preferred_magnitude_id</span> <span class="o">=</span> <span class="n">ResourceIdentifier</span><span class="p">()</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos"> 394</span></a>                <span class="n">new_magnitudes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">preferred_magnitude_id</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos"> 395</span></a>                <span class="n">new_magnitudes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">origin_id</span> <span class="o">=</span> <span class="n">preferred_origin_id</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos"> 396</span></a>
</span><span id="L-397"><a href="#L-397"><span class="linenos"> 397</span></a>            <span class="n">new_event</span> <span class="o">=</span> <span class="n">Event</span><span class="p">(</span><span class="n">origins</span><span class="o">=</span><span class="n">new_origins</span><span class="p">,</span> <span class="n">magnitudes</span><span class="o">=</span><span class="n">new_magnitudes</span><span class="p">)</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos"> 398</span></a>            <span class="n">new_event</span><span class="o">.</span><span class="n">preferred_origin_id</span> <span class="o">=</span> <span class="n">preferred_origin_id</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos"> 399</span></a>            <span class="n">new_event</span><span class="o">.</span><span class="n">preferred_magnitude_id</span> <span class="o">=</span> <span class="n">preferred_magnitude_id</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos"> 400</span></a>
</span><span id="L-401"><a href="#L-401"><span class="linenos"> 401</span></a>            <span class="n">new_events</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_event</span><span class="p">)</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos"> 402</span></a>
</span><span id="L-403"><a href="#L-403"><span class="linenos"> 403</span></a>            <span class="k">return</span> <span class="n">Catalog</span><span class="p">(</span><span class="n">events</span><span class="o">=</span><span class="n">new_events</span><span class="p">)</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos"> 404</span></a>
</span><span id="L-405"><a href="#L-405"><span class="linenos"> 405</span></a>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos"> 406</span></a>        <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos"> 407</span></a>
</span><span id="L-408"><a href="#L-408"><span class="linenos"> 408</span></a>
</span><span id="L-409"><a href="#L-409"><span class="linenos"> 409</span></a><span class="k">class</span> <span class="nc">EventTypeLookup</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="L-410"><a href="#L-410"><span class="linenos"> 410</span></a>
</span><span id="L-411"><a href="#L-411"><span class="linenos"> 411</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos"> 412</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">lookup_table</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;earthquake/large event&#39;</span><span class="p">:</span> <span class="s1">&#39;earthquake&#39;</span><span class="p">,</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos"> 413</span></a>                             <span class="s1">&#39;seismic event&#39;</span><span class="p">:</span> <span class="s1">&#39;induced or triggered event&#39;</span><span class="p">,</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos"> 414</span></a>                             <span class="s1">&#39;offsite event&#39;</span><span class="p">:</span> <span class="s1">&#39;atmospheric event&#39;</span><span class="p">,</span>
</span><span id="L-415"><a href="#L-415"><span class="linenos"> 415</span></a>                             <span class="s1">&#39;rock burst&#39;</span><span class="p">:</span> <span class="s1">&#39;rock burst&#39;</span><span class="p">,</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos"> 416</span></a>                             <span class="s1">&#39;fall of ground/rockfall&#39;</span><span class="p">:</span> <span class="s1">&#39;cavity collapse&#39;</span><span class="p">,</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos"> 417</span></a>                             <span class="s1">&#39;blast&#39;</span><span class="p">:</span> <span class="s1">&#39;explosion&#39;</span><span class="p">,</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos"> 418</span></a>                             <span class="s1">&#39;blast sequence&#39;</span><span class="p">:</span> <span class="s1">&#39;accidental explosion&#39;</span><span class="p">,</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos"> 419</span></a>                             <span class="s1">&#39;development blast&#39;</span><span class="p">:</span> <span class="s1">&#39;industrial explosion&#39;</span><span class="p">,</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos"> 420</span></a>                             <span class="s1">&#39;production blast&#39;</span><span class="p">:</span> <span class="s1">&#39;mining explosion&#39;</span><span class="p">,</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos"> 421</span></a>                             <span class="s1">&#39;far away blast/open pit blast&#39;</span><span class="p">:</span> <span class="s1">&#39;quarry blast&#39;</span><span class="p">,</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos"> 422</span></a>                             <span class="s1">&#39;offsite blast&#39;</span><span class="p">:</span> <span class="s1">&#39;nuclear explosion&#39;</span><span class="p">,</span>
</span><span id="L-423"><a href="#L-423"><span class="linenos"> 423</span></a>                             <span class="s1">&#39;paste firing&#39;</span><span class="p">:</span> <span class="s1">&#39;chemical explosion&#39;</span><span class="p">,</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos"> 424</span></a>                             <span class="s1">&#39;calibration blast&#39;</span><span class="p">:</span> <span class="s1">&#39;controlled explosion&#39;</span><span class="p">,</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos"> 425</span></a>                             <span class="s1">&#39;other blast/slashing&#39;</span><span class="p">:</span> <span class="s1">&#39;experimental explosion&#39;</span><span class="p">,</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos"> 426</span></a>                             <span class="s1">&#39;mid-shift blast/slash blast&#39;</span><span class="p">:</span> <span class="s1">&#39;industrial explosion&#39;</span><span class="p">,</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos"> 427</span></a>                             <span class="s1">&#39;raise bore&#39;</span><span class="p">:</span> <span class="s1">&#39;hydroacoustic event&#39;</span><span class="p">,</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos"> 428</span></a>                             <span class="s1">&#39;crusher noise&#39;</span><span class="p">:</span> <span class="s1">&#39;road cut&#39;</span><span class="p">,</span>
</span><span id="L-429"><a href="#L-429"><span class="linenos"> 429</span></a>                             <span class="s1">&#39;orepass noise&#39;</span><span class="p">:</span> <span class="s1">&#39;collapse&#39;</span><span class="p">,</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos"> 430</span></a>                             <span class="s1">&#39;drilling noise&#39;</span><span class="p">:</span> <span class="s1">&#39;acoustic noise&#39;</span><span class="p">,</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos"> 431</span></a>                             <span class="s1">&#39;electrical noise&#39;</span><span class="p">:</span> <span class="s1">&#39;thunder&#39;</span><span class="p">,</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos"> 432</span></a>                             <span class="s1">&#39;scaling noise&#39;</span><span class="p">:</span> <span class="s1">&#39;anthropogenic event&#39;</span><span class="p">,</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos"> 433</span></a>                             <span class="s1">&#39;mechanical noise&#39;</span><span class="p">:</span> <span class="s1">&#39;crash&#39;</span><span class="p">,</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos"> 434</span></a>                             <span class="s1">&#39;test pulse&#39;</span><span class="p">:</span> <span class="s1">&#39;sonic boom&#39;</span><span class="p">,</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos"> 435</span></a>                             <span class="s1">&#39;unidentified noise/other noise&#39;</span><span class="p">:</span> <span class="s1">&#39;other event&#39;</span><span class="p">,</span>
</span><span id="L-436"><a href="#L-436"><span class="linenos"> 436</span></a>                             <span class="s1">&#39;duplicate&#39;</span><span class="p">:</span> <span class="s1">&#39;boat crash&#39;</span><span class="p">,</span>
</span><span id="L-437"><a href="#L-437"><span class="linenos"> 437</span></a>                             <span class="s1">&#39;unknown&#39;</span><span class="p">:</span> <span class="s1">&#39;plane crash&#39;</span><span class="p">,</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos"> 438</span></a>                             <span class="s1">&#39;tap test/test&#39;</span><span class="p">:</span> <span class="s1">&#39;avalanche&#39;</span><span class="p">}</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos"> 439</span></a>
</span><span id="L-440"><a href="#L-440"><span class="linenos"> 440</span></a>    <span class="nd">@property</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos"> 441</span></a>    <span class="k">def</span> <span class="nf">inverse_lookup_table</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos"> 442</span></a>        <span class="n">inverse_lookup_table</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos"> 443</span></a>        <span class="n">lookup_table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookup_table</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos"> 444</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">lookup_table</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos"> 445</span></a>            <span class="n">inverse_lookup_table</span><span class="p">[</span><span class="n">lookup_table</span><span class="p">[</span><span class="n">key</span><span class="p">]]</span> <span class="o">=</span> <span class="n">key</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos"> 446</span></a>
</span><span id="L-447"><a href="#L-447"><span class="linenos"> 447</span></a>        <span class="k">return</span> <span class="n">inverse_lookup_table</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos"> 448</span></a>
</span><span id="L-449"><a href="#L-449"><span class="linenos"> 449</span></a>    <span class="k">def</span> <span class="nf">convert_from_quakeml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">quakeml_type</span><span class="p">):</span>
</span><span id="L-450"><a href="#L-450"><span class="linenos"> 450</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookup_table</span><span class="p">[</span><span class="n">quakeml_type</span><span class="p">]</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos"> 451</span></a>
</span><span id="L-452"><a href="#L-452"><span class="linenos"> 452</span></a>    <span class="k">def</span> <span class="nf">convert_to_quakeml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uquakeml_type</span><span class="p">):</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos"> 453</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">inverse_lookup_table</span><span class="p">[</span><span class="n">uquakeml_type</span><span class="p">]</span>
</span><span id="L-454"><a href="#L-454"><span class="linenos"> 454</span></a>
</span><span id="L-455"><a href="#L-455"><span class="linenos"> 455</span></a>    <span class="nd">@property</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos"> 456</span></a>    <span class="k">def</span> <span class="nf">valid_quakeml_types</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-457"><a href="#L-457"><span class="linenos"> 457</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">inverse_lookup_table</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos"> 458</span></a>
</span><span id="L-459"><a href="#L-459"><span class="linenos"> 459</span></a>    <span class="nd">@property</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos"> 460</span></a>    <span class="k">def</span> <span class="nf">valid_uquakeml_types</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-461"><a href="#L-461"><span class="linenos"> 461</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookup_table</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos"> 462</span></a>
</span><span id="L-463"><a href="#L-463"><span class="linenos"> 463</span></a>    <span class="k">def</span> <span class="nf">is_valid_quakeml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_type</span><span class="p">):</span>
</span><span id="L-464"><a href="#L-464"><span class="linenos"> 464</span></a>        <span class="k">return</span> <span class="n">event_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">valid_quakeml_types</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos"> 465</span></a>
</span><span id="L-466"><a href="#L-466"><span class="linenos"> 466</span></a>    <span class="k">def</span> <span class="nf">is_valid_uquakeml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_type</span><span class="p">):</span>
</span><span id="L-467"><a href="#L-467"><span class="linenos"> 467</span></a>        <span class="k">return</span> <span class="n">event_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">valid_uquakeml_types</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos"> 468</span></a>
</span><span id="L-469"><a href="#L-469"><span class="linenos"> 469</span></a>
</span><span id="L-470"><a href="#L-470"><span class="linenos"> 470</span></a><span class="nd">@update_doc</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos"> 471</span></a><span class="k">class</span> <span class="nc">Event</span><span class="p">(</span><span class="n">obsevent</span><span class="o">.</span><span class="n">Event</span><span class="p">):</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos"> 472</span></a>
</span><span id="L-473"><a href="#L-473"><span class="linenos"> 473</span></a>    <span class="c1"># _format keyword is actualy a missing obspy default</span>
</span><span id="L-474"><a href="#L-474"><span class="linenos"> 474</span></a>
</span><span id="L-475"><a href="#L-475"><span class="linenos"> 475</span></a>    <span class="c1"># __doc__ = obsevent.Event.__doc__.replace(&#39;obspy&#39;, &#39;uquake&#39;)</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos"> 476</span></a>
</span><span id="L-477"><a href="#L-477"><span class="linenos"> 477</span></a>    <span class="n">extra_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;_format&#39;</span><span class="p">]</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos"> 478</span></a>    <span class="n">extra_types</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;_format&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">}</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos"> 479</span></a>
</span><span id="L-480"><a href="#L-480"><span class="linenos"> 480</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos"> 481</span></a>        <span class="k">if</span> <span class="n">obspy_obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos"> 482</span></a>            <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos"> 483</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos"> 484</span></a>
</span><span id="L-485"><a href="#L-485"><span class="linenos"> 485</span></a>            <span class="n">pick_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos"> 486</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">picks</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-487"><a href="#L-487"><span class="linenos"> 487</span></a>            <span class="k">for</span> <span class="n">pick</span> <span class="ow">in</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">picks</span><span class="p">:</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos"> 488</span></a>                <span class="n">uq_pick</span> <span class="o">=</span> <span class="n">Pick</span><span class="p">(</span><span class="n">obspy_obj</span><span class="o">=</span><span class="n">pick</span><span class="p">)</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos"> 489</span></a>                <span class="n">pick_dict</span><span class="p">[</span><span class="n">pick</span><span class="o">.</span><span class="n">resource_id</span><span class="o">.</span><span class="n">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">uq_pick</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos"> 490</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">picks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">uq_pick</span><span class="p">)</span>
</span><span id="L-491"><a href="#L-491"><span class="linenos"> 491</span></a>
</span><span id="L-492"><a href="#L-492"><span class="linenos"> 492</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">origins</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-493"><a href="#L-493"><span class="linenos"> 493</span></a>            <span class="n">preferred_origin_id</span> <span class="o">=</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">preferred_origin_id</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos"> 494</span></a>            <span class="k">for</span> <span class="n">origin</span> <span class="ow">in</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">origins</span><span class="p">:</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos"> 495</span></a>                <span class="n">uq_origin</span> <span class="o">=</span> <span class="n">Origin</span><span class="p">(</span><span class="n">obspy_obj</span><span class="o">=</span><span class="n">origin</span><span class="p">)</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos"> 496</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">origins</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">uq_origin</span><span class="p">)</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos"> 497</span></a>                <span class="k">if</span> <span class="n">origin</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">==</span> <span class="n">preferred_origin_id</span><span class="p">:</span>
</span><span id="L-498"><a href="#L-498"><span class="linenos"> 498</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">preferred_origin_id</span> <span class="o">=</span> <span class="n">origin</span><span class="o">.</span><span class="n">resource_id</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos"> 499</span></a>
</span><span id="L-500"><a href="#L-500"><span class="linenos"> 500</span></a>                <span class="k">for</span> <span class="n">arrival</span> <span class="ow">in</span> <span class="n">uq_origin</span><span class="o">.</span><span class="n">arrivals</span><span class="p">:</span>
</span><span id="L-501"><a href="#L-501"><span class="linenos"> 501</span></a>                    <span class="n">arrival</span><span class="o">.</span><span class="n">pick_id</span> <span class="o">=</span> <span class="n">pick_dict</span><span class="p">[</span><span class="n">arrival</span><span class="o">.</span><span class="n">pick_id</span><span class="o">.</span><span class="n">id</span><span class="p">]</span><span class="o">.</span><span class="n">resource_id</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos"> 502</span></a>
</span><span id="L-503"><a href="#L-503"><span class="linenos"> 503</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">magnitudes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos"> 504</span></a>            <span class="n">preferred_magnitude_id</span> <span class="o">=</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">preferred_magnitude_id</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos"> 505</span></a>            <span class="k">for</span> <span class="n">magnitude</span> <span class="ow">in</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">magnitudes</span><span class="p">:</span>
</span><span id="L-506"><a href="#L-506"><span class="linenos"> 506</span></a>                <span class="n">uq_magnitude</span> <span class="o">=</span> <span class="n">Magnitude</span><span class="p">(</span><span class="n">obspy_obj</span><span class="o">=</span><span class="n">magnitude</span><span class="p">)</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos"> 507</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">magnitudes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">uq_magnitude</span><span class="p">)</span>
</span><span id="L-508"><a href="#L-508"><span class="linenos"> 508</span></a>                <span class="k">if</span> <span class="n">magnitude</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">==</span> <span class="n">preferred_magnitude_id</span><span class="p">:</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos"> 509</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">preferred_magnitude_id</span> <span class="o">=</span> <span class="n">uq_magnitude</span><span class="o">.</span><span class="n">resource_id</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos"> 510</span></a>
</span><span id="L-511"><a href="#L-511"><span class="linenos"> 511</span></a>    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos"> 512</span></a>        <span class="n">_set_attr_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="L-513"><a href="#L-513"><span class="linenos"> 513</span></a>
</span><span id="L-514"><a href="#L-514"><span class="linenos"> 514</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos"> 515</span></a>        <span class="k">return</span> <span class="s2">&quot;Event:</span><span class="se">\t</span><span class="si">%s</span><span class="se">\n\n</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos"> 516</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">short_str</span><span class="p">(),</span>
</span><span id="L-517"><a href="#L-517"><span class="linenos"> 517</span></a>            <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">super</span><span class="p">(</span><span class="n">Event</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">:]))</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos"> 518</span></a>
</span><span id="L-519"><a href="#L-519"><span class="linenos"> 519</span></a>    <span class="k">def</span> <span class="nf">short_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos"> 520</span></a>        <span class="n">out</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos"> 521</span></a>
</span><span id="L-522"><a href="#L-522"><span class="linenos"> 522</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">origins</span><span class="p">:</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos"> 523</span></a>            <span class="n">og</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">preferred_origin</span><span class="p">()</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">origins</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos"> 524</span></a>
</span><span id="L-525"><a href="#L-525"><span class="linenos"> 525</span></a>            <span class="k">if</span> <span class="n">og</span><span class="o">.</span><span class="n">x</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos"> 526</span></a>                <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-527"><a href="#L-527"><span class="linenos"> 527</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos"> 528</span></a>                <span class="n">x</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">x</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos"> 529</span></a>            <span class="k">if</span> <span class="n">og</span><span class="o">.</span><span class="n">y</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-530"><a href="#L-530"><span class="linenos"> 530</span></a>                <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos"> 531</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos"> 532</span></a>                <span class="n">y</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">y</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos"> 533</span></a>            <span class="k">if</span> <span class="n">og</span><span class="o">.</span><span class="n">z</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos"> 534</span></a>                <span class="n">z</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-535"><a href="#L-535"><span class="linenos"> 535</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos"> 536</span></a>                <span class="n">z</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">z</span>
</span><span id="L-537"><a href="#L-537"><span class="linenos"> 537</span></a>
</span><span id="L-538"><a href="#L-538"><span class="linenos"> 538</span></a>            <span class="n">out</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> | </span><span class="si">%0.2f</span><span class="s1">, </span><span class="si">%0.2f</span><span class="s1">, </span><span class="si">%0.2f</span><span class="s1"> | </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">og</span><span class="o">.</span><span class="n">time</span><span class="p">,</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos"> 539</span></a>                                                      <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span>
</span><span id="L-540"><a href="#L-540"><span class="linenos"> 540</span></a>                                                      <span class="n">og</span><span class="o">.</span><span class="n">evaluation_mode</span><span class="p">)</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos"> 541</span></a>
</span><span id="L-542"><a href="#L-542"><span class="linenos"> 542</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">magnitudes</span><span class="p">:</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos"> 543</span></a>            <span class="n">magnitude</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">preferred_magnitude</span><span class="p">()</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">magnitudes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="L-544"><a href="#L-544"><span class="linenos"> 544</span></a>            <span class="n">out</span> <span class="o">+=</span> <span class="s1">&#39; | </span><span class="si">%0.2f</span><span class="s1"> </span><span class="si">%-2s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">magnitude</span><span class="o">.</span><span class="n">mag</span><span class="p">,</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos"> 545</span></a>                                      <span class="n">magnitude</span><span class="o">.</span><span class="n">magnitude_type</span><span class="p">)</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos"> 546</span></a>
</span><span id="L-547"><a href="#L-547"><span class="linenos"> 547</span></a>        <span class="k">return</span> <span class="n">out</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos"> 548</span></a>
</span><span id="L-549"><a href="#L-549"><span class="linenos"> 549</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">picks</span> <span class="o">+=</span> <span class="n">picks</span>
</span><span id="L-550"><a href="#L-550"><span class="linenos"> 550</span></a>
</span><span id="L-551"><a href="#L-551"><span class="linenos"> 551</span></a>    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fileobj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos"> 552</span></a>        <span class="k">for</span> <span class="n">ori</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">origins</span><span class="p">:</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos"> 553</span></a>            <span class="n">arrivals</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-554"><a href="#L-554"><span class="linenos"> 554</span></a>            <span class="k">for</span> <span class="n">ar</span> <span class="ow">in</span> <span class="n">ori</span><span class="o">.</span><span class="n">arrivals</span><span class="p">:</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos"> 555</span></a>                <span class="k">if</span> <span class="s1">&#39;extra&#39;</span> <span class="ow">in</span> <span class="n">ar</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos"> 556</span></a>                    <span class="k">del</span> <span class="n">ar</span><span class="o">.</span><span class="n">extra</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos"> 557</span></a>
</span><span id="L-558"><a href="#L-558"><span class="linenos"> 558</span></a>        <span class="k">return</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fileobj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos"> 559</span></a>
</span><span id="L-560"><a href="#L-560"><span class="linenos"> 560</span></a>    <span class="k">def</span> <span class="nf">plot_focal_mechanism</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos"> 561</span></a>        <span class="k">pass</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos"> 562</span></a>
</span><span id="L-563"><a href="#L-563"><span class="linenos"> 563</span></a>    <span class="k">def</span> <span class="nf">append_origin_as_preferred_origin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_origin</span><span class="p">:</span> <span class="n">Origin</span><span class="p">):</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos"> 564</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">origins</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_origin</span><span class="p">)</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos"> 565</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">preferred_origin_id</span> <span class="o">=</span> <span class="n">new_origin</span><span class="o">.</span><span class="n">resource_id</span>
</span><span id="L-566"><a href="#L-566"><span class="linenos"> 566</span></a>
</span><span id="L-567"><a href="#L-567"><span class="linenos"> 567</span></a>
</span><span id="L-568"><a href="#L-568"><span class="linenos"> 568</span></a><span class="k">class</span> <span class="nc">UncertaintyPointCloud</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos"> 569</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locations</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">probabilities</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
</span><span id="L-570"><a href="#L-570"><span class="linenos"> 570</span></a>                 <span class="n">coordinate_system</span><span class="p">:</span> <span class="n">CoordinateSystem</span> <span class="o">=</span> <span class="n">CoordinateSystem</span><span class="o">.</span><span class="n">NED</span><span class="p">):</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos"> 571</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">locations</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos"> 572</span></a>            <span class="n">locations</span> <span class="o">=</span> <span class="n">locations</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos"> 573</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">probabilities</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
</span><span id="L-574"><a href="#L-574"><span class="linenos"> 574</span></a>            <span class="n">probabilities</span> <span class="o">=</span> <span class="n">probabilities</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos"> 575</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">locations</span> <span class="o">=</span> <span class="n">locations</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos"> 576</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">probabilities</span> <span class="o">=</span> <span class="n">probabilities</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos"> 577</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span> <span class="o">=</span> <span class="n">coordinate_system</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos"> 578</span></a>
</span><span id="L-579"><a href="#L-579"><span class="linenos"> 579</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos"> 580</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos"> 581</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos"> 582</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">probabilities</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">probabilities</span><span class="p">:</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos"> 583</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos"> 584</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">locations</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">locations</span><span class="p">:</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos"> 585</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-586"><a href="#L-586"><span class="linenos"> 586</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">coordinate_system</span><span class="p">:</span>
</span><span id="L-587"><a href="#L-587"><span class="linenos"> 587</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-588"><a href="#L-588"><span class="linenos"> 588</span></a>
</span><span id="L-589"><a href="#L-589"><span class="linenos"> 589</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-590"><a href="#L-590"><span class="linenos"> 590</span></a>
</span><span id="L-591"><a href="#L-591"><span class="linenos"> 591</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-592"><a href="#L-592"><span class="linenos"> 592</span></a>        <span class="k">return</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;UncertaintyPointCloud:</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="L-593"><a href="#L-593"><span class="linenos"> 593</span></a>                <span class="sa">f</span><span class="s2">&quot;number of points: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">locations</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="L-594"><a href="#L-594"><span class="linenos"> 594</span></a>                <span class="sa">f</span><span class="s2">&quot;location range:</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="L-595"><a href="#L-595"><span class="linenos"> 595</span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">x range: &quot;</span>
</span><span id="L-596"><a href="#L-596"><span class="linenos"> 596</span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">locations</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">locations</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="L-597"><a href="#L-597"><span class="linenos"> 597</span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">y range: &quot;</span>
</span><span id="L-598"><a href="#L-598"><span class="linenos"> 598</span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">locations</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">locations</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="L-599"><a href="#L-599"><span class="linenos"> 599</span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">z range: &quot;</span>
</span><span id="L-600"><a href="#L-600"><span class="linenos"> 600</span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">locations</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">locations</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="L-601"><a href="#L-601"><span class="linenos"> 601</span></a>                <span class="sa">f</span><span class="s2">&quot;&quot;</span>
</span><span id="L-602"><a href="#L-602"><span class="linenos"> 602</span></a>                <span class="sa">f</span><span class="s2">&quot;coordinate system: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="L-603"><a href="#L-603"><span class="linenos"> 603</span></a>
</span><span id="L-604"><a href="#L-604"><span class="linenos"> 604</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-605"><a href="#L-605"><span class="linenos"> 605</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
</span><span id="L-606"><a href="#L-606"><span class="linenos"> 606</span></a>
</span><span id="L-607"><a href="#L-607"><span class="linenos"> 607</span></a>    <span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-608"><a href="#L-608"><span class="linenos"> 608</span></a>        <span class="n">out_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-609"><a href="#L-609"><span class="linenos"> 609</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-610"><a href="#L-610"><span class="linenos"> 610</span></a>            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;coordinate_system&#39;</span><span class="p">:</span>
</span><span id="L-611"><a href="#L-611"><span class="linenos"> 611</span></a>                <span class="n">out_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span><span class="p">)</span>
</span><span id="L-612"><a href="#L-612"><span class="linenos"> 612</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-613"><a href="#L-613"><span class="linenos"> 613</span></a>                <span class="n">out_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="L-614"><a href="#L-614"><span class="linenos"> 614</span></a>
</span><span id="L-615"><a href="#L-615"><span class="linenos"> 615</span></a>        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">out_dict</span><span class="p">)</span>
</span><span id="L-616"><a href="#L-616"><span class="linenos"> 616</span></a>
</span><span id="L-617"><a href="#L-617"><span class="linenos"> 617</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-618"><a href="#L-618"><span class="linenos"> 618</span></a>    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">json_string</span><span class="p">):</span>
</span><span id="L-619"><a href="#L-619"><span class="linenos"> 619</span></a>        <span class="n">in_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_string</span><span class="p">)</span>
</span><span id="L-620"><a href="#L-620"><span class="linenos"> 620</span></a>        <span class="k">if</span> <span class="s1">&#39;coordinate_system&#39;</span> <span class="ow">in</span> <span class="n">in_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-621"><a href="#L-621"><span class="linenos"> 621</span></a>            <span class="n">in_dict</span><span class="p">[</span><span class="s1">&#39;coordinate_system&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">CoordinateSystem</span><span class="p">,</span>
</span><span id="L-622"><a href="#L-622"><span class="linenos"> 622</span></a>                <span class="n">in_dict</span><span class="p">[</span><span class="s1">&#39;coordinate_system&#39;</span><span class="p">])</span>
</span><span id="L-623"><a href="#L-623"><span class="linenos"> 623</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">in_dict</span><span class="p">)</span>
</span><span id="L-624"><a href="#L-624"><span class="linenos"> 624</span></a>
</span><span id="L-625"><a href="#L-625"><span class="linenos"> 625</span></a>
</span><span id="L-626"><a href="#L-626"><span class="linenos"> 626</span></a><span class="nd">@update_doc</span>
</span><span id="L-627"><a href="#L-627"><span class="linenos"> 627</span></a><span class="k">class</span> <span class="nc">Origin</span><span class="p">(</span><span class="n">obsevent</span><span class="o">.</span><span class="n">Origin</span><span class="p">):</span>
</span><span id="L-628"><a href="#L-628"><span class="linenos"> 628</span></a>    <span class="vm">__doc__</span> <span class="o">=</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">Origin</span><span class="o">.</span><span class="vm">__doc__</span>
</span><span id="L-629"><a href="#L-629"><span class="linenos"> 629</span></a>    <span class="c1"># original_doc = obsevent.Origin.__doc__.replace(&#39;obspy&#39;, &#39;uquake&#39;)</span>
</span><span id="L-630"><a href="#L-630"><span class="linenos"> 630</span></a>    <span class="c1"># original_doc = original_doc.replace(&#39;earth_model_id&#39;, &#39;velocity_model_id&#39;)</span>
</span><span id="L-631"><a href="#L-631"><span class="linenos"> 631</span></a>    <span class="c1">#</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos"> 632</span></a>    <span class="c1"># # Remove unwanted sections</span>
</span><span id="L-633"><a href="#L-633"><span class="linenos"> 633</span></a>    <span class="n">__remove_parameters__</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">,</span> <span class="s1">&#39;latitude_error&#39;</span><span class="p">,</span>
</span><span id="L-634"><a href="#L-634"><span class="linenos"> 634</span></a>                             <span class="s1">&#39;longitude&#39;</span><span class="p">,</span> <span class="s1">&#39;longitude_error&#39;</span><span class="p">,</span>
</span><span id="L-635"><a href="#L-635"><span class="linenos"> 635</span></a>                             <span class="s1">&#39;depth&#39;</span><span class="p">,</span> <span class="s1">&#39;depth_error&#39;</span><span class="p">,</span> <span class="s1">&#39;depth_type&#39;</span><span class="p">,</span> <span class="s1">&#39;elevation&#39;</span><span class="p">,</span>
</span><span id="L-636"><a href="#L-636"><span class="linenos"> 636</span></a>                             <span class="s1">&#39;epicenter_fixed&#39;</span><span class="p">]</span>
</span><span id="L-637"><a href="#L-637"><span class="linenos"> 637</span></a>    <span class="c1">#</span>
</span><span id="L-638"><a href="#L-638"><span class="linenos"> 638</span></a>    <span class="c1"># # Define the new &#39;coordinates&#39; parameter section</span>
</span><span id="L-639"><a href="#L-639"><span class="linenos"> 639</span></a>    <span class="n">__new_section__</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-640"><a href="#L-640"><span class="linenos"> 640</span></a>        <span class="s1">&#39;doc&#39;</span><span class="p">:</span> <span class="s2">&quot;&quot;&quot;:type coordinates: :class:`~uquake.core.coordinates.Coordinates`</span>
</span><span id="L-641"><a href="#L-641"><span class="linenos"> 641</span></a><span class="s2">    :param coordinates: Spatial coordinates of the event origin.</span>
</span><span id="L-642"><a href="#L-642"><span class="linenos"> 642</span></a><span class="s2">    &quot;&quot;&quot;</span><span class="p">,</span>
</span><span id="L-643"><a href="#L-643"><span class="linenos"> 643</span></a>        <span class="s1">&#39;previous_parameter&#39;</span><span class="p">:</span> <span class="s1">&#39;time_fixed&#39;</span><span class="p">}</span>
</span><span id="L-644"><a href="#L-644"><span class="linenos"> 644</span></a>
</span><span id="L-645"><a href="#L-645"><span class="linenos"> 645</span></a>    <span class="n">__example__</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-646"><a href="#L-646"><span class="linenos"> 646</span></a><span class="s2">    &gt;&gt;&gt; from uquake.core.event import Origin</span>
</span><span id="L-647"><a href="#L-647"><span class="linenos"> 647</span></a><span class="s2">    &gt;&gt;&gt; from uquake.core.coordinates import Coordinates, CoordinateSystem</span>
</span><span id="L-648"><a href="#L-648"><span class="linenos"> 648</span></a><span class="s2">    &gt;&gt;&gt; from uquake.core import UTCDateTime</span>
</span><span id="L-649"><a href="#L-649"><span class="linenos"> 649</span></a><span class="s2">    &gt;&gt;&gt; coords = Coordinates(10, 20, 30, coordinate_system=CoordinateSystem.ENU)</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos"> 650</span></a><span class="s2">    &gt;&gt;&gt; origin = Origin(time=UTCDateTime(2020, 1, 1, 10, 20, 30), coordinates=coords)</span>
</span><span id="L-651"><a href="#L-651"><span class="linenos"> 651</span></a><span class="s2">    &gt;&gt;&gt; print(origin)</span>
</span><span id="L-652"><a href="#L-652"><span class="linenos"> 652</span></a><span class="s2">    &quot;&quot;&quot;</span>
</span><span id="L-653"><a href="#L-653"><span class="linenos"> 653</span></a>
</span><span id="L-654"><a href="#L-654"><span class="linenos"> 654</span></a>    <span class="n">extra_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;rays&#39;</span><span class="p">,</span> <span class="s1">&#39;coordinates&#39;</span><span class="p">,</span> <span class="s1">&#39;uncertainty_point_cloud&#39;</span><span class="p">]</span>
</span><span id="L-655"><a href="#L-655"><span class="linenos"> 655</span></a>    <span class="n">extra_types</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;rays&#39;</span><span class="p">:</span> <span class="n">RayCollection</span><span class="p">,</span>
</span><span id="L-656"><a href="#L-656"><span class="linenos"> 656</span></a>                   <span class="s1">&#39;coordinates&#39;</span><span class="p">:</span> <span class="n">Coordinates</span><span class="p">,</span>
</span><span id="L-657"><a href="#L-657"><span class="linenos"> 657</span></a>                   <span class="s1">&#39;uncertainty_point_cloud&#39;</span><span class="p">:</span> <span class="n">UncertaintyPointCloud</span>
</span><span id="L-658"><a href="#L-658"><span class="linenos"> 658</span></a>                   <span class="p">}</span>
</span><span id="L-659"><a href="#L-659"><span class="linenos"> 659</span></a>
</span><span id="L-660"><a href="#L-660"><span class="linenos"> 660</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coordinates</span><span class="p">:</span> <span class="n">Coordinates</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-661"><a href="#L-661"><span class="linenos"> 661</span></a>                 <span class="n">rays</span><span class="p">:</span> <span class="n">RayCollection</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-662"><a href="#L-662"><span class="linenos"> 662</span></a>                 <span class="n">uncertainty_point_cloud</span><span class="p">:</span> <span class="n">UncertaintyPointCloud</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-663"><a href="#L-663"><span class="linenos"> 663</span></a>                 <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-664"><a href="#L-664"><span class="linenos"> 664</span></a>
</span><span id="L-665"><a href="#L-665"><span class="linenos"> 665</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-666"><a href="#L-666"><span class="linenos"> 666</span></a>
</span><span id="L-667"><a href="#L-667"><span class="linenos"> 667</span></a>        <span class="k">if</span> <span class="n">obspy_obj</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-668"><a href="#L-668"><span class="linenos"> 668</span></a>            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obspy_obj</span><span class="p">,</span> <span class="s1">&#39;extra&#39;</span><span class="p">):</span>
</span><span id="L-669"><a href="#L-669"><span class="linenos"> 669</span></a>                <span class="n">extra</span> <span class="o">=</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">extra</span>
</span><span id="L-670"><a href="#L-670"><span class="linenos"> 670</span></a>                <span class="n">obspy_obj</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-671"><a href="#L-671"><span class="linenos"> 671</span></a>                <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-672"><a href="#L-672"><span class="linenos"> 672</span></a>                <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_keys</span><span class="p">:</span>
</span><span id="L-673"><a href="#L-673"><span class="linenos"> 673</span></a>                    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">extra</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-674"><a href="#L-674"><span class="linenos"> 674</span></a>                        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extra_types</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="s1">&#39;from_json&#39;</span><span class="p">):</span>
</span><span id="L-675"><a href="#L-675"><span class="linenos"> 675</span></a>                            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_types</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span>
</span><span id="L-676"><a href="#L-676"><span class="linenos"> 676</span></a>                                <span class="n">extra</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
</span><span id="L-677"><a href="#L-677"><span class="linenos"> 677</span></a>                            <span class="p">)</span>
</span><span id="L-678"><a href="#L-678"><span class="linenos"> 678</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="L-679"><a href="#L-679"><span class="linenos"> 679</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-680"><a href="#L-680"><span class="linenos"> 680</span></a>                <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-681"><a href="#L-681"><span class="linenos"> 681</span></a>
</span><span id="L-682"><a href="#L-682"><span class="linenos"> 682</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">arrivals</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-683"><a href="#L-683"><span class="linenos"> 683</span></a>            <span class="k">for</span> <span class="n">arrival</span> <span class="ow">in</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">arrivals</span><span class="p">:</span>
</span><span id="L-684"><a href="#L-684"><span class="linenos"> 684</span></a>                <span class="n">uq_arrival</span> <span class="o">=</span> <span class="n">Arrival</span><span class="p">(</span><span class="n">obspy_obj</span><span class="o">=</span><span class="n">arrival</span><span class="p">)</span>
</span><span id="L-685"><a href="#L-685"><span class="linenos"> 685</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">arrivals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">uq_arrival</span><span class="p">)</span>
</span><span id="L-686"><a href="#L-686"><span class="linenos"> 686</span></a>
</span><span id="L-687"><a href="#L-687"><span class="linenos"> 687</span></a>            <span class="n">obspy_obj</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-688"><a href="#L-688"><span class="linenos"> 688</span></a>
</span><span id="L-689"><a href="#L-689"><span class="linenos"> 689</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-690"><a href="#L-690"><span class="linenos"> 690</span></a>            <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-691"><a href="#L-691"><span class="linenos"> 691</span></a>
</span><span id="L-692"><a href="#L-692"><span class="linenos"> 692</span></a>            <span class="k">if</span> <span class="s1">&#39;velocity_model_id&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-693"><a href="#L-693"><span class="linenos"> 693</span></a>                <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;earth_model_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;velocity_model_id&#39;</span><span class="p">)</span>
</span><span id="L-694"><a href="#L-694"><span class="linenos"> 694</span></a>            <span class="k">if</span> <span class="n">coordinates</span><span class="p">:</span>
</span><span id="L-695"><a href="#L-695"><span class="linenos"> 695</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span> <span class="o">=</span> <span class="n">coordinates</span>
</span><span id="L-696"><a href="#L-696"><span class="linenos"> 696</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-697"><a href="#L-697"><span class="linenos"> 697</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span> <span class="o">=</span> <span class="n">Coordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="L-698"><a href="#L-698"><span class="linenos"> 698</span></a>                                               <span class="n">coordinate_system</span><span class="o">=</span><span class="n">CoordinateSystem</span><span class="o">.</span><span class="n">ENU</span><span class="p">)</span>
</span><span id="L-699"><a href="#L-699"><span class="linenos"> 699</span></a>            <span class="k">if</span> <span class="n">rays</span><span class="p">:</span>
</span><span id="L-700"><a href="#L-700"><span class="linenos"> 700</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">rays</span> <span class="o">=</span> <span class="n">rays</span>
</span><span id="L-701"><a href="#L-701"><span class="linenos"> 701</span></a>            <span class="k">if</span> <span class="n">uncertainty_point_cloud</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-702"><a href="#L-702"><span class="linenos"> 702</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">uncertainty_point_cloud</span> <span class="o">=</span> <span class="n">uncertainty_point_cloud</span>
</span><span id="L-703"><a href="#L-703"><span class="linenos"> 703</span></a>
</span><span id="L-704"><a href="#L-704"><span class="linenos"> 704</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-705"><a href="#L-705"><span class="linenos"> 705</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
</span><span id="L-706"><a href="#L-706"><span class="linenos"> 706</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="L-707"><a href="#L-707"><span class="linenos"> 707</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-708"><a href="#L-708"><span class="linenos"> 708</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arrivals</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">arrivals</span><span class="p">):</span>
</span><span id="L-709"><a href="#L-709"><span class="linenos"> 709</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-710"><a href="#L-710"><span class="linenos"> 710</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">arrivals</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">arrivals</span><span class="p">:</span>
</span><span id="L-711"><a href="#L-711"><span class="linenos"> 711</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-712"><a href="#L-712"><span class="linenos"> 712</span></a>
</span><span id="L-713"><a href="#L-713"><span class="linenos"> 713</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_keys</span><span class="p">:</span>
</span><span id="L-714"><a href="#L-714"><span class="linenos"> 714</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">extra</span><span class="p">[</span><span class="n">key</span><span class="p">]:</span>
</span><span id="L-715"><a href="#L-715"><span class="linenos"> 715</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-716"><a href="#L-716"><span class="linenos"> 716</span></a>
</span><span id="L-717"><a href="#L-717"><span class="linenos"> 717</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-718"><a href="#L-718"><span class="linenos"> 718</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-719"><a href="#L-719"><span class="linenos"> 719</span></a>
</span><span id="L-720"><a href="#L-720"><span class="linenos"> 720</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-721"><a href="#L-721"><span class="linenos"> 721</span></a>
</span><span id="L-722"><a href="#L-722"><span class="linenos"> 722</span></a>    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="L-723"><a href="#L-723"><span class="linenos"> 723</span></a>        <span class="n">_set_attr_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="L-724"><a href="#L-724"><span class="linenos"> 724</span></a>
</span><span id="L-725"><a href="#L-725"><span class="linenos"> 725</span></a>    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span><span id="L-726"><a href="#L-726"><span class="linenos"> 726</span></a>        <span class="k">if</span> <span class="n">item</span> <span class="o">==</span> <span class="s1">&#39;coordinates&#39;</span><span class="p">:</span>
</span><span id="L-727"><a href="#L-727"><span class="linenos"> 727</span></a>            <span class="k">return</span> <span class="n">Coordinates</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">][</span><span class="n">item</span><span class="p">])</span>
</span><span id="L-728"><a href="#L-728"><span class="linenos"> 728</span></a>        <span class="k">elif</span> <span class="n">item</span> <span class="o">==</span> <span class="s1">&#39;rays&#39;</span><span class="p">:</span>
</span><span id="L-729"><a href="#L-729"><span class="linenos"> 729</span></a>            <span class="k">return</span> <span class="n">RayCollection</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">][</span><span class="n">item</span><span class="p">])</span>
</span><span id="L-730"><a href="#L-730"><span class="linenos"> 730</span></a>        <span class="k">elif</span> <span class="n">item</span> <span class="o">==</span> <span class="s1">&#39;uncertainty_point_cloud&#39;</span><span class="p">:</span>
</span><span id="L-731"><a href="#L-731"><span class="linenos"> 731</span></a>            <span class="k">return</span> <span class="n">UncertaintyPointCloud</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">][</span><span class="n">item</span><span class="p">])</span>
</span><span id="L-732"><a href="#L-732"><span class="linenos"> 732</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-733"><a href="#L-733"><span class="linenos"> 733</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">item</span><span class="p">]</span>
</span><span id="L-734"><a href="#L-734"><span class="linenos"> 734</span></a>
</span><span id="L-735"><a href="#L-735"><span class="linenos"> 735</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-736"><a href="#L-736"><span class="linenos"> 736</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-737"><a href="#L-737"><span class="linenos"> 737</span></a><span class="s2">          resource_id: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="si">}</span>
</span><span id="L-738"><a href="#L-738"><span class="linenos"> 738</span></a><span class="s2">            time(UTC): </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">time</span><span class="si">}</span>
</span><span id="L-739"><a href="#L-739"><span class="linenos"> 739</span></a><span class="s2">                    x: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="si">}</span>
</span><span id="L-740"><a href="#L-740"><span class="linenos"> 740</span></a><span class="s2">                    y: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="si">}</span>
</span><span id="L-741"><a href="#L-741"><span class="linenos"> 741</span></a><span class="s2">                    z: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="si">}</span>
</span><span id="L-742"><a href="#L-742"><span class="linenos"> 742</span></a><span class="s2">          uncertainty: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">location_uncertainty</span><span class="si">}</span><span class="s2"> (m)</span>
</span><span id="L-743"><a href="#L-743"><span class="linenos"> 743</span></a><span class="s2">      evaluation_mode: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluation_mode</span><span class="si">}</span>
</span><span id="L-744"><a href="#L-744"><span class="linenos"> 744</span></a><span class="s2">    evaluation_status: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluation_status</span><span class="si">}</span>
</span><span id="L-745"><a href="#L-745"><span class="linenos"> 745</span></a><span class="s2">                   ---------</span>
</span><span id="L-746"><a href="#L-746"><span class="linenos"> 746</span></a><span class="s2">             arrivals: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arrivals</span><span class="p">)</span><span class="si">:</span><span class="s2">d</span><span class="si">}</span>
</span><span id="L-747"><a href="#L-747"><span class="linenos"> 747</span></a><span class="s2">           &quot;&quot;&quot;</span>
</span><span id="L-748"><a href="#L-748"><span class="linenos"> 748</span></a>        <span class="k">return</span> <span class="n">string</span>
</span><span id="L-749"><a href="#L-749"><span class="linenos"> 749</span></a>
</span><span id="L-750"><a href="#L-750"><span class="linenos"> 750</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-751"><a href="#L-751"><span class="linenos"> 751</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
</span><span id="L-752"><a href="#L-752"><span class="linenos"> 752</span></a>
</span><span id="L-753"><a href="#L-753"><span class="linenos"> 753</span></a>    <span class="c1"># @staticmethod</span>
</span><span id="L-754"><a href="#L-754"><span class="linenos"> 754</span></a>    <span class="c1"># def __encode_rays__(rays: List):</span>
</span><span id="L-755"><a href="#L-755"><span class="linenos"> 755</span></a>    <span class="c1">#     encoded_rays = []</span>
</span><span id="L-756"><a href="#L-756"><span class="linenos"> 756</span></a>    <span class="c1">#     for ray in rays:</span>
</span><span id="L-757"><a href="#L-757"><span class="linenos"> 757</span></a>    <span class="c1">#         encoded_rays.append(ray.to_json())</span>
</span><span id="L-758"><a href="#L-758"><span class="linenos"> 758</span></a>    <span class="c1">#     return encoded_rays</span>
</span><span id="L-759"><a href="#L-759"><span class="linenos"> 759</span></a>    <span class="c1">#</span>
</span><span id="L-760"><a href="#L-760"><span class="linenos"> 760</span></a>    <span class="c1"># def __decode_rays__(self):</span>
</span><span id="L-761"><a href="#L-761"><span class="linenos"> 761</span></a>    <span class="c1">#     decoded_rays = []</span>
</span><span id="L-762"><a href="#L-762"><span class="linenos"> 762</span></a>    <span class="c1">#     if self.__encoded_rays__ is None:</span>
</span><span id="L-763"><a href="#L-763"><span class="linenos"> 763</span></a>    <span class="c1">#         return</span>
</span><span id="L-764"><a href="#L-764"><span class="linenos"> 764</span></a>    <span class="c1">#     for encoded_ray in self.__encoded_rays__:</span>
</span><span id="L-765"><a href="#L-765"><span class="linenos"> 765</span></a>    <span class="c1">#         decoded_rays.append(Ray.from_json(encoded_ray))</span>
</span><span id="L-766"><a href="#L-766"><span class="linenos"> 766</span></a>    <span class="c1">#</span>
</span><span id="L-767"><a href="#L-767"><span class="linenos"> 767</span></a>    <span class="c1">#     return decoded_rays</span>
</span><span id="L-768"><a href="#L-768"><span class="linenos"> 768</span></a>    <span class="c1">#</span>
</span><span id="L-769"><a href="#L-769"><span class="linenos"> 769</span></a>    <span class="c1"># @staticmethod</span>
</span><span id="L-770"><a href="#L-770"><span class="linenos"> 770</span></a>    <span class="c1"># def __encode_uncertainty_point_cloud__(</span>
</span><span id="L-771"><a href="#L-771"><span class="linenos"> 771</span></a>    <span class="c1">#         uncertainty_point_cloud: UncertaintyPointCloud):</span>
</span><span id="L-772"><a href="#L-772"><span class="linenos"> 772</span></a>    <span class="c1">#     return uncertainty_point_cloud.to_json()</span>
</span><span id="L-773"><a href="#L-773"><span class="linenos"> 773</span></a>    <span class="c1">#</span>
</span><span id="L-774"><a href="#L-774"><span class="linenos"> 774</span></a>    <span class="c1"># def __decode_uncertainty_point_cloud__(self):</span>
</span><span id="L-775"><a href="#L-775"><span class="linenos"> 775</span></a>    <span class="c1">#     return UncertaintyPointCloud.from_json(self.__encoded_uncertainty_point_cloud__)</span>
</span><span id="L-776"><a href="#L-776"><span class="linenos"> 776</span></a>    <span class="c1">#</span>
</span><span id="L-777"><a href="#L-777"><span class="linenos"> 777</span></a>    <span class="c1"># @staticmethod</span>
</span><span id="L-778"><a href="#L-778"><span class="linenos"> 778</span></a>    <span class="c1"># def __encode_coordinates__(value):</span>
</span><span id="L-779"><a href="#L-779"><span class="linenos"> 779</span></a>    <span class="c1">#     if not isinstance(value, Coordinates):</span>
</span><span id="L-780"><a href="#L-780"><span class="linenos"> 780</span></a>    <span class="c1">#         raise TypeError(f&#39;the value provided must be of instance &#39;</span>
</span><span id="L-781"><a href="#L-781"><span class="linenos"> 781</span></a>    <span class="c1">#                         f&#39;{type(Coordinates)}&#39;)</span>
</span><span id="L-782"><a href="#L-782"><span class="linenos"> 782</span></a>    <span class="c1">#</span>
</span><span id="L-783"><a href="#L-783"><span class="linenos"> 783</span></a>    <span class="c1">#     return value.to_json()</span>
</span><span id="L-784"><a href="#L-784"><span class="linenos"> 784</span></a>    <span class="c1">#</span>
</span><span id="L-785"><a href="#L-785"><span class="linenos"> 785</span></a>    <span class="c1"># def __decode_coordinates__(self):</span>
</span><span id="L-786"><a href="#L-786"><span class="linenos"> 786</span></a>    <span class="c1">#     if self.__cartesian_coordinates__ is None:</span>
</span><span id="L-787"><a href="#L-787"><span class="linenos"> 787</span></a>    <span class="c1">#         return</span>
</span><span id="L-788"><a href="#L-788"><span class="linenos"> 788</span></a>    <span class="c1">#     else:</span>
</span><span id="L-789"><a href="#L-789"><span class="linenos"> 789</span></a>    <span class="c1">#         return Coordinates.from_json(self.__cartesian_coordinates__)</span>
</span><span id="L-790"><a href="#L-790"><span class="linenos"> 790</span></a>
</span><span id="L-791"><a href="#L-791"><span class="linenos"> 791</span></a>    <span class="k">def</span> <span class="nf">get_arrival_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">phase</span><span class="p">,</span> <span class="n">station_code</span><span class="p">):</span>
</span><span id="L-792"><a href="#L-792"><span class="linenos"> 792</span></a>        <span class="n">arrival_id</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-793"><a href="#L-793"><span class="linenos"> 793</span></a>        <span class="k">for</span> <span class="n">arrival</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">arrivals</span><span class="p">:</span>
</span><span id="L-794"><a href="#L-794"><span class="linenos"> 794</span></a>            <span class="k">if</span> <span class="p">(</span><span class="n">arrival</span><span class="o">.</span><span class="n">phase</span> <span class="o">==</span> <span class="n">phase</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">arrival</span><span class="o">.</span><span class="n">get_sta</span><span class="p">()</span> <span class="o">==</span>
</span><span id="L-795"><a href="#L-795"><span class="linenos"> 795</span></a>                                             <span class="n">station_code</span><span class="p">):</span>
</span><span id="L-796"><a href="#L-796"><span class="linenos"> 796</span></a>                <span class="n">arrival_id</span> <span class="o">=</span> <span class="n">arrival</span><span class="o">.</span><span class="n">resource_id</span>
</span><span id="L-797"><a href="#L-797"><span class="linenos"> 797</span></a>
</span><span id="L-798"><a href="#L-798"><span class="linenos"> 798</span></a>        <span class="k">return</span> <span class="n">arrival_id</span>
</span><span id="L-799"><a href="#L-799"><span class="linenos"> 799</span></a>
</span><span id="L-800"><a href="#L-800"><span class="linenos"> 800</span></a>    <span class="k">def</span> <span class="nf">append_ray</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span><span id="L-801"><a href="#L-801"><span class="linenos"> 801</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rays</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-802"><a href="#L-802"><span class="linenos"> 802</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rays</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span><span class="p">]</span>
</span><span id="L-803"><a href="#L-803"><span class="linenos"> 803</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-804"><a href="#L-804"><span class="linenos"> 804</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rays</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rays</span> <span class="o">+</span> <span class="p">[</span><span class="n">item</span><span class="p">]</span>
</span><span id="L-805"><a href="#L-805"><span class="linenos"> 805</span></a>
</span><span id="L-806"><a href="#L-806"><span class="linenos"> 806</span></a>    <span class="nd">@property</span>
</span><span id="L-807"><a href="#L-807"><span class="linenos"> 807</span></a>    <span class="k">def</span> <span class="nf">rms_residual</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-808"><a href="#L-808"><span class="linenos"> 808</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arrivals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-809"><a href="#L-809"><span class="linenos"> 809</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-810"><a href="#L-810"><span class="linenos"> 810</span></a>        <span class="n">residuals</span> <span class="o">=</span> <span class="p">[</span><span class="n">arrival</span><span class="o">.</span><span class="n">time_residual</span> <span class="o">**</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">arrival</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">arrivals</span><span class="p">]</span>
</span><span id="L-811"><a href="#L-811"><span class="linenos"> 811</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">residuals</span><span class="p">))</span>
</span><span id="L-812"><a href="#L-812"><span class="linenos"> 812</span></a>
</span><span id="L-813"><a href="#L-813"><span class="linenos"> 813</span></a>    <span class="nd">@property</span>
</span><span id="L-814"><a href="#L-814"><span class="linenos"> 814</span></a>    <span class="k">def</span> <span class="nf">loc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-815"><a href="#L-815"><span class="linenos"> 815</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">])</span>
</span><span id="L-816"><a href="#L-816"><span class="linenos"> 816</span></a>
</span><span id="L-817"><a href="#L-817"><span class="linenos"> 817</span></a>    <span class="nd">@property</span>
</span><span id="L-818"><a href="#L-818"><span class="linenos"> 818</span></a>    <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-819"><a href="#L-819"><span class="linenos"> 819</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">x</span>
</span><span id="L-820"><a href="#L-820"><span class="linenos"> 820</span></a>
</span><span id="L-821"><a href="#L-821"><span class="linenos"> 821</span></a>    <span class="nd">@property</span>
</span><span id="L-822"><a href="#L-822"><span class="linenos"> 822</span></a>    <span class="k">def</span> <span class="nf">y</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-823"><a href="#L-823"><span class="linenos"> 823</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">y</span>
</span><span id="L-824"><a href="#L-824"><span class="linenos"> 824</span></a>
</span><span id="L-825"><a href="#L-825"><span class="linenos"> 825</span></a>    <span class="nd">@property</span>
</span><span id="L-826"><a href="#L-826"><span class="linenos"> 826</span></a>    <span class="k">def</span> <span class="nf">z</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-827"><a href="#L-827"><span class="linenos"> 827</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">z</span>
</span><span id="L-828"><a href="#L-828"><span class="linenos"> 828</span></a>
</span><span id="L-829"><a href="#L-829"><span class="linenos"> 829</span></a>    <span class="nd">@property</span>
</span><span id="L-830"><a href="#L-830"><span class="linenos"> 830</span></a>    <span class="k">def</span> <span class="nf">easting</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-831"><a href="#L-831"><span class="linenos"> 831</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">easting</span>
</span><span id="L-832"><a href="#L-832"><span class="linenos"> 832</span></a>
</span><span id="L-833"><a href="#L-833"><span class="linenos"> 833</span></a>    <span class="nd">@property</span>
</span><span id="L-834"><a href="#L-834"><span class="linenos"> 834</span></a>    <span class="k">def</span> <span class="nf">northing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-835"><a href="#L-835"><span class="linenos"> 835</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">northing</span>
</span><span id="L-836"><a href="#L-836"><span class="linenos"> 836</span></a>
</span><span id="L-837"><a href="#L-837"><span class="linenos"> 837</span></a>    <span class="nd">@property</span>
</span><span id="L-838"><a href="#L-838"><span class="linenos"> 838</span></a>    <span class="k">def</span> <span class="nf">down</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-839"><a href="#L-839"><span class="linenos"> 839</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">down</span>
</span><span id="L-840"><a href="#L-840"><span class="linenos"> 840</span></a>
</span><span id="L-841"><a href="#L-841"><span class="linenos"> 841</span></a>    <span class="nd">@property</span>
</span><span id="L-842"><a href="#L-842"><span class="linenos"> 842</span></a>    <span class="k">def</span> <span class="nf">depth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-843"><a href="#L-843"><span class="linenos"> 843</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">down</span>
</span><span id="L-844"><a href="#L-844"><span class="linenos"> 844</span></a>
</span><span id="L-845"><a href="#L-845"><span class="linenos"> 845</span></a>    <span class="nd">@property</span>
</span><span id="L-846"><a href="#L-846"><span class="linenos"> 846</span></a>    <span class="k">def</span> <span class="nf">up</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-847"><a href="#L-847"><span class="linenos"> 847</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">up</span>
</span><span id="L-848"><a href="#L-848"><span class="linenos"> 848</span></a>
</span><span id="L-849"><a href="#L-849"><span class="linenos"> 849</span></a>    <span class="nd">@property</span>
</span><span id="L-850"><a href="#L-850"><span class="linenos"> 850</span></a>    <span class="k">def</span> <span class="nf">elevation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-851"><a href="#L-851"><span class="linenos"> 851</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">up</span>
</span><span id="L-852"><a href="#L-852"><span class="linenos"> 852</span></a>
</span><span id="L-853"><a href="#L-853"><span class="linenos"> 853</span></a>    <span class="nd">@property</span>
</span><span id="L-854"><a href="#L-854"><span class="linenos"> 854</span></a>    <span class="k">def</span> <span class="nf">coordinate_system</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-855"><a href="#L-855"><span class="linenos"> 855</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">coordinate_system</span>
</span><span id="L-856"><a href="#L-856"><span class="linenos"> 856</span></a>
</span><span id="L-857"><a href="#L-857"><span class="linenos"> 857</span></a>    <span class="nd">@property</span>
</span><span id="L-858"><a href="#L-858"><span class="linenos"> 858</span></a>    <span class="k">def</span> <span class="nf">location_uncertainty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-859"><a href="#L-859"><span class="linenos"> 859</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">origin_uncertainty</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-860"><a href="#L-860"><span class="linenos"> 860</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-861"><a href="#L-861"><span class="linenos"> 861</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-862"><a href="#L-862"><span class="linenos"> 862</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">origin_uncertainty</span><span class="o">.</span><span class="n">confidence_ellipsoid</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-863"><a href="#L-863"><span class="linenos"> 863</span></a>                <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-864"><a href="#L-864"><span class="linenos"> 864</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">origin_uncertainty</span><span class="o">.</span><span class="n">confidence_ellipsoid</span> \
</span><span id="L-865"><a href="#L-865"><span class="linenos"> 865</span></a>                <span class="o">.</span><span class="n">semi_major_axis_length</span>
</span><span id="L-866"><a href="#L-866"><span class="linenos"> 866</span></a>
</span><span id="L-867"><a href="#L-867"><span class="linenos"> 867</span></a>    <span class="k">def</span> <span class="nf">get_origin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-868"><a href="#L-868"><span class="linenos"> 868</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">preferred_origin_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-869"><a href="#L-869"><span class="linenos"> 869</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">preferred_origin_id</span><span class="o">.</span><span class="n">get_referred_object</span><span class="p">()</span>
</span><span id="L-870"><a href="#L-870"><span class="linenos"> 870</span></a>
</span><span id="L-871"><a href="#L-871"><span class="linenos"> 871</span></a>    <span class="k">def</span> <span class="nf">get_all_magnitudes_for_origin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cat</span><span class="p">):</span>
</span><span id="L-872"><a href="#L-872"><span class="linenos"> 872</span></a>        <span class="n">magnitudes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-873"><a href="#L-873"><span class="linenos"> 873</span></a>
</span><span id="L-874"><a href="#L-874"><span class="linenos"> 874</span></a>        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">cat</span><span class="p">:</span>
</span><span id="L-875"><a href="#L-875"><span class="linenos"> 875</span></a>            <span class="k">for</span> <span class="n">mag</span> <span class="ow">in</span> <span class="n">event</span><span class="o">.</span><span class="n">magnitudes</span><span class="p">:</span>
</span><span id="L-876"><a href="#L-876"><span class="linenos"> 876</span></a>                <span class="k">if</span> <span class="n">mag</span><span class="o">.</span><span class="n">origin_id</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
</span><span id="L-877"><a href="#L-877"><span class="linenos"> 877</span></a>                    <span class="n">magnitudes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mag</span><span class="p">)</span>
</span><span id="L-878"><a href="#L-878"><span class="linenos"> 878</span></a>
</span><span id="L-879"><a href="#L-879"><span class="linenos"> 879</span></a>        <span class="k">return</span> <span class="n">magnitudes</span>
</span><span id="L-880"><a href="#L-880"><span class="linenos"> 880</span></a>
</span><span id="L-881"><a href="#L-881"><span class="linenos"> 881</span></a>    <span class="k">def</span> <span class="nf">get_incidence_baz_angles</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instrument_code</span><span class="p">,</span> <span class="n">phase</span><span class="p">):</span>
</span><span id="L-882"><a href="#L-882"><span class="linenos"> 882</span></a>        <span class="n">baz</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-883"><a href="#L-883"><span class="linenos"> 883</span></a>        <span class="n">inc</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-884"><a href="#L-884"><span class="linenos"> 884</span></a>        <span class="k">for</span> <span class="n">ray</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rays</span><span class="p">:</span>
</span><span id="L-885"><a href="#L-885"><span class="linenos"> 885</span></a>            <span class="k">if</span> <span class="p">(</span><span class="n">ray</span><span class="o">.</span><span class="n">instrument_code</span> <span class="o">==</span> <span class="n">instrument_code</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">ray</span><span class="o">.</span><span class="n">phase</span> <span class="o">==</span> <span class="n">phase</span><span class="p">):</span>
</span><span id="L-886"><a href="#L-886"><span class="linenos"> 886</span></a>                <span class="n">baz</span> <span class="o">=</span> <span class="n">ray</span><span class="o">.</span><span class="n">back_azimuth</span>
</span><span id="L-887"><a href="#L-887"><span class="linenos"> 887</span></a>                <span class="n">inc</span> <span class="o">=</span> <span class="n">ray</span><span class="o">.</span><span class="n">incidence_angle</span>
</span><span id="L-888"><a href="#L-888"><span class="linenos"> 888</span></a>                <span class="k">break</span>
</span><span id="L-889"><a href="#L-889"><span class="linenos"> 889</span></a>        <span class="k">return</span> <span class="n">baz</span><span class="p">,</span> <span class="n">inc</span>
</span><span id="L-890"><a href="#L-890"><span class="linenos"> 890</span></a>
</span><span id="L-891"><a href="#L-891"><span class="linenos"> 891</span></a>    <span class="k">def</span> <span class="nf">get_ray_station_phase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instrument_code</span><span class="p">,</span> <span class="n">phase</span><span class="p">):</span>
</span><span id="L-892"><a href="#L-892"><span class="linenos"> 892</span></a>        <span class="n">out_ray</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-893"><a href="#L-893"><span class="linenos"> 893</span></a>        <span class="k">for</span> <span class="n">ray</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rays</span><span class="p">:</span>
</span><span id="L-894"><a href="#L-894"><span class="linenos"> 894</span></a>            <span class="k">if</span> <span class="p">(</span><span class="n">ray</span><span class="o">.</span><span class="n">instrument_code</span> <span class="o">==</span> <span class="n">instrument_code</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">ray</span><span class="o">.</span><span class="n">phase</span> <span class="o">==</span> <span class="n">phase</span><span class="p">):</span>
</span><span id="L-895"><a href="#L-895"><span class="linenos"> 895</span></a>                <span class="n">out_ray</span> <span class="o">=</span> <span class="n">ray</span>
</span><span id="L-896"><a href="#L-896"><span class="linenos"> 896</span></a>                <span class="k">break</span>
</span><span id="L-897"><a href="#L-897"><span class="linenos"> 897</span></a>        <span class="k">return</span> <span class="n">out_ray</span>
</span><span id="L-898"><a href="#L-898"><span class="linenos"> 898</span></a>
</span><span id="L-899"><a href="#L-899"><span class="linenos"> 899</span></a>    <span class="k">def</span> <span class="nf">distance_station</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instrument_code</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="s1">&#39;P&#39;</span><span class="p">):</span>
</span><span id="L-900"><a href="#L-900"><span class="linenos"> 900</span></a>        <span class="n">ray</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ray_station_phase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instrument_code</span><span class="p">,</span> <span class="n">phase</span><span class="p">)</span>
</span><span id="L-901"><a href="#L-901"><span class="linenos"> 901</span></a>        <span class="k">if</span> <span class="n">ray</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-902"><a href="#L-902"><span class="linenos"> 902</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-903"><a href="#L-903"><span class="linenos"> 903</span></a>
</span><span id="L-904"><a href="#L-904"><span class="linenos"> 904</span></a>        <span class="k">return</span> <span class="n">ray</span><span class="o">.</span><span class="n">length</span>
</span><span id="L-905"><a href="#L-905"><span class="linenos"> 905</span></a>
</span><span id="L-906"><a href="#L-906"><span class="linenos"> 906</span></a>
</span><span id="L-907"><a href="#L-907"><span class="linenos"> 907</span></a><span class="nd">@update_doc</span>
</span><span id="L-908"><a href="#L-908"><span class="linenos"> 908</span></a><span class="k">class</span> <span class="nc">Magnitude</span><span class="p">(</span><span class="n">obsevent</span><span class="o">.</span><span class="n">Magnitude</span><span class="p">):</span>
</span><span id="L-909"><a href="#L-909"><span class="linenos"> 909</span></a>    <span class="vm">__doc__</span> <span class="o">=</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">Magnitude</span><span class="o">.</span><span class="vm">__doc__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;obspy&#39;</span><span class="p">,</span> <span class="s1">&#39;uquake&#39;</span><span class="p">)</span>
</span><span id="L-910"><a href="#L-910"><span class="linenos"> 910</span></a>
</span><span id="L-911"><a href="#L-911"><span class="linenos"> 911</span></a>    <span class="n">extra_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;corner_frequency&#39;</span><span class="p">,</span>
</span><span id="L-912"><a href="#L-912"><span class="linenos"> 912</span></a>                  <span class="s1">&#39;corner_frequency_p&#39;</span><span class="p">,</span> <span class="s1">&#39;corner_frequency_s&#39;</span><span class="p">,</span>
</span><span id="L-913"><a href="#L-913"><span class="linenos"> 913</span></a>                  <span class="s1">&#39;corner_frequency_error&#39;</span><span class="p">,</span> <span class="s1">&#39;corner_frequency_p_error&#39;</span><span class="p">,</span>
</span><span id="L-914"><a href="#L-914"><span class="linenos"> 914</span></a>                  <span class="s1">&#39;corner_frequency_s_error&#39;</span><span class="p">,</span>
</span><span id="L-915"><a href="#L-915"><span class="linenos"> 915</span></a>                  <span class="s1">&#39;energy_p&#39;</span><span class="p">,</span> <span class="s1">&#39;energy_s&#39;</span><span class="p">,</span> <span class="s1">&#39;energy_p_error&#39;</span><span class="p">,</span> <span class="s1">&#39;energy_s_error&#39;</span><span class="p">]</span>
</span><span id="L-916"><a href="#L-916"><span class="linenos"> 916</span></a>
</span><span id="L-917"><a href="#L-917"><span class="linenos"> 917</span></a>    <span class="n">extra_types</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;corner_frequency&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
</span><span id="L-918"><a href="#L-918"><span class="linenos"> 918</span></a>                   <span class="s1">&#39;corner_frequency_p&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
</span><span id="L-919"><a href="#L-919"><span class="linenos"> 919</span></a>                   <span class="s1">&#39;corner_frequency_s&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
</span><span id="L-920"><a href="#L-920"><span class="linenos"> 920</span></a>                   <span class="s1">&#39;corner_frequency_error&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
</span><span id="L-921"><a href="#L-921"><span class="linenos"> 921</span></a>                   <span class="s1">&#39;corner_frequency_p_error&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
</span><span id="L-922"><a href="#L-922"><span class="linenos"> 922</span></a>                   <span class="s1">&#39;corner_frequency_s_error&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
</span><span id="L-923"><a href="#L-923"><span class="linenos"> 923</span></a>                   <span class="s1">&#39;energy_p&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
</span><span id="L-924"><a href="#L-924"><span class="linenos"> 924</span></a>                   <span class="s1">&#39;energy_s&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
</span><span id="L-925"><a href="#L-925"><span class="linenos"> 925</span></a>                   <span class="s1">&#39;energy_p_error&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
</span><span id="L-926"><a href="#L-926"><span class="linenos"> 926</span></a>                   <span class="s1">&#39;energy_s_error&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">}</span>
</span><span id="L-927"><a href="#L-927"><span class="linenos"> 927</span></a>
</span><span id="L-928"><a href="#L-928"><span class="linenos"> 928</span></a>    <span class="n">__new_section__</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-929"><a href="#L-929"><span class="linenos"> 929</span></a>        <span class="s1">&#39;doc&#39;</span><span class="p">:</span> <span class="s2">&quot;&quot;&quot;:type corner_frequency: float</span>
</span><span id="L-930"><a href="#L-930"><span class="linenos"> 930</span></a><span class="s2">    :param seismic_moment: the seismic moment</span>
</span><span id="L-931"><a href="#L-931"><span class="linenos"> 931</span></a><span class="s2">    :type seismic_moment: float</span>
</span><span id="L-932"><a href="#L-932"><span class="linenos"> 932</span></a><span class="s2">    :param corner_frequency: The corner frequency in Hz.</span>
</span><span id="L-933"><a href="#L-933"><span class="linenos"> 933</span></a><span class="s2">    :type corner_frequency_p: float</span>
</span><span id="L-934"><a href="#L-934"><span class="linenos"> 934</span></a><span class="s2">    :param corner_frequency_p: The corner frequency for P-waves in Hz.</span>
</span><span id="L-935"><a href="#L-935"><span class="linenos"> 935</span></a><span class="s2">    :type corner_frequency_s: float</span>
</span><span id="L-936"><a href="#L-936"><span class="linenos"> 936</span></a><span class="s2">    :param corner_frequency_s: The corner frequency for S-waves in Hz.</span>
</span><span id="L-937"><a href="#L-937"><span class="linenos"> 937</span></a><span class="s2">    :type corner_frequency_error: float</span>
</span><span id="L-938"><a href="#L-938"><span class="linenos"> 938</span></a><span class="s2">    :param corner_frequency_error: Error associated with the corner frequency in Hz.</span>
</span><span id="L-939"><a href="#L-939"><span class="linenos"> 939</span></a><span class="s2">    :type corner_frequency_p_error: float</span>
</span><span id="L-940"><a href="#L-940"><span class="linenos"> 940</span></a><span class="s2">    :param corner_frequency_p_error: Error associated with the corner frequency for P-waves in Hz.</span>
</span><span id="L-941"><a href="#L-941"><span class="linenos"> 941</span></a><span class="s2">    :type corner_frequency_s_error: float</span>
</span><span id="L-942"><a href="#L-942"><span class="linenos"> 942</span></a><span class="s2">    :param corner_frequency_s_error: Error associated with the corner frequency for S-waves in Hz.</span>
</span><span id="L-943"><a href="#L-943"><span class="linenos"> 943</span></a><span class="s2">    :type energy_p: float</span>
</span><span id="L-944"><a href="#L-944"><span class="linenos"> 944</span></a><span class="s2">    :param energy_p: P-wave radiated energy in joules</span>
</span><span id="L-945"><a href="#L-945"><span class="linenos"> 945</span></a><span class="s2">    :type energy_s: float</span>
</span><span id="L-946"><a href="#L-946"><span class="linenos"> 946</span></a><span class="s2">    :param energy_s: S-wave radiated energy in joules</span>
</span><span id="L-947"><a href="#L-947"><span class="linenos"> 947</span></a><span class="s2">    :type energy_p_error: float</span>
</span><span id="L-948"><a href="#L-948"><span class="linenos"> 948</span></a><span class="s2">    :param energy_p_error: P-wave radiated energy error in joules</span>
</span><span id="L-949"><a href="#L-949"><span class="linenos"> 949</span></a><span class="s2">    :type energy_s_error: float</span>
</span><span id="L-950"><a href="#L-950"><span class="linenos"> 950</span></a><span class="s2">    :param energy_s_error:  S-wave radiated energy error in joules</span>
</span><span id="L-951"><a href="#L-951"><span class="linenos"> 951</span></a><span class="s2">    &quot;&quot;&quot;</span><span class="p">,</span>
</span><span id="L-952"><a href="#L-952"><span class="linenos"> 952</span></a>        <span class="s1">&#39;previous_parameter&#39;</span><span class="p">:</span> <span class="s1">&#39;magnitude_type&#39;</span><span class="p">}</span>
</span><span id="L-953"><a href="#L-953"><span class="linenos"> 953</span></a>
</span><span id="L-954"><a href="#L-954"><span class="linenos"> 954</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-955"><a href="#L-955"><span class="linenos"> 955</span></a>        <span class="k">if</span> <span class="s1">&#39;seismic_moment&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-956"><a href="#L-956"><span class="linenos"> 956</span></a>            <span class="n">seismic_moment</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;seismic_moment&#39;</span><span class="p">)</span>
</span><span id="L-957"><a href="#L-957"><span class="linenos"> 957</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;mag&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span> <span class="o">/</span> <span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">seismic_moment</span><span class="p">)</span> <span class="o">-</span> <span class="mf">9.1</span><span class="p">)</span>
</span><span id="L-958"><a href="#L-958"><span class="linenos"> 958</span></a>        <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-959"><a href="#L-959"><span class="linenos"> 959</span></a>
</span><span id="L-960"><a href="#L-960"><span class="linenos"> 960</span></a>    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="L-961"><a href="#L-961"><span class="linenos"> 961</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;seismic_moment&#39;</span><span class="p">:</span>
</span><span id="L-962"><a href="#L-962"><span class="linenos"> 962</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mag</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span> <span class="o">/</span> <span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">-</span> <span class="mf">9.1</span><span class="p">)</span>
</span><span id="L-963"><a href="#L-963"><span class="linenos"> 963</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-964"><a href="#L-964"><span class="linenos"> 964</span></a>            <span class="n">_set_attr_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="L-965"><a href="#L-965"><span class="linenos"> 965</span></a>
</span><span id="L-966"><a href="#L-966"><span class="linenos"> 966</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-967"><a href="#L-967"><span class="linenos"> 967</span></a>    <span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">input_dict</span><span class="p">,</span> <span class="n">origin_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-968"><a href="#L-968"><span class="linenos"> 968</span></a>        <span class="n">out_cls</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">obspy_obj</span><span class="o">=</span><span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">input_dict</span><span class="p">,</span>
</span><span id="L-969"><a href="#L-969"><span class="linenos"> 969</span></a>                      <span class="n">origin_id</span><span class="o">=</span><span class="n">origin_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-970"><a href="#L-970"><span class="linenos"> 970</span></a>        <span class="n">out_cls</span><span class="o">.</span><span class="n">mag</span> <span class="o">=</span> <span class="n">input_dict</span><span class="p">[</span><span class="s1">&#39;moment_magnitude&#39;</span><span class="p">]</span>
</span><span id="L-971"><a href="#L-971"><span class="linenos"> 971</span></a>        <span class="n">out_cls</span><span class="o">.</span><span class="n">magnitude_type</span> <span class="o">=</span> <span class="s1">&#39;Mw&#39;</span>
</span><span id="L-972"><a href="#L-972"><span class="linenos"> 972</span></a>
</span><span id="L-973"><a href="#L-973"><span class="linenos"> 973</span></a>        <span class="k">return</span> <span class="n">out_cls</span>
</span><span id="L-974"><a href="#L-974"><span class="linenos"> 974</span></a>
</span><span id="L-975"><a href="#L-975"><span class="linenos"> 975</span></a>    <span class="nd">@property</span>
</span><span id="L-976"><a href="#L-976"><span class="linenos"> 976</span></a>    <span class="k">def</span> <span class="nf">energy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-977"><a href="#L-977"><span class="linenos"> 977</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_p</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_s</span>
</span><span id="L-978"><a href="#L-978"><span class="linenos"> 978</span></a>
</span><span id="L-979"><a href="#L-979"><span class="linenos"> 979</span></a>    <span class="nd">@property</span>
</span><span id="L-980"><a href="#L-980"><span class="linenos"> 980</span></a>    <span class="k">def</span> <span class="nf">static_stress_drop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-981"><a href="#L-981"><span class="linenos"> 981</span></a>        <span class="n">ssd</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-982"><a href="#L-982"><span class="linenos"> 982</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">magnitude_type</span> <span class="o">==</span> <span class="s2">&quot;Mw&quot;</span><span class="p">:</span>
</span><span id="L-983"><a href="#L-983"><span class="linenos"> 983</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mag</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">corner_frequency</span><span class="p">:</span>
</span><span id="L-984"><a href="#L-984"><span class="linenos"> 984</span></a>                <span class="n">ssd</span> <span class="o">=</span> <span class="n">calc_static_stress_drop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mag</span><span class="p">,</span>
</span><span id="L-985"><a href="#L-985"><span class="linenos"> 985</span></a>                                              <span class="bp">self</span><span class="o">.</span><span class="n">corner_frequency</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1e6</span>
</span><span id="L-986"><a href="#L-986"><span class="linenos"> 986</span></a>        <span class="k">return</span> <span class="n">ssd</span>
</span><span id="L-987"><a href="#L-987"><span class="linenos"> 987</span></a>
</span><span id="L-988"><a href="#L-988"><span class="linenos"> 988</span></a>    <span class="nd">@property</span>
</span><span id="L-989"><a href="#L-989"><span class="linenos"> 989</span></a>    <span class="k">def</span> <span class="nf">apparent_stress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-990"><a href="#L-990"><span class="linenos"> 990</span></a>        <span class="n">app_stress</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-991"><a href="#L-991"><span class="linenos"> 991</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">magnitude_type</span> <span class="o">==</span> <span class="s1">&#39;Mw&#39;</span><span class="p">:</span>
</span><span id="L-992"><a href="#L-992"><span class="linenos"> 992</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">mag</span><span class="p">:</span>
</span><span id="L-993"><a href="#L-993"><span class="linenos"> 993</span></a>                <span class="n">app_stress</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">potency</span>
</span><span id="L-994"><a href="#L-994"><span class="linenos"> 994</span></a>        <span class="k">return</span> <span class="n">app_stress</span>
</span><span id="L-995"><a href="#L-995"><span class="linenos"> 995</span></a>
</span><span id="L-996"><a href="#L-996"><span class="linenos"> 996</span></a>    <span class="nd">@property</span>
</span><span id="L-997"><a href="#L-997"><span class="linenos"> 997</span></a>    <span class="k">def</span> <span class="nf">seismic_moment</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-998"><a href="#L-998"><span class="linenos"> 998</span></a>        <span class="n">seismic_moment</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-999"><a href="#L-999"><span class="linenos"> 999</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">magnitude_type</span> <span class="o">==</span> <span class="s1">&#39;Mw&#39;</span><span class="p">:</span>
</span><span id="L-1000"><a href="#L-1000"><span class="linenos">1000</span></a>            <span class="n">seismic_moment</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">**</span> <span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mag</span> <span class="o">+</span> <span class="mf">6.03</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-1001"><a href="#L-1001"><span class="linenos">1001</span></a>        <span class="k">return</span> <span class="n">seismic_moment</span>
</span><span id="L-1002"><a href="#L-1002"><span class="linenos">1002</span></a>
</span><span id="L-1003"><a href="#L-1003"><span class="linenos">1003</span></a>    <span class="nd">@property</span>
</span><span id="L-1004"><a href="#L-1004"><span class="linenos">1004</span></a>    <span class="k">def</span> <span class="nf">potency</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1005"><a href="#L-1005"><span class="linenos">1005</span></a>        <span class="n">potency</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-1006"><a href="#L-1006"><span class="linenos">1006</span></a>        <span class="n">mu</span> <span class="o">=</span> <span class="mf">29.5e9</span>
</span><span id="L-1007"><a href="#L-1007"><span class="linenos">1007</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">magnitude_type</span> <span class="o">==</span> <span class="s1">&#39;Mw&#39;</span><span class="p">:</span>
</span><span id="L-1008"><a href="#L-1008"><span class="linenos">1008</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mag</span><span class="p">:</span>
</span><span id="L-1009"><a href="#L-1009"><span class="linenos">1009</span></a>                <span class="n">potency</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">seismic_moment</span> <span class="o">/</span> <span class="n">mu</span>
</span><span id="L-1010"><a href="#L-1010"><span class="linenos">1010</span></a>        <span class="k">return</span> <span class="n">potency</span>
</span><span id="L-1011"><a href="#L-1011"><span class="linenos">1011</span></a>
</span><span id="L-1012"><a href="#L-1012"><span class="linenos">1012</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1013"><a href="#L-1013"><span class="linenos">1013</span></a>
</span><span id="L-1014"><a href="#L-1014"><span class="linenos">1014</span></a>        <span class="n">es_ep</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-1015"><a href="#L-1015"><span class="linenos">1015</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_p</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_s</span><span class="p">:</span>
</span><span id="L-1016"><a href="#L-1016"><span class="linenos">1016</span></a>            <span class="n">es_ep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_s</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_p</span>
</span><span id="L-1017"><a href="#L-1017"><span class="linenos">1017</span></a>
</span><span id="L-1018"><a href="#L-1018"><span class="linenos">1018</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-1019"><a href="#L-1019"><span class="linenos">1019</span></a><span class="s2">             resource_id: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="o">.</span><span class="n">id</span><span class="si">}</span>
</span><span id="L-1020"><a href="#L-1020"><span class="linenos">1020</span></a><span class="s2">               Magnitude: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">mag</span><span class="si">:</span><span class="s2">0.1f</span><span class="si">}</span>
</span><span id="L-1021"><a href="#L-1021"><span class="linenos">1021</span></a><span class="s2">          Magnitude type: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">magnitude_type</span><span class="si">}</span>
</span><span id="L-1022"><a href="#L-1022"><span class="linenos">1022</span></a><span class="s2">   Corner frequency (Hz): </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">corner_frequency</span><span class="si">:</span><span class="s2">0.1f</span><span class="si">}</span>
</span><span id="L-1023"><a href="#L-1023"><span class="linenos">1023</span></a><span class="s2"> Radiated Energy (joule): </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">energy</span><span class="si">:</span><span class="s2">.3e</span><span class="si">}</span>
</span><span id="L-1024"><a href="#L-1024"><span class="linenos">1024</span></a><span class="s2">                   Es/Ep: </span><span class="si">{</span><span class="n">es_ep</span><span class="si">:</span><span class="s2">0.1f</span><span class="si">}</span>
</span><span id="L-1025"><a href="#L-1025"><span class="linenos">1025</span></a><span class="s2">          Seismic moment: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">seismic_moment</span><span class="si">:</span><span class="s2">.3e</span><span class="si">}</span>
</span><span id="L-1026"><a href="#L-1026"><span class="linenos">1026</span></a><span class="s2">       Source volume(m3): </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">potency</span><span class="si">:</span><span class="s2">.3e</span><span class="si">}</span>
</span><span id="L-1027"><a href="#L-1027"><span class="linenos">1027</span></a><span class="s2"> Static stress drop (Pa): </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">static_stress_drop</span><span class="si">:</span><span class="s2">.3e</span><span class="si">}</span>
</span><span id="L-1028"><a href="#L-1028"><span class="linenos">1028</span></a><span class="s2">     Apparent stress(Pa): </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">apparent_stress</span><span class="si">:</span><span class="s2">.3e</span><span class="si">}</span>
</span><span id="L-1029"><a href="#L-1029"><span class="linenos">1029</span></a><span class="s2">         evaluation mode: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluation_mode</span><span class="si">}</span>
</span><span id="L-1030"><a href="#L-1030"><span class="linenos">1030</span></a><span class="s2">       evaluation status: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluation_status</span><span class="si">}</span>
</span><span id="L-1031"><a href="#L-1031"><span class="linenos">1031</span></a><span class="s2">        &quot;&quot;&quot;</span>
</span><span id="L-1032"><a href="#L-1032"><span class="linenos">1032</span></a>
</span><span id="L-1033"><a href="#L-1033"><span class="linenos">1033</span></a>        <span class="k">return</span> <span class="n">string</span>
</span><span id="L-1034"><a href="#L-1034"><span class="linenos">1034</span></a>
</span><span id="L-1035"><a href="#L-1035"><span class="linenos">1035</span></a>
</span><span id="L-1036"><a href="#L-1036"><span class="linenos">1036</span></a><span class="k">class</span> <span class="nc">Pick</span><span class="p">(</span><span class="n">obsevent</span><span class="o">.</span><span class="n">Pick</span><span class="p">):</span>
</span><span id="L-1037"><a href="#L-1037"><span class="linenos">1037</span></a>    <span class="n">original_doc</span> <span class="o">=</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">Pick</span><span class="o">.</span><span class="vm">__doc__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;obspy&#39;</span><span class="p">,</span> <span class="s1">&#39;uquake&#39;</span><span class="p">)</span>
</span><span id="L-1038"><a href="#L-1038"><span class="linenos">1038</span></a>
</span><span id="L-1039"><a href="#L-1039"><span class="linenos">1039</span></a>    <span class="n">insert_position</span> <span class="o">=</span> <span class="n">original_doc</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;.. note::&quot;</span><span class="p">)</span>
</span><span id="L-1040"><a href="#L-1040"><span class="linenos">1040</span></a>
</span><span id="L-1041"><a href="#L-1041"><span class="linenos">1041</span></a>    <span class="n">new_doc_addition</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-1042"><a href="#L-1042"><span class="linenos">1042</span></a><span class="s2">        :type snr: float, optional</span>
</span><span id="L-1043"><a href="#L-1043"><span class="linenos">1043</span></a><span class="s2">        :param snr: Signal-to-Noise Ratio.</span>
</span><span id="L-1044"><a href="#L-1044"><span class="linenos">1044</span></a><span class="s2">        :type planarity: float, optional</span>
</span><span id="L-1045"><a href="#L-1045"><span class="linenos">1045</span></a><span class="s2">        :param planarity: Measure of planarity of the waveform.</span>
</span><span id="L-1046"><a href="#L-1046"><span class="linenos">1046</span></a><span class="s2">        :type linearity: float, optional</span>
</span><span id="L-1047"><a href="#L-1047"><span class="linenos">1047</span></a><span class="s2">        :param linearity: Measure of linearity of the waveform.</span>
</span><span id="L-1048"><a href="#L-1048"><span class="linenos">1048</span></a>
</span><span id="L-1049"><a href="#L-1049"><span class="linenos">1049</span></a><span class="s2">        **Extensions to original obsevent.Pick class above**</span>
</span><span id="L-1050"><a href="#L-1050"><span class="linenos">1050</span></a><span class="s2">    &quot;&quot;&quot;</span>
</span><span id="L-1051"><a href="#L-1051"><span class="linenos">1051</span></a>
</span><span id="L-1052"><a href="#L-1052"><span class="linenos">1052</span></a>    <span class="c1"># Insert new documentation at the identified position</span>
</span><span id="L-1053"><a href="#L-1053"><span class="linenos">1053</span></a>    <span class="n">new_doc</span> <span class="o">=</span> <span class="n">original_doc</span><span class="p">[:</span><span class="n">insert_position</span><span class="p">]</span> <span class="o">+</span> <span class="n">new_doc_addition</span> <span class="o">+</span> <span class="n">original_doc</span><span class="p">[</span>
</span><span id="L-1054"><a href="#L-1054"><span class="linenos">1054</span></a>                                                                  <span class="n">insert_position</span><span class="p">:]</span>
</span><span id="L-1055"><a href="#L-1055"><span class="linenos">1055</span></a>
</span><span id="L-1056"><a href="#L-1056"><span class="linenos">1056</span></a>    <span class="n">extra_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;snr&#39;</span><span class="p">,</span> <span class="s1">&#39;planarity&#39;</span><span class="p">,</span> <span class="s1">&#39;linearity&#39;</span><span class="p">]</span>
</span><span id="L-1057"><a href="#L-1057"><span class="linenos">1057</span></a>    <span class="n">extra_types</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;snr&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
</span><span id="L-1058"><a href="#L-1058"><span class="linenos">1058</span></a>                   <span class="s1">&#39;planarity&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
</span><span id="L-1059"><a href="#L-1059"><span class="linenos">1059</span></a>                   <span class="s1">&#39;linearity&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">}</span>
</span><span id="L-1060"><a href="#L-1060"><span class="linenos">1060</span></a>
</span><span id="L-1061"><a href="#L-1061"><span class="linenos">1061</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1062"><a href="#L-1062"><span class="linenos">1062</span></a>        <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1063"><a href="#L-1063"><span class="linenos">1063</span></a>
</span><span id="L-1064"><a href="#L-1064"><span class="linenos">1064</span></a>    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="L-1065"><a href="#L-1065"><span class="linenos">1065</span></a>        <span class="n">_set_attr_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="L-1066"><a href="#L-1066"><span class="linenos">1066</span></a>
</span><span id="L-1067"><a href="#L-1067"><span class="linenos">1067</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1068"><a href="#L-1068"><span class="linenos">1068</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-1069"><a href="#L-1069"><span class="linenos">1069</span></a><span class="s2">         stream_id: </span><span class="si">%s</span>
</span><span id="L-1070"><a href="#L-1070"><span class="linenos">1070</span></a><span class="s2">              time: </span><span class="si">%s</span>
</span><span id="L-1071"><a href="#L-1071"><span class="linenos">1071</span></a><span class="s2">             phase: </span><span class="si">%s</span>
</span><span id="L-1072"><a href="#L-1072"><span class="linenos">1072</span></a><span class="s2">               snr: </span><span class="si">%s</span>
</span><span id="L-1073"><a href="#L-1073"><span class="linenos">1073</span></a><span class="s2">   evaluation_mode: </span><span class="si">%s</span>
</span><span id="L-1074"><a href="#L-1074"><span class="linenos">1074</span></a><span class="s2"> evaluation_status: </span><span class="si">%s</span>
</span><span id="L-1075"><a href="#L-1075"><span class="linenos">1075</span></a><span class="s2">       resource_id: </span><span class="si">%s</span>
</span><span id="L-1076"><a href="#L-1076"><span class="linenos">1076</span></a><span class="s2">        &quot;&quot;&quot;</span> \
</span><span id="L-1077"><a href="#L-1077"><span class="linenos">1077</span></a>                 <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stream_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y/%m/</span><span class="si">%d</span><span class="s2"> %H:%M:%S.</span><span class="si">%f</span><span class="s2">&quot;</span><span class="p">),</span>
</span><span id="L-1078"><a href="#L-1078"><span class="linenos">1078</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">phase_hint</span><span class="p">,</span>  <span class="bp">self</span><span class="o">.</span><span class="n">snr</span><span class="p">,</span>
</span><span id="L-1079"><a href="#L-1079"><span class="linenos">1079</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_mode</span><span class="p">,</span>
</span><span id="L-1080"><a href="#L-1080"><span class="linenos">1080</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_status</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="p">)</span>
</span><span id="L-1081"><a href="#L-1081"><span class="linenos">1081</span></a>        <span class="k">return</span> <span class="n">string</span>
</span><span id="L-1082"><a href="#L-1082"><span class="linenos">1082</span></a>
</span><span id="L-1083"><a href="#L-1083"><span class="linenos">1083</span></a>    <span class="k">def</span> <span class="nf">get_sta</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1084"><a href="#L-1084"><span class="linenos">1084</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1085"><a href="#L-1085"><span class="linenos">1085</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">station_code</span>
</span><span id="L-1086"><a href="#L-1086"><span class="linenos">1086</span></a>
</span><span id="L-1087"><a href="#L-1087"><span class="linenos">1087</span></a>    <span class="nd">@property</span>
</span><span id="L-1088"><a href="#L-1088"><span class="linenos">1088</span></a>    <span class="k">def</span> <span class="nf">location</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1089"><a href="#L-1089"><span class="linenos">1089</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1090"><a href="#L-1090"><span class="linenos">1090</span></a>            <span class="n">location</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">station_code</span><span class="si">}</span><span class="s1">.&#39;</span> \
</span><span id="L-1091"><a href="#L-1091"><span class="linenos">1091</span></a>                       <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">location_code</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="L-1092"><a href="#L-1092"><span class="linenos">1092</span></a>            <span class="k">return</span> <span class="n">location</span>
</span><span id="L-1093"><a href="#L-1093"><span class="linenos">1093</span></a>
</span><span id="L-1094"><a href="#L-1094"><span class="linenos">1094</span></a>    <span class="nd">@property</span>
</span><span id="L-1095"><a href="#L-1095"><span class="linenos">1095</span></a>    <span class="k">def</span> <span class="nf">stream_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1096"><a href="#L-1096"><span class="linenos">1096</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">stream_id</span>
</span><span id="L-1097"><a href="#L-1097"><span class="linenos">1097</span></a>
</span><span id="L-1098"><a href="#L-1098"><span class="linenos">1098</span></a>
</span><span id="L-1099"><a href="#L-1099"><span class="linenos">1099</span></a><span class="k">class</span> <span class="nc">WaveformStreamID</span><span class="p">(</span><span class="n">obsevent</span><span class="o">.</span><span class="n">WaveformStreamID</span><span class="p">):</span>
</span><span id="L-1100"><a href="#L-1100"><span class="linenos">1100</span></a>    <span class="vm">__doc__</span> <span class="o">=</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">WaveformStreamID</span><span class="o">.</span><span class="vm">__doc__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;obspy&#39;</span><span class="p">,</span> <span class="s1">&#39;uquake&#39;</span><span class="p">)</span>
</span><span id="L-1101"><a href="#L-1101"><span class="linenos">1101</span></a>
</span><span id="L-1102"><a href="#L-1102"><span class="linenos">1102</span></a>    <span class="n">extra_keys</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1103"><a href="#L-1103"><span class="linenos">1103</span></a>    <span class="n">extra_type</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-1104"><a href="#L-1104"><span class="linenos">1104</span></a>
</span><span id="L-1105"><a href="#L-1105"><span class="linenos">1105</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1106"><a href="#L-1106"><span class="linenos">1106</span></a>        <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1107"><a href="#L-1107"><span class="linenos">1107</span></a>
</span><span id="L-1108"><a href="#L-1108"><span class="linenos">1108</span></a>    <span class="nd">@property</span>
</span><span id="L-1109"><a href="#L-1109"><span class="linenos">1109</span></a>    <span class="k">def</span> <span class="nf">location</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1110"><a href="#L-1110"><span class="linenos">1110</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">location_code</span>
</span><span id="L-1111"><a href="#L-1111"><span class="linenos">1111</span></a>
</span><span id="L-1112"><a href="#L-1112"><span class="linenos">1112</span></a>    <span class="nd">@property</span>
</span><span id="L-1113"><a href="#L-1113"><span class="linenos">1113</span></a>    <span class="k">def</span> <span class="nf">stream_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1114"><a href="#L-1114"><span class="linenos">1114</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">network_code</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">station_code</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">location_code</span><span class="si">}</span><span class="s1">.&#39;</span> \
</span><span id="L-1115"><a href="#L-1115"><span class="linenos">1115</span></a>               <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">channel_code</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="L-1116"><a href="#L-1116"><span class="linenos">1116</span></a>
</span><span id="L-1117"><a href="#L-1117"><span class="linenos">1117</span></a>
</span><span id="L-1118"><a href="#L-1118"><span class="linenos">1118</span></a><span class="k">class</span> <span class="nc">Arrival</span><span class="p">(</span><span class="n">obsevent</span><span class="o">.</span><span class="n">Arrival</span><span class="p">):</span>
</span><span id="L-1119"><a href="#L-1119"><span class="linenos">1119</span></a>    <span class="vm">__doc__</span> <span class="o">=</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">Arrival</span><span class="o">.</span><span class="vm">__doc__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;obspy&#39;</span><span class="p">,</span> <span class="s1">&#39;uquake&#39;</span><span class="p">)</span>
</span><span id="L-1120"><a href="#L-1120"><span class="linenos">1120</span></a>    <span class="vm">__doc__</span> <span class="o">=</span> <span class="vm">__doc__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;:param distance: Epicentral distance. Unit: deg&#39;</span><span class="p">,</span>
</span><span id="L-1121"><a href="#L-1121"><span class="linenos">1121</span></a>                              <span class="s1">&#39;:param distance: Hypocentral distance. Unit: m&#39;</span><span class="p">)</span>
</span><span id="L-1122"><a href="#L-1122"><span class="linenos">1122</span></a>    <span class="vm">__doc__</span> <span class="o">=</span> <span class="vm">__doc__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;:param earth_model_id: Earth model&#39;</span><span class="p">,</span>
</span><span id="L-1123"><a href="#L-1123"><span class="linenos">1123</span></a>                              <span class="s1">&#39;:param velocity_model_id: Velocity model&#39;</span><span class="p">)</span>
</span><span id="L-1124"><a href="#L-1124"><span class="linenos">1124</span></a>
</span><span id="L-1125"><a href="#L-1125"><span class="linenos">1125</span></a>    <span class="vm">__doc__</span> <span class="o">=</span> <span class="vm">__doc__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;:type earth_model_id:&#39;</span><span class="p">,</span>
</span><span id="L-1126"><a href="#L-1126"><span class="linenos">1126</span></a>                              <span class="s1">&#39;:type velocity_model_id:&#39;</span><span class="p">)</span>
</span><span id="L-1127"><a href="#L-1127"><span class="linenos">1127</span></a>
</span><span id="L-1128"><a href="#L-1128"><span class="linenos">1128</span></a>    <span class="n">extra_keys</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1129"><a href="#L-1129"><span class="linenos">1129</span></a>    <span class="n">extra_type</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-1130"><a href="#L-1130"><span class="linenos">1130</span></a>
</span><span id="L-1131"><a href="#L-1131"><span class="linenos">1131</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1132"><a href="#L-1132"><span class="linenos">1132</span></a>        <span class="k">if</span> <span class="s1">&#39;velocity_model_id&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-1133"><a href="#L-1133"><span class="linenos">1133</span></a>            <span class="n">velocity_model_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;velocity_model_id&#39;</span><span class="p">]</span>
</span><span id="L-1134"><a href="#L-1134"><span class="linenos">1134</span></a>            <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;velocity_model_id&#39;</span><span class="p">)</span>
</span><span id="L-1135"><a href="#L-1135"><span class="linenos">1135</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;earth_model_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">velocity_model_id</span>
</span><span id="L-1136"><a href="#L-1136"><span class="linenos">1136</span></a>        <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1137"><a href="#L-1137"><span class="linenos">1137</span></a>
</span><span id="L-1138"><a href="#L-1138"><span class="linenos">1138</span></a>    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="L-1139"><a href="#L-1139"><span class="linenos">1139</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;velocity_model_id&#39;</span><span class="p">:</span>
</span><span id="L-1140"><a href="#L-1140"><span class="linenos">1140</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">earth_model_id</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-1141"><a href="#L-1141"><span class="linenos">1141</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="L-1142"><a href="#L-1142"><span class="linenos">1142</span></a>
</span><span id="L-1143"><a href="#L-1143"><span class="linenos">1143</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1144"><a href="#L-1144"><span class="linenos">1144</span></a>        <span class="n">out_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-1145"><a href="#L-1145"><span class="linenos">1145</span></a><span class="s2">       resource_id: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="si">}</span>
</span><span id="L-1146"><a href="#L-1146"><span class="linenos">1146</span></a><span class="s2">           pick_id: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_pick</span><span class="p">()</span><span class="o">.</span><span class="n">resource_id</span><span class="si">}</span>
</span><span id="L-1147"><a href="#L-1147"><span class="linenos">1147</span></a><span class="s2">             phase: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">phase</span><span class="si">}</span>
</span><span id="L-1148"><a href="#L-1148"><span class="linenos">1148</span></a><span class="s2">           azimuth: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span><span class="si">}</span><span class="s2"> (deg)</span>
</span><span id="L-1149"><a href="#L-1149"><span class="linenos">1149</span></a><span class="s2">          distance: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">distance</span><span class="si">}</span><span class="s2"> (m)</span>
</span><span id="L-1150"><a href="#L-1150"><span class="linenos">1150</span></a><span class="s2">     takeoff_angle: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">takeoff_angle</span><span class="si">}</span><span class="s2"> (deg)</span>
</span><span id="L-1151"><a href="#L-1151"><span class="linenos">1151</span></a><span class="s2">     time_residual: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">time_residual</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1000</span><span class="si">}</span><span class="s2"> (ms)</span>
</span><span id="L-1152"><a href="#L-1152"><span class="linenos">1152</span></a><span class="s2">       time_weight: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">time_weight</span><span class="si">}</span>
</span><span id="L-1153"><a href="#L-1153"><span class="linenos">1153</span></a><span class="s2">        &quot;&quot;&quot;</span>
</span><span id="L-1154"><a href="#L-1154"><span class="linenos">1154</span></a>        <span class="k">return</span> <span class="n">out_str</span>
</span><span id="L-1155"><a href="#L-1155"><span class="linenos">1155</span></a>
</span><span id="L-1156"><a href="#L-1156"><span class="linenos">1156</span></a>    <span class="nd">@staticmethod</span>
</span><span id="L-1157"><a href="#L-1157"><span class="linenos">1157</span></a>    <span class="k">def</span> <span class="nf">calculate_time_residual</span><span class="p">(</span><span class="n">observed</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">predicted</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
</span><span id="L-1158"><a href="#L-1158"><span class="linenos">1158</span></a>        <span class="k">return</span> <span class="n">observed</span> <span class="o">-</span> <span class="n">predicted</span>
</span><span id="L-1159"><a href="#L-1159"><span class="linenos">1159</span></a>
</span><span id="L-1160"><a href="#L-1160"><span class="linenos">1160</span></a>    <span class="nd">@property</span>
</span><span id="L-1161"><a href="#L-1161"><span class="linenos">1161</span></a>    <span class="k">def</span> <span class="nf">polarity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1162"><a href="#L-1162"><span class="linenos">1162</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_pick</span><span class="p">()</span><span class="o">.</span><span class="n">polarity</span>
</span><span id="L-1163"><a href="#L-1163"><span class="linenos">1163</span></a>
</span><span id="L-1164"><a href="#L-1164"><span class="linenos">1164</span></a>    <span class="nd">@property</span>
</span><span id="L-1165"><a href="#L-1165"><span class="linenos">1165</span></a>    <span class="k">def</span> <span class="nf">pick</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1166"><a href="#L-1166"><span class="linenos">1166</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_pick</span><span class="p">()</span>
</span><span id="L-1167"><a href="#L-1167"><span class="linenos">1167</span></a>
</span><span id="L-1168"><a href="#L-1168"><span class="linenos">1168</span></a>    <span class="nd">@property</span>
</span><span id="L-1169"><a href="#L-1169"><span class="linenos">1169</span></a>    <span class="k">def</span> <span class="nf">time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1170"><a href="#L-1170"><span class="linenos">1170</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pick</span><span class="o">.</span><span class="n">time</span>
</span><span id="L-1171"><a href="#L-1171"><span class="linenos">1171</span></a>
</span><span id="L-1172"><a href="#L-1172"><span class="linenos">1172</span></a>    <span class="nd">@property</span>
</span><span id="L-1173"><a href="#L-1173"><span class="linenos">1173</span></a>    <span class="k">def</span> <span class="nf">channel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1174"><a href="#L-1174"><span class="linenos">1174</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pick</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">channel_code</span>
</span><span id="L-1175"><a href="#L-1175"><span class="linenos">1175</span></a>
</span><span id="L-1176"><a href="#L-1176"><span class="linenos">1176</span></a>    <span class="nd">@property</span>
</span><span id="L-1177"><a href="#L-1177"><span class="linenos">1177</span></a>    <span class="k">def</span> <span class="nf">location</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1178"><a href="#L-1178"><span class="linenos">1178</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pick</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">location_code</span>
</span><span id="L-1179"><a href="#L-1179"><span class="linenos">1179</span></a>
</span><span id="L-1180"><a href="#L-1180"><span class="linenos">1180</span></a>    <span class="nd">@property</span>
</span><span id="L-1181"><a href="#L-1181"><span class="linenos">1181</span></a>    <span class="k">def</span> <span class="nf">station</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1182"><a href="#L-1182"><span class="linenos">1182</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pick</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">station_code</span>
</span><span id="L-1183"><a href="#L-1183"><span class="linenos">1183</span></a>
</span><span id="L-1184"><a href="#L-1184"><span class="linenos">1184</span></a>    <span class="nd">@property</span>
</span><span id="L-1185"><a href="#L-1185"><span class="linenos">1185</span></a>    <span class="k">def</span> <span class="nf">network</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1186"><a href="#L-1186"><span class="linenos">1186</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pick</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">network_code</span>
</span><span id="L-1187"><a href="#L-1187"><span class="linenos">1187</span></a>
</span><span id="L-1188"><a href="#L-1188"><span class="linenos">1188</span></a>    <span class="nd">@property</span>
</span><span id="L-1189"><a href="#L-1189"><span class="linenos">1189</span></a>    <span class="k">def</span> <span class="nf">velocity_model_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1190"><a href="#L-1190"><span class="linenos">1190</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">earth_model_id</span>
</span><span id="L-1191"><a href="#L-1191"><span class="linenos">1191</span></a>
</span><span id="L-1192"><a href="#L-1192"><span class="linenos">1192</span></a>    <span class="k">def</span> <span class="nf">get_pick</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1193"><a href="#L-1193"><span class="linenos">1193</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pick_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1194"><a href="#L-1194"><span class="linenos">1194</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pick_id</span><span class="o">.</span><span class="n">get_referred_object</span><span class="p">()</span>
</span><span id="L-1195"><a href="#L-1195"><span class="linenos">1195</span></a>
</span><span id="L-1196"><a href="#L-1196"><span class="linenos">1196</span></a>    <span class="k">def</span> <span class="nf">get_sta</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1197"><a href="#L-1197"><span class="linenos">1197</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pick_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1198"><a href="#L-1198"><span class="linenos">1198</span></a>            <span class="n">pick</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pick_id</span><span class="o">.</span><span class="n">get_referred_object</span><span class="p">()</span>
</span><span id="L-1199"><a href="#L-1199"><span class="linenos">1199</span></a>            <span class="k">return</span> <span class="n">pick</span><span class="o">.</span><span class="n">get_sta</span><span class="p">()</span>
</span><span id="L-1200"><a href="#L-1200"><span class="linenos">1200</span></a>
</span><span id="L-1201"><a href="#L-1201"><span class="linenos">1201</span></a>    <span class="k">def</span> <span class="nf">get_station</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1202"><a href="#L-1202"><span class="linenos">1202</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sta</span><span class="p">()</span>
</span><span id="L-1203"><a href="#L-1203"><span class="linenos">1203</span></a>
</span><span id="L-1204"><a href="#L-1204"><span class="linenos">1204</span></a>
</span><span id="L-1205"><a href="#L-1205"><span class="linenos">1205</span></a><span class="k">def</span> <span class="nf">get_arrival_from_pick</span><span class="p">(</span><span class="n">arrivals</span><span class="p">,</span> <span class="n">pick</span><span class="p">):</span>
</span><span id="L-1206"><a href="#L-1206"><span class="linenos">1206</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1207"><a href="#L-1207"><span class="linenos">1207</span></a><span class="sd">      return arrival corresponding to pick</span>
</span><span id="L-1208"><a href="#L-1208"><span class="linenos">1208</span></a>
</span><span id="L-1209"><a href="#L-1209"><span class="linenos">1209</span></a><span class="sd">      :param arrivals: list of arrivals</span>
</span><span id="L-1210"><a href="#L-1210"><span class="linenos">1210</span></a><span class="sd">      :type arrivals: list of either obspy.core.event.origin.Arrival</span>
</span><span id="L-1211"><a href="#L-1211"><span class="linenos">1211</span></a><span class="sd">                      or uquake.core.event.origin.Arrival</span>
</span><span id="L-1212"><a href="#L-1212"><span class="linenos">1212</span></a><span class="sd">      :param pick: P or S pick</span>
</span><span id="L-1213"><a href="#L-1213"><span class="linenos">1213</span></a><span class="sd">      :type pick: either obspy.core.event.origin.Pick</span>
</span><span id="L-1214"><a href="#L-1214"><span class="linenos">1214</span></a><span class="sd">                      or uquake.core.event.origin.Pick</span>
</span><span id="L-1215"><a href="#L-1215"><span class="linenos">1215</span></a><span class="sd">      :return arrival</span>
</span><span id="L-1216"><a href="#L-1216"><span class="linenos">1216</span></a><span class="sd">      :rtype: obspy.core.event.origin.Arrival or</span>
</span><span id="L-1217"><a href="#L-1217"><span class="linenos">1217</span></a><span class="sd">              uquake.core.event.origin.Arrival</span>
</span><span id="L-1218"><a href="#L-1218"><span class="linenos">1218</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1219"><a href="#L-1219"><span class="linenos">1219</span></a>
</span><span id="L-1220"><a href="#L-1220"><span class="linenos">1220</span></a>    <span class="n">arrival</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-1221"><a href="#L-1221"><span class="linenos">1221</span></a>    <span class="k">for</span> <span class="n">arr</span> <span class="ow">in</span> <span class="n">arrivals</span><span class="p">:</span>
</span><span id="L-1222"><a href="#L-1222"><span class="linenos">1222</span></a>        <span class="k">if</span> <span class="n">arr</span><span class="o">.</span><span class="n">pick_id</span> <span class="o">==</span> <span class="n">pick</span><span class="o">.</span><span class="n">resource_id</span><span class="p">:</span>
</span><span id="L-1223"><a href="#L-1223"><span class="linenos">1223</span></a>            <span class="n">arrival</span> <span class="o">=</span> <span class="n">arr</span>
</span><span id="L-1224"><a href="#L-1224"><span class="linenos">1224</span></a>            <span class="k">break</span>
</span><span id="L-1225"><a href="#L-1225"><span class="linenos">1225</span></a>
</span><span id="L-1226"><a href="#L-1226"><span class="linenos">1226</span></a>    <span class="k">return</span> <span class="n">arrival</span>
</span><span id="L-1227"><a href="#L-1227"><span class="linenos">1227</span></a>
</span><span id="L-1228"><a href="#L-1228"><span class="linenos">1228</span></a>
</span><span id="L-1229"><a href="#L-1229"><span class="linenos">1229</span></a><span class="k">def</span> <span class="nf">read_events</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1230"><a href="#L-1230"><span class="linenos">1230</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">Path</span><span class="p">):</span>
</span><span id="L-1231"><a href="#L-1231"><span class="linenos">1231</span></a>        <span class="n">filename</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</span><span id="L-1232"><a href="#L-1232"><span class="linenos">1232</span></a>    <span class="c1"># converting the obspy object into uquake objects</span>
</span><span id="L-1233"><a href="#L-1233"><span class="linenos">1233</span></a>
</span><span id="L-1234"><a href="#L-1234"><span class="linenos">1234</span></a>    <span class="n">cat</span> <span class="o">=</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">read_events</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-1235"><a href="#L-1235"><span class="linenos">1235</span></a>    <span class="n">mq_catalog</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">(</span><span class="n">obspy_obj</span><span class="o">=</span><span class="n">cat</span><span class="p">)</span>
</span><span id="L-1236"><a href="#L-1236"><span class="linenos">1236</span></a>
</span><span id="L-1237"><a href="#L-1237"><span class="linenos">1237</span></a>    <span class="k">return</span> <span class="n">mq_catalog</span>
</span><span id="L-1238"><a href="#L-1238"><span class="linenos">1238</span></a>
</span><span id="L-1239"><a href="#L-1239"><span class="linenos">1239</span></a>
</span><span id="L-1240"><a href="#L-1240"><span class="linenos">1240</span></a><span class="k">def</span> <span class="nf">break_down</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
</span><span id="L-1241"><a href="#L-1241"><span class="linenos">1241</span></a>    <span class="n">origin</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">origins</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-1242"><a href="#L-1242"><span class="linenos">1242</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;break_down: Here&#39;s what obspy reads:&quot;</span><span class="p">)</span>
</span><span id="L-1243"><a href="#L-1243"><span class="linenos">1243</span></a>    <span class="nb">print</span><span class="p">(</span><span class="n">origin</span><span class="p">)</span>
</span><span id="L-1244"><a href="#L-1244"><span class="linenos">1244</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;origin res id: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">origin</span><span class="o">.</span><span class="n">resource_id</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</span><span id="L-1245"><a href="#L-1245"><span class="linenos">1245</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;id(origin): </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nb">id</span><span class="p">(</span><span class="n">origin</span><span class="p">))</span>
</span><span id="L-1246"><a href="#L-1246"><span class="linenos">1246</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;id(origin.resource_id):</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nb">id</span><span class="p">(</span><span class="n">origin</span><span class="o">.</span><span class="n">resource_id</span><span class="p">))</span>
</span><span id="L-1247"><a href="#L-1247"><span class="linenos">1247</span></a>    <span class="n">ref_obj</span> <span class="o">=</span> <span class="n">origin</span><span class="o">.</span><span class="n">resource_id</span><span class="o">.</span><span class="n">get_referred_object</span><span class="p">()</span>
</span><span id="L-1248"><a href="#L-1248"><span class="linenos">1248</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;id(ref_obj):</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nb">id</span><span class="p">(</span><span class="n">ref_obj</span><span class="p">))</span>
</span><span id="L-1249"><a href="#L-1249"><span class="linenos">1249</span></a>
</span><span id="L-1250"><a href="#L-1250"><span class="linenos">1250</span></a>    <span class="k">return</span>
</span><span id="L-1251"><a href="#L-1251"><span class="linenos">1251</span></a>
</span><span id="L-1252"><a href="#L-1252"><span class="linenos">1252</span></a>
</span><span id="L-1253"><a href="#L-1253"><span class="linenos">1253</span></a><span class="c1"># MTH: this could(should?) be moved to waveforms/pick.py ??</span>
</span><span id="L-1254"><a href="#L-1254"><span class="linenos">1254</span></a><span class="k">def</span> <span class="nf">make_pick</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">wave_data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">snr</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;automatic&#39;</span><span class="p">,</span>
</span><span id="L-1255"><a href="#L-1255"><span class="linenos">1255</span></a>              <span class="n">status</span><span class="o">=</span><span class="s1">&#39;preliminary&#39;</span><span class="p">,</span> <span class="n">method_string</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-1256"><a href="#L-1256"><span class="linenos">1256</span></a>    <span class="n">this_pick</span> <span class="o">=</span> <span class="n">Pick</span><span class="p">()</span>
</span><span id="L-1257"><a href="#L-1257"><span class="linenos">1257</span></a>    <span class="n">this_pick</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="n">time</span>
</span><span id="L-1258"><a href="#L-1258"><span class="linenos">1258</span></a>    <span class="n">this_pick</span><span class="o">.</span><span class="n">phase_hint</span> <span class="o">=</span> <span class="n">phase</span>
</span><span id="L-1259"><a href="#L-1259"><span class="linenos">1259</span></a>    <span class="n">this_pick</span><span class="o">.</span><span class="n">evaluation_mode</span> <span class="o">=</span> <span class="n">mode</span>
</span><span id="L-1260"><a href="#L-1260"><span class="linenos">1260</span></a>    <span class="n">this_pick</span><span class="o">.</span><span class="n">evaluation_status</span> <span class="o">=</span> <span class="n">status</span>
</span><span id="L-1261"><a href="#L-1261"><span class="linenos">1261</span></a>
</span><span id="L-1262"><a href="#L-1262"><span class="linenos">1262</span></a>    <span class="n">this_pick</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="n">method_string</span>
</span><span id="L-1263"><a href="#L-1263"><span class="linenos">1263</span></a>    <span class="n">this_pick</span><span class="o">.</span><span class="n">snr</span> <span class="o">=</span> <span class="n">snr</span>
</span><span id="L-1264"><a href="#L-1264"><span class="linenos">1264</span></a>
</span><span id="L-1265"><a href="#L-1265"><span class="linenos">1265</span></a>    <span class="k">if</span> <span class="n">wave_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1266"><a href="#L-1266"><span class="linenos">1266</span></a>        <span class="n">this_pick</span><span class="o">.</span><span class="n">waveform_id</span> <span class="o">=</span> <span class="n">WaveformStreamID</span><span class="p">(</span>
</span><span id="L-1267"><a href="#L-1267"><span class="linenos">1267</span></a>            <span class="n">network_code</span><span class="o">=</span><span class="n">wave_data</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">network</span><span class="p">,</span>
</span><span id="L-1268"><a href="#L-1268"><span class="linenos">1268</span></a>            <span class="n">station_code</span><span class="o">=</span><span class="n">wave_data</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">station</span><span class="p">,</span>
</span><span id="L-1269"><a href="#L-1269"><span class="linenos">1269</span></a>            <span class="n">location_code</span><span class="o">=</span><span class="n">wave_data</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">location</span><span class="p">,</span>
</span><span id="L-1270"><a href="#L-1270"><span class="linenos">1270</span></a>            <span class="n">channel_code</span><span class="o">=</span><span class="n">wave_data</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">channel</span><span class="p">)</span>
</span><span id="L-1271"><a href="#L-1271"><span class="linenos">1271</span></a>
</span><span id="L-1272"><a href="#L-1272"><span class="linenos">1272</span></a>        <span class="n">this_pick</span><span class="o">.</span><span class="n">trace_id</span> <span class="o">=</span> <span class="n">wave_data</span><span class="o">.</span><span class="n">get_id</span><span class="p">()</span>
</span><span id="L-1273"><a href="#L-1273"><span class="linenos">1273</span></a>
</span><span id="L-1274"><a href="#L-1274"><span class="linenos">1274</span></a>    <span class="k">return</span> <span class="n">this_pick</span>
</span><span id="L-1275"><a href="#L-1275"><span class="linenos">1275</span></a>
</span><span id="L-1276"><a href="#L-1276"><span class="linenos">1276</span></a>
</span><span id="L-1277"><a href="#L-1277"><span class="linenos">1277</span></a><span class="k">def</span> <span class="nf">array_to_b64</span><span class="p">(</span><span class="n">array</span><span class="p">):</span>
</span><span id="L-1278"><a href="#L-1278"><span class="linenos">1278</span></a>    <span class="n">output</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">()</span>
</span><span id="L-1279"><a href="#L-1279"><span class="linenos">1279</span></a>    <span class="n">np</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="n">array</span><span class="p">)</span>
</span><span id="L-1280"><a href="#L-1280"><span class="linenos">1280</span></a>    <span class="n">content</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>
</span><span id="L-1281"><a href="#L-1281"><span class="linenos">1281</span></a>    <span class="n">encoded</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">content</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
</span><span id="L-1282"><a href="#L-1282"><span class="linenos">1282</span></a>    <span class="k">return</span> <span class="n">encoded</span>
</span><span id="L-1283"><a href="#L-1283"><span class="linenos">1283</span></a>
</span><span id="L-1284"><a href="#L-1284"><span class="linenos">1284</span></a>
</span><span id="L-1285"><a href="#L-1285"><span class="linenos">1285</span></a><span class="k">def</span> <span class="nf">isfloat</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
</span><span id="L-1286"><a href="#L-1286"><span class="linenos">1286</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="L-1287"><a href="#L-1287"><span class="linenos">1287</span></a>        <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span id="L-1288"><a href="#L-1288"><span class="linenos">1288</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-1289"><a href="#L-1289"><span class="linenos">1289</span></a>    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
</span><span id="L-1290"><a href="#L-1290"><span class="linenos">1290</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-1291"><a href="#L-1291"><span class="linenos">1291</span></a>
</span><span id="L-1292"><a href="#L-1292"><span class="linenos">1292</span></a>
</span><span id="L-1293"><a href="#L-1293"><span class="linenos">1293</span></a><span class="k">def</span> <span class="nf">b64_to_array</span><span class="p">(</span><span class="n">b64str</span><span class="p">):</span>
</span><span id="L-1294"><a href="#L-1294"><span class="linenos">1294</span></a>    <span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">b64str</span><span class="p">)))</span>
</span><span id="L-1295"><a href="#L-1295"><span class="linenos">1295</span></a>    <span class="k">return</span> <span class="n">arr</span>
</span><span id="L-1296"><a href="#L-1296"><span class="linenos">1296</span></a>
</span><span id="L-1297"><a href="#L-1297"><span class="linenos">1297</span></a>
</span><span id="L-1298"><a href="#L-1298"><span class="linenos">1298</span></a><span class="k">def</span> <span class="nf">pop_keys_matching</span><span class="p">(</span><span class="n">dict_in</span><span class="p">,</span> <span class="n">keys</span><span class="p">):</span>
</span><span id="L-1299"><a href="#L-1299"><span class="linenos">1299</span></a>    <span class="c1"># Move keys from dict_in to dict_out</span>
</span><span id="L-1300"><a href="#L-1300"><span class="linenos">1300</span></a>    <span class="n">dict_out</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-1301"><a href="#L-1301"><span class="linenos">1301</span></a>    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
</span><span id="L-1302"><a href="#L-1302"><span class="linenos">1302</span></a>        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">dict_in</span><span class="p">:</span>
</span><span id="L-1303"><a href="#L-1303"><span class="linenos">1303</span></a>            <span class="n">dict_out</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">dict_in</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</span><span id="L-1304"><a href="#L-1304"><span class="linenos">1304</span></a>    <span class="k">return</span> <span class="n">dict_out</span>
</span><span id="L-1305"><a href="#L-1305"><span class="linenos">1305</span></a>
</span><span id="L-1306"><a href="#L-1306"><span class="linenos">1306</span></a>
</span><span id="L-1307"><a href="#L-1307"><span class="linenos">1307</span></a><span class="k">def</span> <span class="nf">parse_string_val</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">arr_flag</span><span class="o">=</span><span class="s1">&#39;npy64_&#39;</span><span class="p">):</span>
</span><span id="L-1308"><a href="#L-1308"><span class="linenos">1308</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1309"><a href="#L-1309"><span class="linenos">1309</span></a><span class="sd">    Parse extra args in quakeML which are all stored as string.</span>
</span><span id="L-1310"><a href="#L-1310"><span class="linenos">1310</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1311"><a href="#L-1311"><span class="linenos">1311</span></a>    <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># hack for deepcopy ignoring isfloat try-except</span>
</span><span id="L-1312"><a href="#L-1312"><span class="linenos">1312</span></a>        <span class="n">val</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-1313"><a href="#L-1313"><span class="linenos">1313</span></a>    <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="o">==</span> <span class="n">AttribDict</span><span class="p">:</span>
</span><span id="L-1314"><a href="#L-1314"><span class="linenos">1314</span></a>        <span class="n">val</span> <span class="o">=</span> <span class="n">val</span>
</span><span id="L-1315"><a href="#L-1315"><span class="linenos">1315</span></a>    <span class="k">elif</span> <span class="n">isfloat</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
</span><span id="L-1316"><a href="#L-1316"><span class="linenos">1316</span></a>        <span class="n">val</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
</span><span id="L-1317"><a href="#L-1317"><span class="linenos">1317</span></a>    <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;None&#39;</span><span class="p">:</span>
</span><span id="L-1318"><a href="#L-1318"><span class="linenos">1318</span></a>        <span class="n">val</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-1319"><a href="#L-1319"><span class="linenos">1319</span></a>    <span class="k">elif</span> <span class="n">val</span><span class="p">[:</span><span class="nb">len</span><span class="p">(</span><span class="n">arr_flag</span><span class="p">)]</span> <span class="o">==</span> <span class="s1">&#39;npy64_&#39;</span><span class="p">:</span>
</span><span id="L-1320"><a href="#L-1320"><span class="linenos">1320</span></a>        <span class="n">val</span> <span class="o">=</span> <span class="n">b64_to_array</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">arr_flag</span><span class="p">):])</span>
</span><span id="L-1321"><a href="#L-1321"><span class="linenos">1321</span></a>    <span class="k">return</span> <span class="n">val</span>
</span><span id="L-1322"><a href="#L-1322"><span class="linenos">1322</span></a>
</span><span id="L-1323"><a href="#L-1323"><span class="linenos">1323</span></a>
</span><span id="L-1324"><a href="#L-1324"><span class="linenos">1324</span></a><span class="k">def</span> <span class="nf">_set_attr_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">):</span>
</span><span id="L-1325"><a href="#L-1325"><span class="linenos">1325</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1326"><a href="#L-1326"><span class="linenos">1326</span></a><span class="sd">    Generic handler to set attributes for uquake objects</span>
</span><span id="L-1327"><a href="#L-1327"><span class="linenos">1327</span></a><span class="sd">    which inherit from ObsPy objects. If &#39;name&#39; is not in</span>
</span><span id="L-1328"><a href="#L-1328"><span class="linenos">1328</span></a><span class="sd">    default keys then it will be set in self[&#39;extra&#39;] dict. If</span>
</span><span id="L-1329"><a href="#L-1329"><span class="linenos">1329</span></a><span class="sd">    &#39;name&#39; is not in default keys but in the self.extra_keys</span>
</span><span id="L-1330"><a href="#L-1330"><span class="linenos">1330</span></a><span class="sd">    then it will also be set as a class attribute. When loading</span>
</span><span id="L-1331"><a href="#L-1331"><span class="linenos">1331</span></a><span class="sd">    extra keys from quakeml file, those in self.extra_keys will</span>
</span><span id="L-1332"><a href="#L-1332"><span class="linenos">1332</span></a><span class="sd">    be set as attributes.</span>
</span><span id="L-1333"><a href="#L-1333"><span class="linenos">1333</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1334"><a href="#L-1334"><span class="linenos">1334</span></a>
</span><span id="L-1335"><a href="#L-1335"><span class="linenos">1335</span></a>    <span class="c1">#  use obspy default setattr for default keys</span>
</span><span id="L-1336"><a href="#L-1336"><span class="linenos">1336</span></a>    <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">defaults</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-1337"><a href="#L-1337"><span class="linenos">1337</span></a>        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-1338"><a href="#L-1338"><span class="linenos">1338</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">],</span> <span class="n">ResourceIdentifier</span><span class="p">):</span>
</span><span id="L-1339"><a href="#L-1339"><span class="linenos">1339</span></a>            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">ResourceIdentifier</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</span><span id="L-1340"><a href="#L-1340"><span class="linenos">1340</span></a>        <span class="c1"># super(type(self), self).__setattr__(name, value)</span>
</span><span id="L-1341"><a href="#L-1341"><span class="linenos">1341</span></a>    <span class="k">elif</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_keys</span><span class="p">:</span>
</span><span id="L-1342"><a href="#L-1342"><span class="linenos">1342</span></a>        <span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">():</span>
</span><span id="L-1343"><a href="#L-1343"><span class="linenos">1343</span></a>            <span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>
</span><span id="L-1344"><a href="#L-1344"><span class="linenos">1344</span></a>            <span class="bp">self</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-1345"><a href="#L-1345"><span class="linenos">1345</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
</span><span id="L-1346"><a href="#L-1346"><span class="linenos">1346</span></a>            <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;npy64_&quot;</span> <span class="o">+</span> <span class="n">array_to_b64</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span id="L-1347"><a href="#L-1347"><span class="linenos">1347</span></a>        <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-1348"><a href="#L-1348"><span class="linenos">1348</span></a>            <span class="k">if</span> <span class="s2">&quot;npy64_&quot;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
</span><span id="L-1349"><a href="#L-1349"><span class="linenos">1349</span></a>                <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;npy64_&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="L-1350"><a href="#L-1350"><span class="linenos">1350</span></a>                <span class="n">b64_to_array</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span id="L-1351"><a href="#L-1351"><span class="linenos">1351</span></a>        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s1">&#39;to_json&#39;</span><span class="p">):</span>
</span><span id="L-1352"><a href="#L-1352"><span class="linenos">1352</span></a>            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span>
</span><span id="L-1353"><a href="#L-1353"><span class="linenos">1353</span></a>        <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">][</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="n">value</span><span class="p">,</span> <span class="s1">&#39;namespace&#39;</span><span class="p">:</span> <span class="n">namespace</span><span class="p">}</span>
</span><span id="L-1354"><a href="#L-1354"><span class="linenos">1354</span></a>    <span class="c1"># recursive parse of &#39;extra&#39; args when constructing uquake from obspy</span>
</span><span id="L-1355"><a href="#L-1355"><span class="linenos">1355</span></a>    <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;extra&#39;</span><span class="p">:</span>
</span><span id="L-1356"><a href="#L-1356"><span class="linenos">1356</span></a>        <span class="k">if</span> <span class="s1">&#39;extra&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>  <span class="c1"># hack for deepcopy to work</span>
</span><span id="L-1357"><a href="#L-1357"><span class="linenos">1357</span></a>            <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-1358"><a href="#L-1358"><span class="linenos">1358</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1359"><a href="#L-1359"><span class="linenos">1359</span></a>            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">adict</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-1360"><a href="#L-1360"><span class="linenos">1360</span></a>                <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_keys</span><span class="p">:</span>
</span><span id="L-1361"><a href="#L-1361"><span class="linenos">1361</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">parse_string_val</span><span class="p">(</span><span class="n">adict</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</span><span id="L-1362"><a href="#L-1362"><span class="linenos">1362</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-1363"><a href="#L-1363"><span class="linenos">1363</span></a>                    <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">adict</span>
</span><span id="L-1364"><a href="#L-1364"><span class="linenos">1364</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-1365"><a href="#L-1365"><span class="linenos">1365</span></a>        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="L-1366"><a href="#L-1366"><span class="linenos">1366</span></a>
</span><span id="L-1367"><a href="#L-1367"><span class="linenos">1367</span></a>
</span><span id="L-1368"><a href="#L-1368"><span class="linenos">1368</span></a><span class="k">def</span> <span class="nf">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1369"><a href="#L-1369"><span class="linenos">1369</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1370"><a href="#L-1370"><span class="linenos">1370</span></a><span class="sd">    Handler to initialize uquake objects which</span>
</span><span id="L-1371"><a href="#L-1371"><span class="linenos">1371</span></a><span class="sd">    inherit from ObsPy class. If obspy_obj is none,</span>
</span><span id="L-1372"><a href="#L-1372"><span class="linenos">1372</span></a><span class="sd">    Kwargs is expected to be a mix of obspy kwargs</span>
</span><span id="L-1373"><a href="#L-1373"><span class="linenos">1373</span></a><span class="sd">    and uquake kwargs specified by the hardcoded</span>
</span><span id="L-1374"><a href="#L-1374"><span class="linenos">1374</span></a><span class="sd">    extra_keys.</span>
</span><span id="L-1375"><a href="#L-1375"><span class="linenos">1375</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1376"><a href="#L-1376"><span class="linenos">1376</span></a>
</span><span id="L-1377"><a href="#L-1377"><span class="linenos">1377</span></a>    <span class="k">if</span> <span class="n">obspy_obj</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-1378"><a href="#L-1378"><span class="linenos">1378</span></a>        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;Initialize from either </span><span class="se">\</span>
</span><span id="L-1379"><a href="#L-1379"><span class="linenos">1379</span></a><span class="s2">                              obspy_obj or kwargs, not both&quot;</span><span class="p">)</span>
</span><span id="L-1380"><a href="#L-1380"><span class="linenos">1380</span></a>
</span><span id="L-1381"><a href="#L-1381"><span class="linenos">1381</span></a>    <span class="c1"># default initialize the extra_keys args to None</span>
</span><span id="L-1382"><a href="#L-1382"><span class="linenos">1382</span></a>    <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-1383"><a href="#L-1383"><span class="linenos">1383</span></a>    <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_keys</span><span class="p">]</span>
</span><span id="L-1384"><a href="#L-1384"><span class="linenos">1384</span></a>
</span><span id="L-1385"><a href="#L-1385"><span class="linenos">1385</span></a>    <span class="k">if</span> <span class="n">obspy_obj</span><span class="p">:</span>
</span><span id="L-1386"><a href="#L-1386"><span class="linenos">1386</span></a>        <span class="n">_init_from_obspy_object</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">)</span>
</span><span id="L-1387"><a href="#L-1387"><span class="linenos">1387</span></a>
</span><span id="L-1388"><a href="#L-1388"><span class="linenos">1388</span></a>        <span class="k">if</span> <span class="s1">&#39;resource_id&#39;</span> <span class="ow">in</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-1389"><a href="#L-1389"><span class="linenos">1389</span></a>            <span class="n">rid</span> <span class="o">=</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">resource_id</span><span class="o">.</span><span class="n">id</span>
</span><span id="L-1390"><a href="#L-1390"><span class="linenos">1390</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">ResourceIdentifier</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">rid</span><span class="p">,</span>
</span><span id="L-1391"><a href="#L-1391"><span class="linenos">1391</span></a>                                                  <span class="n">referred_object</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-1392"><a href="#L-1392"><span class="linenos">1392</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-1393"><a href="#L-1393"><span class="linenos">1393</span></a>        <span class="n">extra_kwargs</span> <span class="o">=</span> <span class="n">pop_keys_matching</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_keys</span><span class="p">)</span>
</span><span id="L-1394"><a href="#L-1394"><span class="linenos">1394</span></a>        <span class="nb">super</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>  <span class="c1"># init obspy_origin args</span>
</span><span id="L-1395"><a href="#L-1395"><span class="linenos">1395</span></a>        <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">extra_kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>  <span class="c1"># init</span>
</span><span id="L-1396"><a href="#L-1396"><span class="linenos">1396</span></a>        <span class="c1"># extra_args</span>
</span><span id="L-1397"><a href="#L-1397"><span class="linenos">1397</span></a>
</span><span id="L-1398"><a href="#L-1398"><span class="linenos">1398</span></a>
</span><span id="L-1399"><a href="#L-1399"><span class="linenos">1399</span></a><span class="k">def</span> <span class="nf">_init_from_obspy_object</span><span class="p">(</span><span class="n">uquake_obj</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">):</span>
</span><span id="L-1400"><a href="#L-1400"><span class="linenos">1400</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1401"><a href="#L-1401"><span class="linenos">1401</span></a><span class="sd">    When initializing uquake object from obspy_obj</span>
</span><span id="L-1402"><a href="#L-1402"><span class="linenos">1402</span></a><span class="sd">    checks attributes for lists of obspy objects and</span>
</span><span id="L-1403"><a href="#L-1403"><span class="linenos">1403</span></a><span class="sd">    converts them to equivalent uquake objects.</span>
</span><span id="L-1404"><a href="#L-1404"><span class="linenos">1404</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1405"><a href="#L-1405"><span class="linenos">1405</span></a>
</span><span id="L-1406"><a href="#L-1406"><span class="linenos">1406</span></a>    <span class="n">class_equiv</span> <span class="o">=</span> <span class="p">{</span><span class="n">obsevent</span><span class="o">.</span><span class="n">event</span><span class="p">:</span> <span class="n">Event</span><span class="p">,</span>
</span><span id="L-1407"><a href="#L-1407"><span class="linenos">1407</span></a>                   <span class="n">obsevent</span><span class="o">.</span><span class="n">Pick</span><span class="p">:</span> <span class="n">Pick</span><span class="p">,</span>
</span><span id="L-1408"><a href="#L-1408"><span class="linenos">1408</span></a>                   <span class="n">obsevent</span><span class="o">.</span><span class="n">Arrival</span><span class="p">:</span> <span class="n">Arrival</span><span class="p">,</span>
</span><span id="L-1409"><a href="#L-1409"><span class="linenos">1409</span></a>                   <span class="n">obsevent</span><span class="o">.</span><span class="n">Origin</span><span class="p">:</span> <span class="n">Origin</span><span class="p">,</span>
</span><span id="L-1410"><a href="#L-1410"><span class="linenos">1410</span></a>                   <span class="n">obsevent</span><span class="o">.</span><span class="n">Magnitude</span><span class="p">:</span> <span class="n">Magnitude</span><span class="p">,</span>
</span><span id="L-1411"><a href="#L-1411"><span class="linenos">1411</span></a>                   <span class="n">obsevent</span><span class="o">.</span><span class="n">WaveformStreamID</span><span class="p">:</span> <span class="n">WaveformStreamID</span><span class="p">}</span>
</span><span id="L-1412"><a href="#L-1412"><span class="linenos">1412</span></a>
</span><span id="L-1413"><a href="#L-1413"><span class="linenos">1413</span></a>    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-1414"><a href="#L-1414"><span class="linenos">1414</span></a>        <span class="n">itype</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
</span><span id="L-1415"><a href="#L-1415"><span class="linenos">1415</span></a>        <span class="k">if</span> <span class="n">itype</span> <span class="ow">in</span> <span class="n">class_equiv</span><span class="p">:</span>
</span><span id="L-1416"><a href="#L-1416"><span class="linenos">1416</span></a>            <span class="n">uquake_obj</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">class_equiv</span><span class="p">[</span><span class="n">itype</span><span class="p">](</span><span class="n">val</span><span class="p">))</span>
</span><span id="L-1417"><a href="#L-1417"><span class="linenos">1417</span></a>
</span><span id="L-1418"><a href="#L-1418"><span class="linenos">1418</span></a>        <span class="k">elif</span> <span class="n">itype</span> <span class="o">==</span> <span class="nb">list</span><span class="p">:</span>
</span><span id="L-1419"><a href="#L-1419"><span class="linenos">1419</span></a>            <span class="n">out</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1420"><a href="#L-1420"><span class="linenos">1420</span></a>            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">val</span><span class="p">:</span>
</span><span id="L-1421"><a href="#L-1421"><span class="linenos">1421</span></a>                <span class="n">itype</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</span><span id="L-1422"><a href="#L-1422"><span class="linenos">1422</span></a>                <span class="k">if</span> <span class="n">itype</span> <span class="ow">in</span> <span class="n">class_equiv</span><span class="p">:</span>
</span><span id="L-1423"><a href="#L-1423"><span class="linenos">1423</span></a>                    <span class="n">out</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">class_equiv</span><span class="p">[</span><span class="n">itype</span><span class="p">](</span><span class="n">item</span><span class="p">))</span>
</span><span id="L-1424"><a href="#L-1424"><span class="linenos">1424</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-1425"><a href="#L-1425"><span class="linenos">1425</span></a>                    <span class="n">out</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</span><span id="L-1426"><a href="#L-1426"><span class="linenos">1426</span></a>            <span class="n">uquake_obj</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">out</span><span class="p">)</span>
</span><span id="L-1427"><a href="#L-1427"><span class="linenos">1427</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1428"><a href="#L-1428"><span class="linenos">1428</span></a>            <span class="n">uquake_obj</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
</span><span id="L-1429"><a href="#L-1429"><span class="linenos">1429</span></a>
</span><span id="L-1430"><a href="#L-1430"><span class="linenos">1430</span></a><span class="k">def</span> <span class="nf">calc_static_stress_drop</span><span class="p">(</span><span class="n">Mw</span><span class="p">,</span> <span class="n">fc</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="mf">3.5</span><span class="p">,</span> <span class="n">use_brune</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="L-1431"><a href="#L-1431"><span class="linenos">1431</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1432"><a href="#L-1432"><span class="linenos">1432</span></a><span class="sd">    Calculate static stress drop from moment/corner_freq relation</span>
</span><span id="L-1433"><a href="#L-1433"><span class="linenos">1433</span></a><span class="sd">    Note the brune model (instantaneous slip) gives stress drops ~ 8 x lower</span>
</span><span id="L-1434"><a href="#L-1434"><span class="linenos">1434</span></a><span class="sd">    than the Madariaga values for fcP, fcS</span>
</span><span id="L-1435"><a href="#L-1435"><span class="linenos">1435</span></a>
</span><span id="L-1436"><a href="#L-1436"><span class="linenos">1436</span></a><span class="sd">    :param Mw: moment magnitude</span>
</span><span id="L-1437"><a href="#L-1437"><span class="linenos">1437</span></a><span class="sd">    :type Mw: float</span>
</span><span id="L-1438"><a href="#L-1438"><span class="linenos">1438</span></a><span class="sd">    :param fc: corner frequency [Hz]</span>
</span><span id="L-1439"><a href="#L-1439"><span class="linenos">1439</span></a><span class="sd">    :type fc: float</span>
</span><span id="L-1440"><a href="#L-1440"><span class="linenos">1440</span></a><span class="sd">    :param phase: P or S phase</span>
</span><span id="L-1441"><a href="#L-1441"><span class="linenos">1441</span></a><span class="sd">    :type phase: string</span>
</span><span id="L-1442"><a href="#L-1442"><span class="linenos">1442</span></a><span class="sd">    :param v: P or S velocity [km/s] at source</span>
</span><span id="L-1443"><a href="#L-1443"><span class="linenos">1443</span></a><span class="sd">    :type v: float</span>
</span><span id="L-1444"><a href="#L-1444"><span class="linenos">1444</span></a><span class="sd">    :param use_brune: If true --&gt; use Brune&#39;s original scaling</span>
</span><span id="L-1445"><a href="#L-1445"><span class="linenos">1445</span></a><span class="sd">    :type use_brune: boolean</span>
</span><span id="L-1446"><a href="#L-1446"><span class="linenos">1446</span></a><span class="sd">    :returns: static stress drop [MPa]</span>
</span><span id="L-1447"><a href="#L-1447"><span class="linenos">1447</span></a><span class="sd">    :rtype: float</span>
</span><span id="L-1448"><a href="#L-1448"><span class="linenos">1448</span></a>
</span><span id="L-1449"><a href="#L-1449"><span class="linenos">1449</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1450"><a href="#L-1450"><span class="linenos">1450</span></a>
</span><span id="L-1451"><a href="#L-1451"><span class="linenos">1451</span></a>    <span class="k">if</span> <span class="n">use_brune</span><span class="p">:</span>  <span class="c1"># Use Brune scaling</span>
</span><span id="L-1452"><a href="#L-1452"><span class="linenos">1452</span></a>        <span class="n">c</span> <span class="o">=</span> <span class="mf">.375</span>
</span><span id="L-1453"><a href="#L-1453"><span class="linenos">1453</span></a>    <span class="k">else</span><span class="p">:</span>  <span class="c1"># Use Madariaga scaling</span>
</span><span id="L-1454"><a href="#L-1454"><span class="linenos">1454</span></a>        <span class="k">if</span> <span class="n">phase</span> <span class="o">==</span> <span class="s1">&#39;S&#39;</span><span class="p">:</span>
</span><span id="L-1455"><a href="#L-1455"><span class="linenos">1455</span></a>            <span class="n">c</span> <span class="o">=</span> <span class="mf">.21</span>
</span><span id="L-1456"><a href="#L-1456"><span class="linenos">1456</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1457"><a href="#L-1457"><span class="linenos">1457</span></a>            <span class="n">c</span> <span class="o">=</span> <span class="mf">.32</span>
</span><span id="L-1458"><a href="#L-1458"><span class="linenos">1458</span></a>
</span><span id="L-1459"><a href="#L-1459"><span class="linenos">1459</span></a>    <span class="n">v</span> <span class="o">*=</span> <span class="mf">1e5</span>  <span class="c1"># cm/s</span>
</span><span id="L-1460"><a href="#L-1460"><span class="linenos">1460</span></a>
</span><span id="L-1461"><a href="#L-1461"><span class="linenos">1461</span></a>    <span class="n">a</span> <span class="o">=</span> <span class="n">c</span> <span class="o">*</span> <span class="n">v</span> <span class="o">/</span> <span class="n">fc</span>  <span class="c1"># radius of circular fault from corner freq</span>
</span><span id="L-1462"><a href="#L-1462"><span class="linenos">1462</span></a>
</span><span id="L-1463"><a href="#L-1463"><span class="linenos">1463</span></a>    <span class="n">logM0</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">Mw</span> <span class="o">+</span> <span class="mf">9.1</span>  <span class="c1"># in N-m</span>
</span><span id="L-1464"><a href="#L-1464"><span class="linenos">1464</span></a>    <span class="n">M0</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">**</span> <span class="n">logM0</span> <span class="o">*</span> <span class="mf">1e7</span>  <span class="c1"># dyn-cm</span>
</span><span id="L-1465"><a href="#L-1465"><span class="linenos">1465</span></a>
</span><span id="L-1466"><a href="#L-1466"><span class="linenos">1466</span></a>    <span class="n">stress_drop</span> <span class="o">=</span> <span class="mf">7.</span> <span class="o">/</span> <span class="mf">16.</span> <span class="o">*</span> <span class="n">M0</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">a</span><span class="p">)</span> <span class="o">**</span> <span class="mi">3</span>  <span class="c1"># in dyn/cm^2</span>
</span><span id="L-1467"><a href="#L-1467"><span class="linenos">1467</span></a>    <span class="n">stress_drop</span> <span class="o">/=</span> <span class="mf">10.</span>  <span class="c1"># convert to Pa=N/m^2</span>
</span><span id="L-1468"><a href="#L-1468"><span class="linenos">1468</span></a>
</span><span id="L-1469"><a href="#L-1469"><span class="linenos">1469</span></a>    <span class="k">return</span> <span class="n">stress_drop</span> <span class="o">/</span> <span class="mf">1e6</span>  <span class="c1"># MPa</span>
</span><span id="L-1470"><a href="#L-1470"><span class="linenos">1470</span></a>
</span><span id="L-1471"><a href="#L-1471"><span class="linenos">1471</span></a>
</span><span id="L-1472"><a href="#L-1472"><span class="linenos">1472</span></a><span class="n">cos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span>
</span><span id="L-1473"><a href="#L-1473"><span class="linenos">1473</span></a><span class="n">sin</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span>
</span><span id="L-1474"><a href="#L-1474"><span class="linenos">1474</span></a><span class="n">degs2rad</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mf">180.</span>
</span></pre></div>


            </section>
                <section id="namespace">
                    <div class="attr variable">
            <span class="name">namespace</span>        =
<span class="default_value">&#39;https://microquake.ai/xml/event/1&#39;</span>

        
    </div>
    <a class="headerlink" href="#namespace"></a>
    
    

                </section>
                <section id="RayCollection">
                            <input id="RayCollection-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">RayCollection</span><wbr>(<span class="base">builtins.list</span>):

                <label class="view-source-button" for="RayCollection-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RayCollection"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RayCollection-55"><a href="#RayCollection-55"><span class="linenos">55</span></a><span class="k">class</span> <span class="nc">RayCollection</span><span class="p">(</span><span class="nb">list</span><span class="p">):</span>
</span><span id="RayCollection-56"><a href="#RayCollection-56"><span class="linenos">56</span></a>
</span><span id="RayCollection-57"><a href="#RayCollection-57"><span class="linenos">57</span></a>    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span><span id="RayCollection-58"><a href="#RayCollection-58"><span class="linenos">58</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">Ray</span><span class="p">):</span>
</span><span id="RayCollection-59"><a href="#RayCollection-59"><span class="linenos">59</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Only Ray objects can be appended to RayCollection&quot;</span><span class="p">)</span>
</span><span id="RayCollection-60"><a href="#RayCollection-60"><span class="linenos">60</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</span><span id="RayCollection-61"><a href="#RayCollection-61"><span class="linenos">61</span></a>
</span><span id="RayCollection-62"><a href="#RayCollection-62"><span class="linenos">62</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RayCollection-63"><a href="#RayCollection-63"><span class="linenos">63</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;RayCollection(</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span><span class="si">}</span><span class="s2">)&quot;</span>
</span><span id="RayCollection-64"><a href="#RayCollection-64"><span class="linenos">64</span></a>
</span><span id="RayCollection-65"><a href="#RayCollection-65"><span class="linenos">65</span></a>    <span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RayCollection-66"><a href="#RayCollection-66"><span class="linenos">66</span></a>        <span class="n">out_list</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="RayCollection-67"><a href="#RayCollection-67"><span class="linenos">67</span></a>        <span class="k">for</span> <span class="n">ray</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="RayCollection-68"><a href="#RayCollection-68"><span class="linenos">68</span></a>            <span class="n">out_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ray</span><span class="o">.</span><span class="n">to_json</span><span class="p">())</span>
</span><span id="RayCollection-69"><a href="#RayCollection-69"><span class="linenos">69</span></a>        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">out_list</span><span class="p">)</span>
</span><span id="RayCollection-70"><a href="#RayCollection-70"><span class="linenos">70</span></a>
</span><span id="RayCollection-71"><a href="#RayCollection-71"><span class="linenos">71</span></a>    <span class="nd">@classmethod</span>
</span><span id="RayCollection-72"><a href="#RayCollection-72"><span class="linenos">72</span></a>    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">encoded_rays</span><span class="p">):</span>
</span><span id="RayCollection-73"><a href="#RayCollection-73"><span class="linenos">73</span></a>        <span class="n">out_list</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
</span><span id="RayCollection-74"><a href="#RayCollection-74"><span class="linenos">74</span></a>        <span class="k">for</span> <span class="n">encoded_ray</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">encoded_rays</span><span class="p">):</span>
</span><span id="RayCollection-75"><a href="#RayCollection-75"><span class="linenos">75</span></a>            <span class="n">out_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Ray</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">encoded_ray</span><span class="p">))</span>
</span><span id="RayCollection-76"><a href="#RayCollection-76"><span class="linenos">76</span></a>        <span class="k">return</span> <span class="n">out_list</span>
</span></pre></div>


            <div class="docstring"><p>Built-in mutable sequence.</p>

<p>If no argument is given, the constructor creates a new empty list.
The argument must be an iterable if specified.</p>
</div>


                            <div id="RayCollection.append" class="classattr">
                                        <input id="RayCollection.append-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">append</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">item</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RayCollection.append-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RayCollection.append"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RayCollection.append-57"><a href="#RayCollection.append-57"><span class="linenos">57</span></a>    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span><span id="RayCollection.append-58"><a href="#RayCollection.append-58"><span class="linenos">58</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">Ray</span><span class="p">):</span>
</span><span id="RayCollection.append-59"><a href="#RayCollection.append-59"><span class="linenos">59</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Only Ray objects can be appended to RayCollection&quot;</span><span class="p">)</span>
</span><span id="RayCollection.append-60"><a href="#RayCollection.append-60"><span class="linenos">60</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Append object to the end of the list.</p>
</div>


                            </div>
                            <div id="RayCollection.to_json" class="classattr">
                                        <input id="RayCollection.to_json-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">to_json</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RayCollection.to_json-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RayCollection.to_json"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RayCollection.to_json-65"><a href="#RayCollection.to_json-65"><span class="linenos">65</span></a>    <span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RayCollection.to_json-66"><a href="#RayCollection.to_json-66"><span class="linenos">66</span></a>        <span class="n">out_list</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="RayCollection.to_json-67"><a href="#RayCollection.to_json-67"><span class="linenos">67</span></a>        <span class="k">for</span> <span class="n">ray</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="RayCollection.to_json-68"><a href="#RayCollection.to_json-68"><span class="linenos">68</span></a>            <span class="n">out_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ray</span><span class="o">.</span><span class="n">to_json</span><span class="p">())</span>
</span><span id="RayCollection.to_json-69"><a href="#RayCollection.to_json-69"><span class="linenos">69</span></a>        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">out_list</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="RayCollection.from_json" class="classattr">
                                        <input id="RayCollection.from_json-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">from_json</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span>, </span><span class="param"><span class="n">encoded_rays</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RayCollection.from_json-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RayCollection.from_json"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RayCollection.from_json-71"><a href="#RayCollection.from_json-71"><span class="linenos">71</span></a>    <span class="nd">@classmethod</span>
</span><span id="RayCollection.from_json-72"><a href="#RayCollection.from_json-72"><span class="linenos">72</span></a>    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">encoded_rays</span><span class="p">):</span>
</span><span id="RayCollection.from_json-73"><a href="#RayCollection.from_json-73"><span class="linenos">73</span></a>        <span class="n">out_list</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
</span><span id="RayCollection.from_json-74"><a href="#RayCollection.from_json-74"><span class="linenos">74</span></a>        <span class="k">for</span> <span class="n">encoded_ray</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">encoded_rays</span><span class="p">):</span>
</span><span id="RayCollection.from_json-75"><a href="#RayCollection.from_json-75"><span class="linenos">75</span></a>            <span class="n">out_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Ray</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">encoded_ray</span><span class="p">))</span>
</span><span id="RayCollection.from_json-76"><a href="#RayCollection.from_json-76"><span class="linenos">76</span></a>        <span class="k">return</span> <span class="n">out_list</span>
</span></pre></div>


    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>builtins.list</dt>
                                <dd id="RayCollection.__init__" class="function">list</dd>
                <dd id="RayCollection.clear" class="function">clear</dd>
                <dd id="RayCollection.copy" class="function">copy</dd>
                <dd id="RayCollection.insert" class="function">insert</dd>
                <dd id="RayCollection.extend" class="function">extend</dd>
                <dd id="RayCollection.pop" class="function">pop</dd>
                <dd id="RayCollection.remove" class="function">remove</dd>
                <dd id="RayCollection.index" class="function">index</dd>
                <dd id="RayCollection.count" class="function">count</dd>
                <dd id="RayCollection.reverse" class="function">reverse</dd>
                <dd id="RayCollection.sort" class="function">sort</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="Phase">
                            <input id="Phase-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Phase</span><wbr>(<span class="base">enum.Enum</span>):

                <label class="view-source-button" for="Phase-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Phase"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Phase-79"><a href="#Phase-79"><span class="linenos">79</span></a><span class="k">class</span> <span class="nc">Phase</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
</span><span id="Phase-80"><a href="#Phase-80"><span class="linenos">80</span></a>
</span><span id="Phase-81"><a href="#Phase-81"><span class="linenos">81</span></a>    <span class="n">P</span> <span class="o">=</span> <span class="s1">&#39;P&#39;</span>
</span><span id="Phase-82"><a href="#Phase-82"><span class="linenos">82</span></a>    <span class="n">S</span> <span class="o">=</span> <span class="s1">&#39;S&#39;</span>
</span><span id="Phase-83"><a href="#Phase-83"><span class="linenos">83</span></a>
</span><span id="Phase-84"><a href="#Phase-84"><span class="linenos">84</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Phase-85"><a href="#Phase-85"><span class="linenos">85</span></a>        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>An enumeration.</p>
</div>


                            <div id="Phase.P" class="classattr">
                                <div class="attr variable">
            <span class="name">P</span>        =
<span class="default_value">&lt;<a href="#Phase.P">Phase.P</a>: &#39;P&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Phase.P"></a>
    
    

                            </div>
                            <div id="Phase.S" class="classattr">
                                <div class="attr variable">
            <span class="name">S</span>        =
<span class="default_value">&lt;<a href="#Phase.S">Phase.S</a>: &#39;S&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Phase.S"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>enum.Enum</dt>
                                <dd id="Phase.name" class="variable">name</dd>
                <dd id="Phase.value" class="variable">value</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="Ray">
                            <input id="Ray-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Ray</span>:

                <label class="view-source-button" for="Ray-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Ray"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Ray-88"><a href="#Ray-88"><span class="linenos"> 88</span></a><span class="k">class</span> <span class="nc">Ray</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="Ray-89"><a href="#Ray-89"><span class="linenos"> 89</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Ray-90"><a href="#Ray-90"><span class="linenos"> 90</span></a><span class="sd">    Initializes a Ray object that represents a seismic raypath in a 3D medium.</span>
</span><span id="Ray-91"><a href="#Ray-91"><span class="linenos"> 91</span></a>
</span><span id="Ray-92"><a href="#Ray-92"><span class="linenos"> 92</span></a><span class="sd">    :param nodes: List of nodes defining the raypath geometry. Default is an empty list.</span>
</span><span id="Ray-93"><a href="#Ray-93"><span class="linenos"> 93</span></a><span class="sd">    :type nodes: list, optional</span>
</span><span id="Ray-94"><a href="#Ray-94"><span class="linenos"> 94</span></a><span class="sd">    :param waveform_id: Identifier for the associated waveform. Default is an empty</span>
</span><span id="Ray-95"><a href="#Ray-95"><span class="linenos"> 95</span></a><span class="sd">    WaveformStreamID.</span>
</span><span id="Ray-96"><a href="#Ray-96"><span class="linenos"> 96</span></a><span class="sd">    :type waveform_id: WaveformStreamID, optional</span>
</span><span id="Ray-97"><a href="#Ray-97"><span class="linenos"> 97</span></a><span class="sd">    :param arrival_id: Identifier for the associated seismic arrival. Default is None.</span>
</span><span id="Ray-98"><a href="#Ray-98"><span class="linenos"> 98</span></a><span class="sd">    :type arrival_id: ResourceIdentifier, optional</span>
</span><span id="Ray-99"><a href="#Ray-99"><span class="linenos"> 99</span></a><span class="sd">    :param phase: Type of seismic wave, either &quot;P&quot; for primary or &quot;S&quot; for secondary.</span>
</span><span id="Ray-100"><a href="#Ray-100"><span class="linenos">100</span></a><span class="sd">    Default is None.</span>
</span><span id="Ray-101"><a href="#Ray-101"><span class="linenos">101</span></a><span class="sd">    :type phase: str, optional</span>
</span><span id="Ray-102"><a href="#Ray-102"><span class="linenos">102</span></a><span class="sd">    :param travel_time: Travel time from the source to the observation location, in</span>
</span><span id="Ray-103"><a href="#Ray-103"><span class="linenos">103</span></a><span class="sd">    seconds.</span>
</span><span id="Ray-104"><a href="#Ray-104"><span class="linenos">104</span></a><span class="sd">    Default is None.</span>
</span><span id="Ray-105"><a href="#Ray-105"><span class="linenos">105</span></a><span class="sd">    :type travel_time: float, optional</span>
</span><span id="Ray-106"><a href="#Ray-106"><span class="linenos">106</span></a><span class="sd">    :param earth_model_id: Identifier for the Earth model used in ray tracing. Default is</span>
</span><span id="Ray-107"><a href="#Ray-107"><span class="linenos">107</span></a><span class="sd">    None.</span>
</span><span id="Ray-108"><a href="#Ray-108"><span class="linenos">108</span></a><span class="sd">    :type earth_model_id: ResourceIdentifier, optional</span>
</span><span id="Ray-109"><a href="#Ray-109"><span class="linenos">109</span></a><span class="sd">    :param coordinate_system: Coordinate system in which the ray nodes are defined.</span>
</span><span id="Ray-110"><a href="#Ray-110"><span class="linenos">110</span></a><span class="sd">    Default North East Down (NED).</span>
</span><span id="Ray-111"><a href="#Ray-111"><span class="linenos">111</span></a><span class="sd">    :type coordinate_system: CoordinateSystem, optional</span>
</span><span id="Ray-112"><a href="#Ray-112"><span class="linenos">112</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Ray-113"><a href="#Ray-113"><span class="linenos">113</span></a>
</span><span id="Ray-114"><a href="#Ray-114"><span class="linenos">114</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nodes</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
</span><span id="Ray-115"><a href="#Ray-115"><span class="linenos">115</span></a>                 <span class="n">waveform_id</span><span class="p">:</span> <span class="n">WaveformStreamID</span> <span class="o">=</span> <span class="n">WaveformStreamID</span><span class="p">(),</span>
</span><span id="Ray-116"><a href="#Ray-116"><span class="linenos">116</span></a>                 <span class="n">arrival_id</span><span class="p">:</span> <span class="n">ResourceIdentifier</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Ray-117"><a href="#Ray-117"><span class="linenos">117</span></a>                 <span class="n">phase</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span>
</span><span id="Ray-118"><a href="#Ray-118"><span class="linenos">118</span></a>                 <span class="n">travel_time</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Ray-119"><a href="#Ray-119"><span class="linenos">119</span></a>                 <span class="n">takeoff_angle</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Ray-120"><a href="#Ray-120"><span class="linenos">120</span></a>                 <span class="n">azimuth</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Ray-121"><a href="#Ray-121"><span class="linenos">121</span></a>                 <span class="n">velocity_model_id</span><span class="p">:</span> <span class="n">ResourceIdentifier</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Ray-122"><a href="#Ray-122"><span class="linenos">122</span></a>                 <span class="n">coordinate_system</span><span class="p">:</span> <span class="n">CoordinateSystem</span> <span class="o">=</span> <span class="n">CoordinateSystem</span><span class="o">.</span><span class="n">NED</span><span class="p">):</span>
</span><span id="Ray-123"><a href="#Ray-123"><span class="linenos">123</span></a>
</span><span id="Ray-124"><a href="#Ray-124"><span class="linenos">124</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">nodes</span><span class="p">)</span>
</span><span id="Ray-125"><a href="#Ray-125"><span class="linenos">125</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span> <span class="o">=</span> <span class="n">waveform_id</span>
</span><span id="Ray-126"><a href="#Ray-126"><span class="linenos">126</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">arrival_id</span> <span class="o">=</span> <span class="n">arrival_id</span>
</span><span id="Ray-127"><a href="#Ray-127"><span class="linenos">127</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">phase</span> <span class="o">=</span> <span class="n">Phase</span><span class="p">(</span><span class="n">phase</span><span class="p">)</span>
</span><span id="Ray-128"><a href="#Ray-128"><span class="linenos">128</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">travel_time</span> <span class="o">=</span> <span class="n">travel_time</span>
</span><span id="Ray-129"><a href="#Ray-129"><span class="linenos">129</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">ResourceIdentifier</span><span class="p">()</span>
</span><span id="Ray-130"><a href="#Ray-130"><span class="linenos">130</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">velocity_model_id</span> <span class="o">=</span> <span class="n">velocity_model_id</span>
</span><span id="Ray-131"><a href="#Ray-131"><span class="linenos">131</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span> <span class="o">=</span> <span class="n">coordinate_system</span>
</span><span id="Ray-132"><a href="#Ray-132"><span class="linenos">132</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">takeoff_angle</span> <span class="o">=</span> <span class="n">takeoff_angle</span>
</span><span id="Ray-133"><a href="#Ray-133"><span class="linenos">133</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span> <span class="o">=</span> <span class="n">azimuth</span>
</span><span id="Ray-134"><a href="#Ray-134"><span class="linenos">134</span></a>
</span><span id="Ray-135"><a href="#Ray-135"><span class="linenos">135</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="Ray-136"><a href="#Ray-136"><span class="linenos">136</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
</span><span id="Ray-137"><a href="#Ray-137"><span class="linenos">137</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="Ray-138"><a href="#Ray-138"><span class="linenos">138</span></a>
</span><span id="Ray-139"><a href="#Ray-139"><span class="linenos">139</span></a>        <span class="c1"># Compare nodes (assuming the same shape and numerical values)</span>
</span><span id="Ray-140"><a href="#Ray-140"><span class="linenos">140</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">array_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">nodes</span><span class="p">):</span>
</span><span id="Ray-141"><a href="#Ray-141"><span class="linenos">141</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="Ray-142"><a href="#Ray-142"><span class="linenos">142</span></a>
</span><span id="Ray-143"><a href="#Ray-143"><span class="linenos">143</span></a>        <span class="c1"># Compare other attributes</span>
</span><span id="Ray-144"><a href="#Ray-144"><span class="linenos">144</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">arrival_id</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">arrival_id</span> <span class="ow">or</span> \
</span><span id="Ray-145"><a href="#Ray-145"><span class="linenos">145</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">phase</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">phase</span> <span class="ow">or</span> \
</span><span id="Ray-146"><a href="#Ray-146"><span class="linenos">146</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">travel_time</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">travel_time</span> <span class="ow">or</span> \
</span><span id="Ray-147"><a href="#Ray-147"><span class="linenos">147</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">takeoff_angle</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">takeoff_angle</span> <span class="ow">or</span> \
</span><span id="Ray-148"><a href="#Ray-148"><span class="linenos">148</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">azimuth</span> <span class="ow">or</span> \
</span><span id="Ray-149"><a href="#Ray-149"><span class="linenos">149</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">velocity_model_id</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">velocity_model_id</span> <span class="ow">or</span> \
</span><span id="Ray-150"><a href="#Ray-150"><span class="linenos">150</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">coordinate_system</span> <span class="ow">or</span> \
</span><span id="Ray-151"><a href="#Ray-151"><span class="linenos">151</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">waveform_id</span><span class="p">:</span>
</span><span id="Ray-152"><a href="#Ray-152"><span class="linenos">152</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="Ray-153"><a href="#Ray-153"><span class="linenos">153</span></a>
</span><span id="Ray-154"><a href="#Ray-154"><span class="linenos">154</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="Ray-155"><a href="#Ray-155"><span class="linenos">155</span></a>
</span><span id="Ray-156"><a href="#Ray-156"><span class="linenos">156</span></a>    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="Ray-157"><a href="#Ray-157"><span class="linenos">157</span></a>        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;phase&#39;</span><span class="p">:</span>
</span><span id="Ray-158"><a href="#Ray-158"><span class="linenos">158</span></a>            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Ray-159"><a href="#Ray-159"><span class="linenos">159</span></a>                <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="Ray-160"><a href="#Ray-160"><span class="linenos">160</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Ray-161"><a href="#Ray-161"><span class="linenos">161</span></a>                <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="Ray-162"><a href="#Ray-162"><span class="linenos">162</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Ray-163"><a href="#Ray-163"><span class="linenos">163</span></a>            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="Ray-164"><a href="#Ray-164"><span class="linenos">164</span></a>
</span><span id="Ray-165"><a href="#Ray-165"><span class="linenos">165</span></a>    <span class="nd">@property</span>
</span><span id="Ray-166"><a href="#Ray-166"><span class="linenos">166</span></a>    <span class="k">def</span> <span class="nf">length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Ray-167"><a href="#Ray-167"><span class="linenos">167</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="Ray-168"><a href="#Ray-168"><span class="linenos">168</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="Ray-169"><a href="#Ray-169"><span class="linenos">169</span></a>
</span><span id="Ray-170"><a href="#Ray-170"><span class="linenos">170</span></a>        <span class="n">length</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Ray-171"><a href="#Ray-171"><span class="linenos">171</span></a>        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">node1</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]):</span>
</span><span id="Ray-172"><a href="#Ray-172"><span class="linenos">172</span></a>            <span class="n">node2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
</span><span id="Ray-173"><a href="#Ray-173"><span class="linenos">173</span></a>            <span class="n">length</span> <span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">node1</span> <span class="o">-</span> <span class="n">node2</span><span class="p">)</span>
</span><span id="Ray-174"><a href="#Ray-174"><span class="linenos">174</span></a>
</span><span id="Ray-175"><a href="#Ray-175"><span class="linenos">175</span></a>        <span class="k">return</span> <span class="n">length</span>
</span><span id="Ray-176"><a href="#Ray-176"><span class="linenos">176</span></a>
</span><span id="Ray-177"><a href="#Ray-177"><span class="linenos">177</span></a>    <span class="nd">@property</span>
</span><span id="Ray-178"><a href="#Ray-178"><span class="linenos">178</span></a>    <span class="k">def</span> <span class="nf">toa</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Ray-179"><a href="#Ray-179"><span class="linenos">179</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">takeoff_angle</span>
</span><span id="Ray-180"><a href="#Ray-180"><span class="linenos">180</span></a>
</span><span id="Ray-181"><a href="#Ray-181"><span class="linenos">181</span></a>    <span class="nd">@property</span>
</span><span id="Ray-182"><a href="#Ray-182"><span class="linenos">182</span></a>    <span class="k">def</span> <span class="nf">az</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Ray-183"><a href="#Ray-183"><span class="linenos">183</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span>
</span><span id="Ray-184"><a href="#Ray-184"><span class="linenos">184</span></a>
</span><span id="Ray-185"><a href="#Ray-185"><span class="linenos">185</span></a>    <span class="nd">@property</span>
</span><span id="Ray-186"><a href="#Ray-186"><span class="linenos">186</span></a>    <span class="k">def</span> <span class="nf">location</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Ray-187"><a href="#Ray-187"><span class="linenos">187</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">location</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="Ray-188"><a href="#Ray-188"><span class="linenos">188</span></a>
</span><span id="Ray-189"><a href="#Ray-189"><span class="linenos">189</span></a>    <span class="nd">@property</span>
</span><span id="Ray-190"><a href="#Ray-190"><span class="linenos">190</span></a>    <span class="k">def</span> <span class="nf">station</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Ray-191"><a href="#Ray-191"><span class="linenos">191</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">station_code</span>
</span><span id="Ray-192"><a href="#Ray-192"><span class="linenos">192</span></a>
</span><span id="Ray-193"><a href="#Ray-193"><span class="linenos">193</span></a>    <span class="nd">@property</span>
</span><span id="Ray-194"><a href="#Ray-194"><span class="linenos">194</span></a>    <span class="k">def</span> <span class="nf">location</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Ray-195"><a href="#Ray-195"><span class="linenos">195</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">location_code</span>
</span><span id="Ray-196"><a href="#Ray-196"><span class="linenos">196</span></a>
</span><span id="Ray-197"><a href="#Ray-197"><span class="linenos">197</span></a>    <span class="nd">@property</span>
</span><span id="Ray-198"><a href="#Ray-198"><span class="linenos">198</span></a>    <span class="k">def</span> <span class="nf">network</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Ray-199"><a href="#Ray-199"><span class="linenos">199</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">network_code</span>
</span><span id="Ray-200"><a href="#Ray-200"><span class="linenos">200</span></a>
</span><span id="Ray-201"><a href="#Ray-201"><span class="linenos">201</span></a>    <span class="nd">@property</span>
</span><span id="Ray-202"><a href="#Ray-202"><span class="linenos">202</span></a>    <span class="k">def</span> <span class="nf">back_azimuth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Ray-203"><a href="#Ray-203"><span class="linenos">203</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">baz</span>
</span><span id="Ray-204"><a href="#Ray-204"><span class="linenos">204</span></a>
</span><span id="Ray-205"><a href="#Ray-205"><span class="linenos">205</span></a>    <span class="nd">@property</span>
</span><span id="Ray-206"><a href="#Ray-206"><span class="linenos">206</span></a>    <span class="k">def</span> <span class="nf">earth_model_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Ray-207"><a href="#Ray-207"><span class="linenos">207</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">velocity_model_id</span>
</span><span id="Ray-208"><a href="#Ray-208"><span class="linenos">208</span></a>
</span><span id="Ray-209"><a href="#Ray-209"><span class="linenos">209</span></a>    <span class="k">def</span> <span class="nf">_vector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index1</span><span class="p">,</span> <span class="n">index2</span><span class="p">):</span>
</span><span id="Ray-210"><a href="#Ray-210"><span class="linenos">210</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the vector between two nodes based on coordinate system.&quot;&quot;&quot;</span>
</span><span id="Ray-211"><a href="#Ray-211"><span class="linenos">211</span></a>        <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">index2</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">index1</span><span class="p">]</span>
</span><span id="Ray-212"><a href="#Ray-212"><span class="linenos">212</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span> <span class="o">==</span> <span class="n">CoordinateSystem</span><span class="o">.</span><span class="n">NED</span><span class="p">:</span>
</span><span id="Ray-213"><a href="#Ray-213"><span class="linenos">213</span></a>            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="o">-</span><span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
</span><span id="Ray-214"><a href="#Ray-214"><span class="linenos">214</span></a>        <span class="k">return</span> <span class="n">v</span>
</span><span id="Ray-215"><a href="#Ray-215"><span class="linenos">215</span></a>
</span><span id="Ray-216"><a href="#Ray-216"><span class="linenos">216</span></a>    <span class="nd">@property</span>
</span><span id="Ray-217"><a href="#Ray-217"><span class="linenos">217</span></a>    <span class="k">def</span> <span class="nf">baz</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Ray-218"><a href="#Ray-218"><span class="linenos">218</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Back-azimuth in degrees.&quot;&quot;&quot;</span>
</span><span id="Ray-219"><a href="#Ray-219"><span class="linenos">219</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="Ray-220"><a href="#Ray-220"><span class="linenos">220</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="Ray-221"><a href="#Ray-221"><span class="linenos">221</span></a>        <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vector</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span id="Ray-222"><a href="#Ray-222"><span class="linenos">222</span></a>        <span class="n">baz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mi">180</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span>
</span><span id="Ray-223"><a href="#Ray-223"><span class="linenos">223</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">baz</span> <span class="o">+</span> <span class="mi">360</span><span class="p">)</span> <span class="o">%</span> <span class="mi">360</span>
</span><span id="Ray-224"><a href="#Ray-224"><span class="linenos">224</span></a>
</span><span id="Ray-225"><a href="#Ray-225"><span class="linenos">225</span></a>    <span class="nd">@property</span>
</span><span id="Ray-226"><a href="#Ray-226"><span class="linenos">226</span></a>    <span class="k">def</span> <span class="nf">incidence_angle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Ray-227"><a href="#Ray-227"><span class="linenos">227</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Incidence angle in degrees.&quot;&quot;&quot;</span>
</span><span id="Ray-228"><a href="#Ray-228"><span class="linenos">228</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="Ray-229"><a href="#Ray-229"><span class="linenos">229</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="Ray-230"><a href="#Ray-230"><span class="linenos">230</span></a>        <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vector</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span id="Ray-231"><a href="#Ray-231"><span class="linenos">231</span></a>        <span class="n">h</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="Ray-232"><a href="#Ray-232"><span class="linenos">232</span></a>        <span class="n">ia</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">*</span> <span class="mi">180</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span>
</span><span id="Ray-233"><a href="#Ray-233"><span class="linenos">233</span></a>        <span class="k">return</span> <span class="n">ia</span>
</span><span id="Ray-234"><a href="#Ray-234"><span class="linenos">234</span></a>
</span><span id="Ray-235"><a href="#Ray-235"><span class="linenos">235</span></a>    <span class="k">def</span> <span class="nf">to_pick</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">origin_time</span><span class="p">):</span>
</span><span id="Ray-236"><a href="#Ray-236"><span class="linenos">236</span></a>        <span class="n">time</span> <span class="o">=</span> <span class="n">origin_time</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">travel_time</span>
</span><span id="Ray-237"><a href="#Ray-237"><span class="linenos">237</span></a>        <span class="n">waveform_id</span> <span class="o">=</span> <span class="n">WaveformStreamID</span><span class="p">(</span><span class="n">network_code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">network</span><span class="p">,</span>
</span><span id="Ray-238"><a href="#Ray-238"><span class="linenos">238</span></a>                                       <span class="n">station_code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">station</span><span class="p">,</span>
</span><span id="Ray-239"><a href="#Ray-239"><span class="linenos">239</span></a>                                       <span class="n">location_code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">location</span><span class="p">)</span>
</span><span id="Ray-240"><a href="#Ray-240"><span class="linenos">240</span></a>
</span><span id="Ray-241"><a href="#Ray-241"><span class="linenos">241</span></a>        <span class="n">method_id</span> <span class="o">=</span> <span class="n">ResourceIdentifier</span><span class="p">(</span><span class="s1">&#39;predicted from rays&#39;</span><span class="p">)</span>
</span><span id="Ray-242"><a href="#Ray-242"><span class="linenos">242</span></a>        <span class="k">return</span> <span class="n">Pick</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="n">time</span><span class="p">,</span> <span class="n">waveform_id</span><span class="o">=</span><span class="n">waveform_id</span><span class="p">,</span> <span class="n">method_id</span><span class="o">=</span><span class="n">method_id</span><span class="p">,</span>
</span><span id="Ray-243"><a href="#Ray-243"><span class="linenos">243</span></a>                    <span class="n">back_azimuth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">back_azimuth</span><span class="p">,</span> <span class="n">phase_hint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">phase</span><span class="p">,</span>
</span><span id="Ray-244"><a href="#Ray-244"><span class="linenos">244</span></a>                    <span class="n">evaluation_mode</span><span class="o">=</span><span class="s1">&#39;automatic&#39;</span><span class="p">,</span>
</span><span id="Ray-245"><a href="#Ray-245"><span class="linenos">245</span></a>                    <span class="n">evaluation_status</span><span class="o">=</span><span class="s1">&#39;preliminary&#39;</span><span class="p">)</span>
</span><span id="Ray-246"><a href="#Ray-246"><span class="linenos">246</span></a>
</span><span id="Ray-247"><a href="#Ray-247"><span class="linenos">247</span></a>    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Ray-248"><a href="#Ray-248"><span class="linenos">248</span></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span>
</span><span id="Ray-249"><a href="#Ray-249"><span class="linenos">249</span></a>
</span><span id="Ray-250"><a href="#Ray-250"><span class="linenos">250</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Ray-251"><a href="#Ray-251"><span class="linenos">251</span></a>
</span><span id="Ray-252"><a href="#Ray-252"><span class="linenos">252</span></a>        <span class="n">stream_code</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">network_code</span><span class="si">}</span><span class="s1">.&#39;</span> \
</span><span id="Ray-253"><a href="#Ray-253"><span class="linenos">253</span></a>                      <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">station_code</span><span class="si">}</span><span class="s1">.&#39;</span> \
</span><span id="Ray-254"><a href="#Ray-254"><span class="linenos">254</span></a>                      <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">location_code</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="Ray-255"><a href="#Ray-255"><span class="linenos">255</span></a>
</span><span id="Ray-256"><a href="#Ray-256"><span class="linenos">256</span></a>        <span class="n">txt</span> <span class="o">=</span> \
</span><span id="Ray-257"><a href="#Ray-257"><span class="linenos">257</span></a>            <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="Ray-258"><a href="#Ray-258"><span class="linenos">258</span></a><span class="s2">         stream code: </span><span class="si">{</span><span class="n">stream_code</span><span class="si">}</span>
</span><span id="Ray-259"><a href="#Ray-259"><span class="linenos">259</span></a><span class="s2">          arrival id: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">arrival_id</span><span class="si">}</span>
</span><span id="Ray-260"><a href="#Ray-260"><span class="linenos">260</span></a><span class="s2">               phase: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">phase</span><span class="si">}</span>
</span><span id="Ray-261"><a href="#Ray-261"><span class="linenos">261</span></a><span class="s2">          length (m): </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">length</span><span class="si">:</span><span class="s2">0.1f</span><span class="si">}</span>
</span><span id="Ray-262"><a href="#Ray-262"><span class="linenos">262</span></a><span class="s2">     number of nodes: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span><span class="si">}</span>
</span><span id="Ray-263"><a href="#Ray-263"><span class="linenos">263</span></a><span class="s2">            &quot;&quot;&quot;</span>
</span><span id="Ray-264"><a href="#Ray-264"><span class="linenos">264</span></a>        <span class="k">return</span> <span class="n">txt</span>
</span><span id="Ray-265"><a href="#Ray-265"><span class="linenos">265</span></a>
</span><span id="Ray-266"><a href="#Ray-266"><span class="linenos">266</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Ray-267"><a href="#Ray-267"><span class="linenos">267</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
</span><span id="Ray-268"><a href="#Ray-268"><span class="linenos">268</span></a>
</span><span id="Ray-269"><a href="#Ray-269"><span class="linenos">269</span></a>    <span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Ray-270"><a href="#Ray-270"><span class="linenos">270</span></a>        <span class="n">obj_dict</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Ray-271"><a href="#Ray-271"><span class="linenos">271</span></a>            <span class="s1">&#39;nodes&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span>
</span><span id="Ray-272"><a href="#Ray-272"><span class="linenos">272</span></a>            <span class="s1">&#39;waveform_id&#39;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="Ray-273"><a href="#Ray-273"><span class="linenos">273</span></a>                <span class="s1">&#39;network_code&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">network_code</span><span class="p">,</span>
</span><span id="Ray-274"><a href="#Ray-274"><span class="linenos">274</span></a>                <span class="s1">&#39;station_code&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">station_code</span><span class="p">,</span>
</span><span id="Ray-275"><a href="#Ray-275"><span class="linenos">275</span></a>                <span class="s1">&#39;channel_code&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">channel_code</span><span class="p">,</span>
</span><span id="Ray-276"><a href="#Ray-276"><span class="linenos">276</span></a>                <span class="s1">&#39;location_code&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">location_code</span><span class="p">,</span>
</span><span id="Ray-277"><a href="#Ray-277"><span class="linenos">277</span></a>                <span class="s1">&#39;resource_uri&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">resource_uri</span><span class="p">)</span>
</span><span id="Ray-278"><a href="#Ray-278"><span class="linenos">278</span></a>            <span class="p">},</span>
</span><span id="Ray-279"><a href="#Ray-279"><span class="linenos">279</span></a>            <span class="s1">&#39;arrival_id&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arrival_id</span><span class="p">),</span>
</span><span id="Ray-280"><a href="#Ray-280"><span class="linenos">280</span></a>            <span class="s1">&#39;phase&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">phase</span><span class="p">),</span>
</span><span id="Ray-281"><a href="#Ray-281"><span class="linenos">281</span></a>            <span class="s1">&#39;travel_time&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">travel_time</span><span class="p">,</span>
</span><span id="Ray-282"><a href="#Ray-282"><span class="linenos">282</span></a>            <span class="s1">&#39;resource_id&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="p">),</span>
</span><span id="Ray-283"><a href="#Ray-283"><span class="linenos">283</span></a>            <span class="s1">&#39;velocity_model_id&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">velocity_model_id</span><span class="p">),</span>
</span><span id="Ray-284"><a href="#Ray-284"><span class="linenos">284</span></a>            <span class="s1">&#39;coordinate_system&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span><span class="p">),</span>
</span><span id="Ray-285"><a href="#Ray-285"><span class="linenos">285</span></a>            <span class="s1">&#39;takeoff_angle&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">takeoff_angle</span><span class="p">,</span>
</span><span id="Ray-286"><a href="#Ray-286"><span class="linenos">286</span></a>            <span class="s1">&#39;azimuth&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span>
</span><span id="Ray-287"><a href="#Ray-287"><span class="linenos">287</span></a>        <span class="p">}</span>
</span><span id="Ray-288"><a href="#Ray-288"><span class="linenos">288</span></a>        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">obj_dict</span><span class="p">)</span>
</span><span id="Ray-289"><a href="#Ray-289"><span class="linenos">289</span></a>
</span><span id="Ray-290"><a href="#Ray-290"><span class="linenos">290</span></a>    <span class="nd">@classmethod</span>
</span><span id="Ray-291"><a href="#Ray-291"><span class="linenos">291</span></a>    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">json_str</span><span class="p">):</span>
</span><span id="Ray-292"><a href="#Ray-292"><span class="linenos">292</span></a>        <span class="n">obj_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>
</span><span id="Ray-293"><a href="#Ray-293"><span class="linenos">293</span></a>        <span class="n">nodes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;nodes&#39;</span><span class="p">])</span>
</span><span id="Ray-294"><a href="#Ray-294"><span class="linenos">294</span></a>        <span class="n">waveform_id_dict</span> <span class="o">=</span> <span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;waveform_id&#39;</span><span class="p">]</span>
</span><span id="Ray-295"><a href="#Ray-295"><span class="linenos">295</span></a>        <span class="n">waveform_id</span> <span class="o">=</span> <span class="n">WaveformStreamID</span><span class="p">(</span><span class="n">network_code</span><span class="o">=</span><span class="n">waveform_id_dict</span><span class="p">[</span><span class="s1">&#39;network_code&#39;</span><span class="p">],</span>
</span><span id="Ray-296"><a href="#Ray-296"><span class="linenos">296</span></a>                                       <span class="n">station_code</span><span class="o">=</span><span class="n">waveform_id_dict</span><span class="p">[</span><span class="s1">&#39;station_code&#39;</span><span class="p">],</span>
</span><span id="Ray-297"><a href="#Ray-297"><span class="linenos">297</span></a>                                       <span class="n">channel_code</span><span class="o">=</span><span class="n">waveform_id_dict</span><span class="p">[</span><span class="s1">&#39;channel_code&#39;</span><span class="p">],</span>
</span><span id="Ray-298"><a href="#Ray-298"><span class="linenos">298</span></a>                                       <span class="n">location_code</span><span class="o">=</span><span class="n">waveform_id_dict</span><span class="p">[</span><span class="s1">&#39;location_code&#39;</span><span class="p">],</span>
</span><span id="Ray-299"><a href="#Ray-299"><span class="linenos">299</span></a>                                       <span class="n">resource_uri</span><span class="o">=</span><span class="n">ResourceIdentifier</span><span class="p">(</span>
</span><span id="Ray-300"><a href="#Ray-300"><span class="linenos">300</span></a>                                           <span class="n">waveform_id_dict</span><span class="p">[</span><span class="s1">&#39;resource_uri&#39;</span><span class="p">]))</span>
</span><span id="Ray-301"><a href="#Ray-301"><span class="linenos">301</span></a>        <span class="n">arrival_id</span> <span class="o">=</span> <span class="n">ResourceIdentifier</span><span class="p">(</span><span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;arrival_id&#39;</span><span class="p">])</span>
</span><span id="Ray-302"><a href="#Ray-302"><span class="linenos">302</span></a>        <span class="n">phase</span> <span class="o">=</span> <span class="n">Phase</span><span class="p">(</span><span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;phase&#39;</span><span class="p">])</span>
</span><span id="Ray-303"><a href="#Ray-303"><span class="linenos">303</span></a>        <span class="n">travel_time</span> <span class="o">=</span> <span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;travel_time&#39;</span><span class="p">]</span>
</span><span id="Ray-304"><a href="#Ray-304"><span class="linenos">304</span></a>        <span class="n">velocity_model_id</span> <span class="o">=</span> <span class="n">ResourceIdentifier</span><span class="p">(</span><span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;velocity_model_id&#39;</span><span class="p">])</span>
</span><span id="Ray-305"><a href="#Ray-305"><span class="linenos">305</span></a>        <span class="n">coordinate_system</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">CoordinateSystem</span><span class="p">,</span> <span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;coordinate_system&#39;</span><span class="p">])</span>
</span><span id="Ray-306"><a href="#Ray-306"><span class="linenos">306</span></a>        <span class="n">takeoff_angle</span> <span class="o">=</span> <span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;takeoff_angle&#39;</span><span class="p">]</span>
</span><span id="Ray-307"><a href="#Ray-307"><span class="linenos">307</span></a>        <span class="n">azimuth</span> <span class="o">=</span> <span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;azimuth&#39;</span><span class="p">]</span>
</span><span id="Ray-308"><a href="#Ray-308"><span class="linenos">308</span></a>
</span><span id="Ray-309"><a href="#Ray-309"><span class="linenos">309</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span> <span class="n">waveform_id</span><span class="p">,</span> <span class="n">arrival_id</span><span class="p">,</span> <span class="n">phase</span><span class="p">,</span> <span class="n">travel_time</span><span class="p">,</span>
</span><span id="Ray-310"><a href="#Ray-310"><span class="linenos">310</span></a>                   <span class="n">takeoff_angle</span><span class="p">,</span> <span class="n">azimuth</span><span class="p">,</span> <span class="n">velocity_model_id</span><span class="p">,</span> <span class="n">coordinate_system</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Initializes a Ray object that represents a seismic raypath in a 3D medium.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>nodes</strong>:  List of nodes defining the raypath geometry. Default is an empty list.</li>
<li><strong>waveform_id</strong>:  Identifier for the associated waveform. Default is an empty
WaveformStreamID.</li>
<li><strong>arrival_id</strong>:  Identifier for the associated seismic arrival. Default is None.</li>
<li><strong>phase</strong>:  Type of seismic wave, either "P" for primary or "S" for secondary.
Default is None.</li>
<li><strong>travel_time</strong>:  Travel time from the source to the observation location, in
seconds.
Default is None.</li>
<li><strong>earth_model_id</strong>:  Identifier for the Earth model used in ray tracing. Default is
None.</li>
<li><strong>coordinate_system</strong>:  Coordinate system in which the ray nodes are defined.
Default North East Down (NED).</li>
</ul>
</div>


                            <div id="Ray.__init__" class="classattr">
                                        <input id="Ray.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Ray</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">nodes</span><span class="p">:</span> <span class="nb">list</span>,</span><span class="param">	<span class="n">waveform_id</span><span class="p">:</span> <span class="n">obspy</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">WaveformStreamID</span> <span class="o">=</span> <span class="n">WaveformStreamID</span><span class="p">()</span>,</span><span class="param">	<span class="n">arrival_id</span><span class="p">:</span> <span class="n">obspy</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">resourceid</span><span class="o">.</span><span class="n">ResourceIdentifier</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">phase</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;P&#39;</span>,</span><span class="param">	<span class="n">travel_time</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">takeoff_angle</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">azimuth</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">velocity_model_id</span><span class="p">:</span> <span class="n">obspy</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">resourceid</span><span class="o">.</span><span class="n">ResourceIdentifier</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">coordinate_system</span><span class="p">:</span> <span class="n"><a href="coordinates.html#CoordinateSystem">uquake.core.coordinates.CoordinateSystem</a></span> <span class="o">=</span> <span class="n">North</span><span class="p">,</span> <span class="n">East</span><span class="p">,</span> <span class="n">Down</span> <span class="p">(</span><span class="n">NED</span><span class="p">)</span></span>)</span>

                <label class="view-source-button" for="Ray.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Ray.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Ray.__init__-114"><a href="#Ray.__init__-114"><span class="linenos">114</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nodes</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
</span><span id="Ray.__init__-115"><a href="#Ray.__init__-115"><span class="linenos">115</span></a>                 <span class="n">waveform_id</span><span class="p">:</span> <span class="n">WaveformStreamID</span> <span class="o">=</span> <span class="n">WaveformStreamID</span><span class="p">(),</span>
</span><span id="Ray.__init__-116"><a href="#Ray.__init__-116"><span class="linenos">116</span></a>                 <span class="n">arrival_id</span><span class="p">:</span> <span class="n">ResourceIdentifier</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Ray.__init__-117"><a href="#Ray.__init__-117"><span class="linenos">117</span></a>                 <span class="n">phase</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span>
</span><span id="Ray.__init__-118"><a href="#Ray.__init__-118"><span class="linenos">118</span></a>                 <span class="n">travel_time</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Ray.__init__-119"><a href="#Ray.__init__-119"><span class="linenos">119</span></a>                 <span class="n">takeoff_angle</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Ray.__init__-120"><a href="#Ray.__init__-120"><span class="linenos">120</span></a>                 <span class="n">azimuth</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Ray.__init__-121"><a href="#Ray.__init__-121"><span class="linenos">121</span></a>                 <span class="n">velocity_model_id</span><span class="p">:</span> <span class="n">ResourceIdentifier</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Ray.__init__-122"><a href="#Ray.__init__-122"><span class="linenos">122</span></a>                 <span class="n">coordinate_system</span><span class="p">:</span> <span class="n">CoordinateSystem</span> <span class="o">=</span> <span class="n">CoordinateSystem</span><span class="o">.</span><span class="n">NED</span><span class="p">):</span>
</span><span id="Ray.__init__-123"><a href="#Ray.__init__-123"><span class="linenos">123</span></a>
</span><span id="Ray.__init__-124"><a href="#Ray.__init__-124"><span class="linenos">124</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">nodes</span><span class="p">)</span>
</span><span id="Ray.__init__-125"><a href="#Ray.__init__-125"><span class="linenos">125</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span> <span class="o">=</span> <span class="n">waveform_id</span>
</span><span id="Ray.__init__-126"><a href="#Ray.__init__-126"><span class="linenos">126</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">arrival_id</span> <span class="o">=</span> <span class="n">arrival_id</span>
</span><span id="Ray.__init__-127"><a href="#Ray.__init__-127"><span class="linenos">127</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">phase</span> <span class="o">=</span> <span class="n">Phase</span><span class="p">(</span><span class="n">phase</span><span class="p">)</span>
</span><span id="Ray.__init__-128"><a href="#Ray.__init__-128"><span class="linenos">128</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">travel_time</span> <span class="o">=</span> <span class="n">travel_time</span>
</span><span id="Ray.__init__-129"><a href="#Ray.__init__-129"><span class="linenos">129</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">ResourceIdentifier</span><span class="p">()</span>
</span><span id="Ray.__init__-130"><a href="#Ray.__init__-130"><span class="linenos">130</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">velocity_model_id</span> <span class="o">=</span> <span class="n">velocity_model_id</span>
</span><span id="Ray.__init__-131"><a href="#Ray.__init__-131"><span class="linenos">131</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span> <span class="o">=</span> <span class="n">coordinate_system</span>
</span><span id="Ray.__init__-132"><a href="#Ray.__init__-132"><span class="linenos">132</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">takeoff_angle</span> <span class="o">=</span> <span class="n">takeoff_angle</span>
</span><span id="Ray.__init__-133"><a href="#Ray.__init__-133"><span class="linenos">133</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span> <span class="o">=</span> <span class="n">azimuth</span>
</span></pre></div>


    

                            </div>
                            <div id="Ray.nodes" class="classattr">
                                <div class="attr variable">
            <span class="name">nodes</span>

        
    </div>
    <a class="headerlink" href="#Ray.nodes"></a>
    
    

                            </div>
                            <div id="Ray.waveform_id" class="classattr">
                                <div class="attr variable">
            <span class="name">waveform_id</span>

        
    </div>
    <a class="headerlink" href="#Ray.waveform_id"></a>
    
    

                            </div>
                            <div id="Ray.arrival_id" class="classattr">
                                <div class="attr variable">
            <span class="name">arrival_id</span>

        
    </div>
    <a class="headerlink" href="#Ray.arrival_id"></a>
    
    

                            </div>
                            <div id="Ray.phase" class="classattr">
                                <div class="attr variable">
            <span class="name">phase</span>

        
    </div>
    <a class="headerlink" href="#Ray.phase"></a>
    
    

                            </div>
                            <div id="Ray.travel_time" class="classattr">
                                <div class="attr variable">
            <span class="name">travel_time</span>

        
    </div>
    <a class="headerlink" href="#Ray.travel_time"></a>
    
    

                            </div>
                            <div id="Ray.resource_id" class="classattr">
                                <div class="attr variable">
            <span class="name">resource_id</span>

        
    </div>
    <a class="headerlink" href="#Ray.resource_id"></a>
    
    

                            </div>
                            <div id="Ray.velocity_model_id" class="classattr">
                                <div class="attr variable">
            <span class="name">velocity_model_id</span>

        
    </div>
    <a class="headerlink" href="#Ray.velocity_model_id"></a>
    
    

                            </div>
                            <div id="Ray.coordinate_system" class="classattr">
                                <div class="attr variable">
            <span class="name">coordinate_system</span>

        
    </div>
    <a class="headerlink" href="#Ray.coordinate_system"></a>
    
    

                            </div>
                            <div id="Ray.takeoff_angle" class="classattr">
                                <div class="attr variable">
            <span class="name">takeoff_angle</span>

        
    </div>
    <a class="headerlink" href="#Ray.takeoff_angle"></a>
    
    

                            </div>
                            <div id="Ray.azimuth" class="classattr">
                                <div class="attr variable">
            <span class="name">azimuth</span>

        
    </div>
    <a class="headerlink" href="#Ray.azimuth"></a>
    
    

                            </div>
                            <div id="Ray.length" class="classattr">
                                <div class="attr variable">
            <span class="name">length</span>

        
    </div>
    <a class="headerlink" href="#Ray.length"></a>
    
    

                            </div>
                            <div id="Ray.toa" class="classattr">
                                <div class="attr variable">
            <span class="name">toa</span>

        
    </div>
    <a class="headerlink" href="#Ray.toa"></a>
    
    

                            </div>
                            <div id="Ray.az" class="classattr">
                                <div class="attr variable">
            <span class="name">az</span>

        
    </div>
    <a class="headerlink" href="#Ray.az"></a>
    
    

                            </div>
                            <div id="Ray.location" class="classattr">
                                <div class="attr variable">
            <span class="name">location</span>

        
    </div>
    <a class="headerlink" href="#Ray.location"></a>
    
    

                            </div>
                            <div id="Ray.station" class="classattr">
                                <div class="attr variable">
            <span class="name">station</span>

        
    </div>
    <a class="headerlink" href="#Ray.station"></a>
    
    

                            </div>
                            <div id="Ray.network" class="classattr">
                                <div class="attr variable">
            <span class="name">network</span>

        
    </div>
    <a class="headerlink" href="#Ray.network"></a>
    
    

                            </div>
                            <div id="Ray.back_azimuth" class="classattr">
                                <div class="attr variable">
            <span class="name">back_azimuth</span>

        
    </div>
    <a class="headerlink" href="#Ray.back_azimuth"></a>
    
    

                            </div>
                            <div id="Ray.earth_model_id" class="classattr">
                                <div class="attr variable">
            <span class="name">earth_model_id</span>

        
    </div>
    <a class="headerlink" href="#Ray.earth_model_id"></a>
    
    

                            </div>
                            <div id="Ray.baz" class="classattr">
                                <div class="attr variable">
            <span class="name">baz</span>

        
    </div>
    <a class="headerlink" href="#Ray.baz"></a>
    
            <div class="docstring"><p>Back-azimuth in degrees.</p>
</div>


                            </div>
                            <div id="Ray.incidence_angle" class="classattr">
                                <div class="attr variable">
            <span class="name">incidence_angle</span>

        
    </div>
    <a class="headerlink" href="#Ray.incidence_angle"></a>
    
            <div class="docstring"><p>Incidence angle in degrees.</p>
</div>


                            </div>
                            <div id="Ray.to_pick" class="classattr">
                                        <input id="Ray.to_pick-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">to_pick</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">origin_time</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Ray.to_pick-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Ray.to_pick"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Ray.to_pick-235"><a href="#Ray.to_pick-235"><span class="linenos">235</span></a>    <span class="k">def</span> <span class="nf">to_pick</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">origin_time</span><span class="p">):</span>
</span><span id="Ray.to_pick-236"><a href="#Ray.to_pick-236"><span class="linenos">236</span></a>        <span class="n">time</span> <span class="o">=</span> <span class="n">origin_time</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">travel_time</span>
</span><span id="Ray.to_pick-237"><a href="#Ray.to_pick-237"><span class="linenos">237</span></a>        <span class="n">waveform_id</span> <span class="o">=</span> <span class="n">WaveformStreamID</span><span class="p">(</span><span class="n">network_code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">network</span><span class="p">,</span>
</span><span id="Ray.to_pick-238"><a href="#Ray.to_pick-238"><span class="linenos">238</span></a>                                       <span class="n">station_code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">station</span><span class="p">,</span>
</span><span id="Ray.to_pick-239"><a href="#Ray.to_pick-239"><span class="linenos">239</span></a>                                       <span class="n">location_code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">location</span><span class="p">)</span>
</span><span id="Ray.to_pick-240"><a href="#Ray.to_pick-240"><span class="linenos">240</span></a>
</span><span id="Ray.to_pick-241"><a href="#Ray.to_pick-241"><span class="linenos">241</span></a>        <span class="n">method_id</span> <span class="o">=</span> <span class="n">ResourceIdentifier</span><span class="p">(</span><span class="s1">&#39;predicted from rays&#39;</span><span class="p">)</span>
</span><span id="Ray.to_pick-242"><a href="#Ray.to_pick-242"><span class="linenos">242</span></a>        <span class="k">return</span> <span class="n">Pick</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="n">time</span><span class="p">,</span> <span class="n">waveform_id</span><span class="o">=</span><span class="n">waveform_id</span><span class="p">,</span> <span class="n">method_id</span><span class="o">=</span><span class="n">method_id</span><span class="p">,</span>
</span><span id="Ray.to_pick-243"><a href="#Ray.to_pick-243"><span class="linenos">243</span></a>                    <span class="n">back_azimuth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">back_azimuth</span><span class="p">,</span> <span class="n">phase_hint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">phase</span><span class="p">,</span>
</span><span id="Ray.to_pick-244"><a href="#Ray.to_pick-244"><span class="linenos">244</span></a>                    <span class="n">evaluation_mode</span><span class="o">=</span><span class="s1">&#39;automatic&#39;</span><span class="p">,</span>
</span><span id="Ray.to_pick-245"><a href="#Ray.to_pick-245"><span class="linenos">245</span></a>                    <span class="n">evaluation_status</span><span class="o">=</span><span class="s1">&#39;preliminary&#39;</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="Ray.to_json" class="classattr">
                                        <input id="Ray.to_json-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">to_json</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Ray.to_json-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Ray.to_json"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Ray.to_json-269"><a href="#Ray.to_json-269"><span class="linenos">269</span></a>    <span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Ray.to_json-270"><a href="#Ray.to_json-270"><span class="linenos">270</span></a>        <span class="n">obj_dict</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Ray.to_json-271"><a href="#Ray.to_json-271"><span class="linenos">271</span></a>            <span class="s1">&#39;nodes&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span>
</span><span id="Ray.to_json-272"><a href="#Ray.to_json-272"><span class="linenos">272</span></a>            <span class="s1">&#39;waveform_id&#39;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="Ray.to_json-273"><a href="#Ray.to_json-273"><span class="linenos">273</span></a>                <span class="s1">&#39;network_code&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">network_code</span><span class="p">,</span>
</span><span id="Ray.to_json-274"><a href="#Ray.to_json-274"><span class="linenos">274</span></a>                <span class="s1">&#39;station_code&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">station_code</span><span class="p">,</span>
</span><span id="Ray.to_json-275"><a href="#Ray.to_json-275"><span class="linenos">275</span></a>                <span class="s1">&#39;channel_code&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">channel_code</span><span class="p">,</span>
</span><span id="Ray.to_json-276"><a href="#Ray.to_json-276"><span class="linenos">276</span></a>                <span class="s1">&#39;location_code&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">location_code</span><span class="p">,</span>
</span><span id="Ray.to_json-277"><a href="#Ray.to_json-277"><span class="linenos">277</span></a>                <span class="s1">&#39;resource_uri&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">resource_uri</span><span class="p">)</span>
</span><span id="Ray.to_json-278"><a href="#Ray.to_json-278"><span class="linenos">278</span></a>            <span class="p">},</span>
</span><span id="Ray.to_json-279"><a href="#Ray.to_json-279"><span class="linenos">279</span></a>            <span class="s1">&#39;arrival_id&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arrival_id</span><span class="p">),</span>
</span><span id="Ray.to_json-280"><a href="#Ray.to_json-280"><span class="linenos">280</span></a>            <span class="s1">&#39;phase&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">phase</span><span class="p">),</span>
</span><span id="Ray.to_json-281"><a href="#Ray.to_json-281"><span class="linenos">281</span></a>            <span class="s1">&#39;travel_time&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">travel_time</span><span class="p">,</span>
</span><span id="Ray.to_json-282"><a href="#Ray.to_json-282"><span class="linenos">282</span></a>            <span class="s1">&#39;resource_id&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="p">),</span>
</span><span id="Ray.to_json-283"><a href="#Ray.to_json-283"><span class="linenos">283</span></a>            <span class="s1">&#39;velocity_model_id&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">velocity_model_id</span><span class="p">),</span>
</span><span id="Ray.to_json-284"><a href="#Ray.to_json-284"><span class="linenos">284</span></a>            <span class="s1">&#39;coordinate_system&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span><span class="p">),</span>
</span><span id="Ray.to_json-285"><a href="#Ray.to_json-285"><span class="linenos">285</span></a>            <span class="s1">&#39;takeoff_angle&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">takeoff_angle</span><span class="p">,</span>
</span><span id="Ray.to_json-286"><a href="#Ray.to_json-286"><span class="linenos">286</span></a>            <span class="s1">&#39;azimuth&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span>
</span><span id="Ray.to_json-287"><a href="#Ray.to_json-287"><span class="linenos">287</span></a>        <span class="p">}</span>
</span><span id="Ray.to_json-288"><a href="#Ray.to_json-288"><span class="linenos">288</span></a>        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">obj_dict</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="Ray.from_json" class="classattr">
                                        <input id="Ray.from_json-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">from_json</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span>, </span><span class="param"><span class="n">json_str</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Ray.from_json-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Ray.from_json"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Ray.from_json-290"><a href="#Ray.from_json-290"><span class="linenos">290</span></a>    <span class="nd">@classmethod</span>
</span><span id="Ray.from_json-291"><a href="#Ray.from_json-291"><span class="linenos">291</span></a>    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">json_str</span><span class="p">):</span>
</span><span id="Ray.from_json-292"><a href="#Ray.from_json-292"><span class="linenos">292</span></a>        <span class="n">obj_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>
</span><span id="Ray.from_json-293"><a href="#Ray.from_json-293"><span class="linenos">293</span></a>        <span class="n">nodes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;nodes&#39;</span><span class="p">])</span>
</span><span id="Ray.from_json-294"><a href="#Ray.from_json-294"><span class="linenos">294</span></a>        <span class="n">waveform_id_dict</span> <span class="o">=</span> <span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;waveform_id&#39;</span><span class="p">]</span>
</span><span id="Ray.from_json-295"><a href="#Ray.from_json-295"><span class="linenos">295</span></a>        <span class="n">waveform_id</span> <span class="o">=</span> <span class="n">WaveformStreamID</span><span class="p">(</span><span class="n">network_code</span><span class="o">=</span><span class="n">waveform_id_dict</span><span class="p">[</span><span class="s1">&#39;network_code&#39;</span><span class="p">],</span>
</span><span id="Ray.from_json-296"><a href="#Ray.from_json-296"><span class="linenos">296</span></a>                                       <span class="n">station_code</span><span class="o">=</span><span class="n">waveform_id_dict</span><span class="p">[</span><span class="s1">&#39;station_code&#39;</span><span class="p">],</span>
</span><span id="Ray.from_json-297"><a href="#Ray.from_json-297"><span class="linenos">297</span></a>                                       <span class="n">channel_code</span><span class="o">=</span><span class="n">waveform_id_dict</span><span class="p">[</span><span class="s1">&#39;channel_code&#39;</span><span class="p">],</span>
</span><span id="Ray.from_json-298"><a href="#Ray.from_json-298"><span class="linenos">298</span></a>                                       <span class="n">location_code</span><span class="o">=</span><span class="n">waveform_id_dict</span><span class="p">[</span><span class="s1">&#39;location_code&#39;</span><span class="p">],</span>
</span><span id="Ray.from_json-299"><a href="#Ray.from_json-299"><span class="linenos">299</span></a>                                       <span class="n">resource_uri</span><span class="o">=</span><span class="n">ResourceIdentifier</span><span class="p">(</span>
</span><span id="Ray.from_json-300"><a href="#Ray.from_json-300"><span class="linenos">300</span></a>                                           <span class="n">waveform_id_dict</span><span class="p">[</span><span class="s1">&#39;resource_uri&#39;</span><span class="p">]))</span>
</span><span id="Ray.from_json-301"><a href="#Ray.from_json-301"><span class="linenos">301</span></a>        <span class="n">arrival_id</span> <span class="o">=</span> <span class="n">ResourceIdentifier</span><span class="p">(</span><span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;arrival_id&#39;</span><span class="p">])</span>
</span><span id="Ray.from_json-302"><a href="#Ray.from_json-302"><span class="linenos">302</span></a>        <span class="n">phase</span> <span class="o">=</span> <span class="n">Phase</span><span class="p">(</span><span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;phase&#39;</span><span class="p">])</span>
</span><span id="Ray.from_json-303"><a href="#Ray.from_json-303"><span class="linenos">303</span></a>        <span class="n">travel_time</span> <span class="o">=</span> <span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;travel_time&#39;</span><span class="p">]</span>
</span><span id="Ray.from_json-304"><a href="#Ray.from_json-304"><span class="linenos">304</span></a>        <span class="n">velocity_model_id</span> <span class="o">=</span> <span class="n">ResourceIdentifier</span><span class="p">(</span><span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;velocity_model_id&#39;</span><span class="p">])</span>
</span><span id="Ray.from_json-305"><a href="#Ray.from_json-305"><span class="linenos">305</span></a>        <span class="n">coordinate_system</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">CoordinateSystem</span><span class="p">,</span> <span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;coordinate_system&#39;</span><span class="p">])</span>
</span><span id="Ray.from_json-306"><a href="#Ray.from_json-306"><span class="linenos">306</span></a>        <span class="n">takeoff_angle</span> <span class="o">=</span> <span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;takeoff_angle&#39;</span><span class="p">]</span>
</span><span id="Ray.from_json-307"><a href="#Ray.from_json-307"><span class="linenos">307</span></a>        <span class="n">azimuth</span> <span class="o">=</span> <span class="n">obj_dict</span><span class="p">[</span><span class="s1">&#39;azimuth&#39;</span><span class="p">]</span>
</span><span id="Ray.from_json-308"><a href="#Ray.from_json-308"><span class="linenos">308</span></a>
</span><span id="Ray.from_json-309"><a href="#Ray.from_json-309"><span class="linenos">309</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span> <span class="n">waveform_id</span><span class="p">,</span> <span class="n">arrival_id</span><span class="p">,</span> <span class="n">phase</span><span class="p">,</span> <span class="n">travel_time</span><span class="p">,</span>
</span><span id="Ray.from_json-310"><a href="#Ray.from_json-310"><span class="linenos">310</span></a>                   <span class="n">takeoff_angle</span><span class="p">,</span> <span class="n">azimuth</span><span class="p">,</span> <span class="n">velocity_model_id</span><span class="p">,</span> <span class="n">coordinate_system</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                </section>
                <section id="Catalog">
                            <input id="Catalog-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator">@update_doc</div>

    <span class="def">class</span>
    <span class="name">Catalog</span><wbr>(<span class="base">obspy.core.event.catalog.Catalog</span>):

                <label class="view-source-button" for="Catalog-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Catalog"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Catalog-313"><a href="#Catalog-313"><span class="linenos">313</span></a><span class="nd">@update_doc</span>
</span><span id="Catalog-314"><a href="#Catalog-314"><span class="linenos">314</span></a><span class="k">class</span> <span class="nc">Catalog</span><span class="p">(</span><span class="n">obsevent</span><span class="o">.</span><span class="n">Catalog</span><span class="p">):</span>
</span><span id="Catalog-315"><a href="#Catalog-315"><span class="linenos">315</span></a>    <span class="n">extra_keys</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Catalog-316"><a href="#Catalog-316"><span class="linenos">316</span></a>    <span class="n">extra</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Catalog-317"><a href="#Catalog-317"><span class="linenos">317</span></a>
</span><span id="Catalog-318"><a href="#Catalog-318"><span class="linenos">318</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Catalog-319"><a href="#Catalog-319"><span class="linenos">319</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">events</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Catalog-320"><a href="#Catalog-320"><span class="linenos">320</span></a>        <span class="k">if</span> <span class="n">obspy_obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Catalog-321"><a href="#Catalog-321"><span class="linenos">321</span></a>            <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Catalog-322"><a href="#Catalog-322"><span class="linenos">322</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Catalog-323"><a href="#Catalog-323"><span class="linenos">323</span></a>            <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">events</span><span class="p">:</span>
</span><span id="Catalog-324"><a href="#Catalog-324"><span class="linenos">324</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Event</span><span class="p">(</span><span class="n">obspy_obj</span><span class="o">=</span><span class="n">event</span><span class="p">))</span>
</span><span id="Catalog-325"><a href="#Catalog-325"><span class="linenos">325</span></a>
</span><span id="Catalog-326"><a href="#Catalog-326"><span class="linenos">326</span></a>    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="Catalog-327"><a href="#Catalog-327"><span class="linenos">327</span></a>        <span class="nb">super</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="Catalog-328"><a href="#Catalog-328"><span class="linenos">328</span></a>
</span><span id="Catalog-329"><a href="#Catalog-329"><span class="linenos">329</span></a>    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="Catalog-330"><a href="#Catalog-330"><span class="linenos">330</span></a>        <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="Catalog-331"><a href="#Catalog-331"><span class="linenos">331</span></a>
</span><span id="Catalog-332"><a href="#Catalog-332"><span class="linenos">332</span></a>    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fileobj</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;quakeml&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Catalog-333"><a href="#Catalog-333"><span class="linenos">333</span></a>        <span class="n">event_type_lookup</span> <span class="o">=</span> <span class="n">EventTypeLookup</span><span class="p">()</span>
</span><span id="Catalog-334"><a href="#Catalog-334"><span class="linenos">334</span></a>        <span class="n">type_lookup</span> <span class="o">=</span> <span class="n">event_type_lookup</span><span class="o">.</span><span class="n">lookup_table</span>
</span><span id="Catalog-335"><a href="#Catalog-335"><span class="linenos">335</span></a>        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">:</span>
</span><span id="Catalog-336"><a href="#Catalog-336"><span class="linenos">336</span></a>            <span class="k">if</span> <span class="n">event_type_lookup</span><span class="o">.</span><span class="n">is_valid_uquakeml</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">event_type</span><span class="p">):</span>
</span><span id="Catalog-337"><a href="#Catalog-337"><span class="linenos">337</span></a>                <span class="n">event</span><span class="o">.</span><span class="n">event_type</span> <span class="o">=</span> <span class="n">type_lookup</span><span class="p">[</span><span class="n">event</span><span class="o">.</span><span class="n">event_type</span><span class="p">]</span>
</span><span id="Catalog-338"><a href="#Catalog-338"><span class="linenos">338</span></a>            <span class="k">for</span> <span class="n">ori</span> <span class="ow">in</span> <span class="n">event</span><span class="o">.</span><span class="n">origins</span><span class="p">:</span>
</span><span id="Catalog-339"><a href="#Catalog-339"><span class="linenos">339</span></a>                <span class="k">for</span> <span class="n">ar</span> <span class="ow">in</span> <span class="n">ori</span><span class="o">.</span><span class="n">arrivals</span><span class="p">:</span>
</span><span id="Catalog-340"><a href="#Catalog-340"><span class="linenos">340</span></a>                    <span class="k">if</span> <span class="s1">&#39;extra&#39;</span> <span class="ow">in</span> <span class="n">ar</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Catalog-341"><a href="#Catalog-341"><span class="linenos">341</span></a>                        <span class="k">del</span> <span class="n">ar</span><span class="o">.</span><span class="n">extra</span>
</span><span id="Catalog-342"><a href="#Catalog-342"><span class="linenos">342</span></a>
</span><span id="Catalog-343"><a href="#Catalog-343"><span class="linenos">343</span></a>        <span class="k">if</span> <span class="nb">format</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;QUAKEML&#39;</span><span class="p">:</span>
</span><span id="Catalog-344"><a href="#Catalog-344"><span class="linenos">344</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">Catalog</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fileobj</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span>
</span><span id="Catalog-345"><a href="#Catalog-345"><span class="linenos">345</span></a>                                            <span class="n">nsmap</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;mq&#39;</span><span class="p">:</span> <span class="n">namespace</span><span class="p">},</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Catalog-346"><a href="#Catalog-346"><span class="linenos">346</span></a>
</span><span id="Catalog-347"><a href="#Catalog-347"><span class="linenos">347</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Catalog-348"><a href="#Catalog-348"><span class="linenos">348</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">Catalog</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fileobj</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Catalog-349"><a href="#Catalog-349"><span class="linenos">349</span></a>
</span><span id="Catalog-350"><a href="#Catalog-350"><span class="linenos">350</span></a>        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">:</span>
</span><span id="Catalog-351"><a href="#Catalog-351"><span class="linenos">351</span></a>            <span class="k">for</span> <span class="n">ori</span> <span class="ow">in</span> <span class="n">event</span><span class="o">.</span><span class="n">origins</span><span class="p">:</span>
</span><span id="Catalog-352"><a href="#Catalog-352"><span class="linenos">352</span></a>                <span class="n">ars</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Catalog-353"><a href="#Catalog-353"><span class="linenos">353</span></a>                <span class="k">for</span> <span class="n">ar</span> <span class="ow">in</span> <span class="n">ori</span><span class="o">.</span><span class="n">arrivals</span><span class="p">:</span>
</span><span id="Catalog-354"><a href="#Catalog-354"><span class="linenos">354</span></a>                    <span class="n">ars</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Arrival</span><span class="p">(</span><span class="n">obspy_obj</span><span class="o">=</span><span class="n">ar</span><span class="p">))</span>
</span><span id="Catalog-355"><a href="#Catalog-355"><span class="linenos">355</span></a>                <span class="n">ori</span><span class="o">.</span><span class="n">arrivals</span> <span class="o">=</span> <span class="n">ars</span>
</span><span id="Catalog-356"><a href="#Catalog-356"><span class="linenos">356</span></a>
</span><span id="Catalog-357"><a href="#Catalog-357"><span class="linenos">357</span></a>
</span><span id="Catalog-358"><a href="#Catalog-358"><span class="linenos">358</span></a>
</span><span id="Catalog-359"><a href="#Catalog-359"><span class="linenos">359</span></a>        <span class="k">return</span> <span class="n">result</span>
</span><span id="Catalog-360"><a href="#Catalog-360"><span class="linenos">360</span></a>
</span><span id="Catalog-361"><a href="#Catalog-361"><span class="linenos">361</span></a>    <span class="k">def</span> <span class="nf">duplicate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Catalog-362"><a href="#Catalog-362"><span class="linenos">362</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Catalog-363"><a href="#Catalog-363"><span class="linenos">363</span></a><span class="sd">        this function duplicates a catalog object, this function does not</span>
</span><span id="Catalog-364"><a href="#Catalog-364"><span class="linenos">364</span></a><span class="sd">        duplicate picks. It creates an object containing multiple event</span>
</span><span id="Catalog-365"><a href="#Catalog-365"><span class="linenos">365</span></a><span class="sd">        containing each one origin and one magnitude.</span>
</span><span id="Catalog-366"><a href="#Catalog-366"><span class="linenos">366</span></a><span class="sd">        :return: a new catalog object</span>
</span><span id="Catalog-367"><a href="#Catalog-367"><span class="linenos">367</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Catalog-368"><a href="#Catalog-368"><span class="linenos">368</span></a>
</span><span id="Catalog-369"><a href="#Catalog-369"><span class="linenos">369</span></a>        <span class="n">new_events</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Catalog-370"><a href="#Catalog-370"><span class="linenos">370</span></a>        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">:</span>
</span><span id="Catalog-371"><a href="#Catalog-371"><span class="linenos">371</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">origins</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Catalog-372"><a href="#Catalog-372"><span class="linenos">372</span></a>                <span class="n">new_origins</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Catalog-373"><a href="#Catalog-373"><span class="linenos">373</span></a>                <span class="n">preferred_origin_id</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Catalog-374"><a href="#Catalog-374"><span class="linenos">374</span></a>
</span><span id="Catalog-375"><a href="#Catalog-375"><span class="linenos">375</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Catalog-376"><a href="#Catalog-376"><span class="linenos">376</span></a>                <span class="n">new_origins</span> <span class="o">=</span> <span class="p">[</span><span class="n">event</span><span class="o">.</span><span class="n">preferred_origin</span><span class="p">()</span> <span class="ow">or</span> <span class="n">event</span><span class="o">.</span><span class="n">origins</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
</span><span id="Catalog-377"><a href="#Catalog-377"><span class="linenos">377</span></a>
</span><span id="Catalog-378"><a href="#Catalog-378"><span class="linenos">378</span></a>                <span class="n">preferred_origin_id</span> <span class="o">=</span> <span class="n">ResourceIdentifier</span><span class="p">()</span>
</span><span id="Catalog-379"><a href="#Catalog-379"><span class="linenos">379</span></a>                <span class="n">new_origins</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">preferred_origin_id</span>
</span><span id="Catalog-380"><a href="#Catalog-380"><span class="linenos">380</span></a>                <span class="n">new_origins</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">arrivals</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Catalog-381"><a href="#Catalog-381"><span class="linenos">381</span></a>                <span class="n">new_rays</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Catalog-382"><a href="#Catalog-382"><span class="linenos">382</span></a>                <span class="k">for</span> <span class="n">ray</span> <span class="ow">in</span> <span class="n">new_origins</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">rays</span><span class="p">:</span>
</span><span id="Catalog-383"><a href="#Catalog-383"><span class="linenos">383</span></a>                    <span class="n">ray</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">ResourceIdentifier</span><span class="p">()</span>
</span><span id="Catalog-384"><a href="#Catalog-384"><span class="linenos">384</span></a>                    <span class="n">new_rays</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ray</span><span class="p">)</span>
</span><span id="Catalog-385"><a href="#Catalog-385"><span class="linenos">385</span></a>                <span class="n">new_origins</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">rays</span> <span class="o">=</span> <span class="n">new_rays</span>
</span><span id="Catalog-386"><a href="#Catalog-386"><span class="linenos">386</span></a>
</span><span id="Catalog-387"><a href="#Catalog-387"><span class="linenos">387</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">magnitudes</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Catalog-388"><a href="#Catalog-388"><span class="linenos">388</span></a>                <span class="n">new_magnitudes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Catalog-389"><a href="#Catalog-389"><span class="linenos">389</span></a>                <span class="n">preferred_magnitude_id</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Catalog-390"><a href="#Catalog-390"><span class="linenos">390</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Catalog-391"><a href="#Catalog-391"><span class="linenos">391</span></a>                <span class="n">new_magnitudes</span> <span class="o">=</span> <span class="p">[</span><span class="n">event</span><span class="o">.</span><span class="n">preferred_magnitude</span><span class="p">()</span>
</span><span id="Catalog-392"><a href="#Catalog-392"><span class="linenos">392</span></a>                                  <span class="ow">or</span> <span class="n">event</span><span class="o">.</span><span class="n">magnitudes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
</span><span id="Catalog-393"><a href="#Catalog-393"><span class="linenos">393</span></a>
</span><span id="Catalog-394"><a href="#Catalog-394"><span class="linenos">394</span></a>                <span class="n">preferred_magnitude_id</span> <span class="o">=</span> <span class="n">ResourceIdentifier</span><span class="p">()</span>
</span><span id="Catalog-395"><a href="#Catalog-395"><span class="linenos">395</span></a>                <span class="n">new_magnitudes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">preferred_magnitude_id</span>
</span><span id="Catalog-396"><a href="#Catalog-396"><span class="linenos">396</span></a>                <span class="n">new_magnitudes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">origin_id</span> <span class="o">=</span> <span class="n">preferred_origin_id</span>
</span><span id="Catalog-397"><a href="#Catalog-397"><span class="linenos">397</span></a>
</span><span id="Catalog-398"><a href="#Catalog-398"><span class="linenos">398</span></a>            <span class="n">new_event</span> <span class="o">=</span> <span class="n">Event</span><span class="p">(</span><span class="n">origins</span><span class="o">=</span><span class="n">new_origins</span><span class="p">,</span> <span class="n">magnitudes</span><span class="o">=</span><span class="n">new_magnitudes</span><span class="p">)</span>
</span><span id="Catalog-399"><a href="#Catalog-399"><span class="linenos">399</span></a>            <span class="n">new_event</span><span class="o">.</span><span class="n">preferred_origin_id</span> <span class="o">=</span> <span class="n">preferred_origin_id</span>
</span><span id="Catalog-400"><a href="#Catalog-400"><span class="linenos">400</span></a>            <span class="n">new_event</span><span class="o">.</span><span class="n">preferred_magnitude_id</span> <span class="o">=</span> <span class="n">preferred_magnitude_id</span>
</span><span id="Catalog-401"><a href="#Catalog-401"><span class="linenos">401</span></a>
</span><span id="Catalog-402"><a href="#Catalog-402"><span class="linenos">402</span></a>            <span class="n">new_events</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_event</span><span class="p">)</span>
</span><span id="Catalog-403"><a href="#Catalog-403"><span class="linenos">403</span></a>
</span><span id="Catalog-404"><a href="#Catalog-404"><span class="linenos">404</span></a>            <span class="k">return</span> <span class="n">Catalog</span><span class="p">(</span><span class="n">events</span><span class="o">=</span><span class="n">new_events</span><span class="p">)</span>
</span><span id="Catalog-405"><a href="#Catalog-405"><span class="linenos">405</span></a>
</span><span id="Catalog-406"><a href="#Catalog-406"><span class="linenos">406</span></a>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Catalog-407"><a href="#Catalog-407"><span class="linenos">407</span></a>        <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>This class serves as a container for
<code>~uquake.core.event.event.Event</code> objects.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>events</strong>:  List of events</li>
<li><strong>resource_id</strong>:  Resource identifier of the catalog.</li>
<li><strong>description</strong>:  Description string that can be assigned to the
earthquake catalog, or collection of events.</li>
<li><strong>comments</strong>:  Additional comments.</li>
<li><strong>creation_info</strong>:  Creation information used to describe author,
version, and creation time.</li>
</ul>

<div class="pdoc-alert pdoc-alert-note">

<p>For handling additional information not covered by the QuakeML
standard and how to output it to QuakeML see the
:ref:<code>ObsPy Tutorial &lt;quakeml-extra&gt;</code>.</p>

</div>
</div>


                            <div id="Catalog.__init__" class="classattr">
                                        <input id="Catalog.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Catalog</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="Catalog.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Catalog.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Catalog.__init__-318"><a href="#Catalog.__init__-318"><span class="linenos">318</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Catalog.__init__-319"><a href="#Catalog.__init__-319"><span class="linenos">319</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">events</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Catalog.__init__-320"><a href="#Catalog.__init__-320"><span class="linenos">320</span></a>        <span class="k">if</span> <span class="n">obspy_obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Catalog.__init__-321"><a href="#Catalog.__init__-321"><span class="linenos">321</span></a>            <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Catalog.__init__-322"><a href="#Catalog.__init__-322"><span class="linenos">322</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Catalog.__init__-323"><a href="#Catalog.__init__-323"><span class="linenos">323</span></a>            <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">events</span><span class="p">:</span>
</span><span id="Catalog.__init__-324"><a href="#Catalog.__init__-324"><span class="linenos">324</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Event</span><span class="p">(</span><span class="n">obspy_obj</span><span class="o">=</span><span class="n">event</span><span class="p">))</span>
</span></pre></div>


    

                            </div>
                            <div id="Catalog.extra_keys" class="classattr">
                                <div class="attr variable">
            <span class="name">extra_keys</span>        =
<span class="default_value">[]</span>

        
    </div>
    <a class="headerlink" href="#Catalog.extra_keys"></a>
    
    

                            </div>
                            <div id="Catalog.extra" class="classattr">
                                <div class="attr variable">
            <span class="name">extra</span>        =
<span class="default_value">{}</span>

        
    </div>
    <a class="headerlink" href="#Catalog.extra"></a>
    
    

                            </div>
                            <div id="Catalog.events" class="classattr">
                                <div class="attr variable">
            <span class="name">events</span>

        
    </div>
    <a class="headerlink" href="#Catalog.events"></a>
    
    

                            </div>
                            <div id="Catalog.write" class="classattr">
                                        <input id="Catalog.write-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">write</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">fileobj</span>, </span><span class="param"><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;quakeml&#39;</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Catalog.write-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Catalog.write"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Catalog.write-332"><a href="#Catalog.write-332"><span class="linenos">332</span></a>    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fileobj</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;quakeml&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Catalog.write-333"><a href="#Catalog.write-333"><span class="linenos">333</span></a>        <span class="n">event_type_lookup</span> <span class="o">=</span> <span class="n">EventTypeLookup</span><span class="p">()</span>
</span><span id="Catalog.write-334"><a href="#Catalog.write-334"><span class="linenos">334</span></a>        <span class="n">type_lookup</span> <span class="o">=</span> <span class="n">event_type_lookup</span><span class="o">.</span><span class="n">lookup_table</span>
</span><span id="Catalog.write-335"><a href="#Catalog.write-335"><span class="linenos">335</span></a>        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">:</span>
</span><span id="Catalog.write-336"><a href="#Catalog.write-336"><span class="linenos">336</span></a>            <span class="k">if</span> <span class="n">event_type_lookup</span><span class="o">.</span><span class="n">is_valid_uquakeml</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">event_type</span><span class="p">):</span>
</span><span id="Catalog.write-337"><a href="#Catalog.write-337"><span class="linenos">337</span></a>                <span class="n">event</span><span class="o">.</span><span class="n">event_type</span> <span class="o">=</span> <span class="n">type_lookup</span><span class="p">[</span><span class="n">event</span><span class="o">.</span><span class="n">event_type</span><span class="p">]</span>
</span><span id="Catalog.write-338"><a href="#Catalog.write-338"><span class="linenos">338</span></a>            <span class="k">for</span> <span class="n">ori</span> <span class="ow">in</span> <span class="n">event</span><span class="o">.</span><span class="n">origins</span><span class="p">:</span>
</span><span id="Catalog.write-339"><a href="#Catalog.write-339"><span class="linenos">339</span></a>                <span class="k">for</span> <span class="n">ar</span> <span class="ow">in</span> <span class="n">ori</span><span class="o">.</span><span class="n">arrivals</span><span class="p">:</span>
</span><span id="Catalog.write-340"><a href="#Catalog.write-340"><span class="linenos">340</span></a>                    <span class="k">if</span> <span class="s1">&#39;extra&#39;</span> <span class="ow">in</span> <span class="n">ar</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Catalog.write-341"><a href="#Catalog.write-341"><span class="linenos">341</span></a>                        <span class="k">del</span> <span class="n">ar</span><span class="o">.</span><span class="n">extra</span>
</span><span id="Catalog.write-342"><a href="#Catalog.write-342"><span class="linenos">342</span></a>
</span><span id="Catalog.write-343"><a href="#Catalog.write-343"><span class="linenos">343</span></a>        <span class="k">if</span> <span class="nb">format</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;QUAKEML&#39;</span><span class="p">:</span>
</span><span id="Catalog.write-344"><a href="#Catalog.write-344"><span class="linenos">344</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">Catalog</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fileobj</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span>
</span><span id="Catalog.write-345"><a href="#Catalog.write-345"><span class="linenos">345</span></a>                                            <span class="n">nsmap</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;mq&#39;</span><span class="p">:</span> <span class="n">namespace</span><span class="p">},</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Catalog.write-346"><a href="#Catalog.write-346"><span class="linenos">346</span></a>
</span><span id="Catalog.write-347"><a href="#Catalog.write-347"><span class="linenos">347</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Catalog.write-348"><a href="#Catalog.write-348"><span class="linenos">348</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">Catalog</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fileobj</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Catalog.write-349"><a href="#Catalog.write-349"><span class="linenos">349</span></a>
</span><span id="Catalog.write-350"><a href="#Catalog.write-350"><span class="linenos">350</span></a>        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">:</span>
</span><span id="Catalog.write-351"><a href="#Catalog.write-351"><span class="linenos">351</span></a>            <span class="k">for</span> <span class="n">ori</span> <span class="ow">in</span> <span class="n">event</span><span class="o">.</span><span class="n">origins</span><span class="p">:</span>
</span><span id="Catalog.write-352"><a href="#Catalog.write-352"><span class="linenos">352</span></a>                <span class="n">ars</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Catalog.write-353"><a href="#Catalog.write-353"><span class="linenos">353</span></a>                <span class="k">for</span> <span class="n">ar</span> <span class="ow">in</span> <span class="n">ori</span><span class="o">.</span><span class="n">arrivals</span><span class="p">:</span>
</span><span id="Catalog.write-354"><a href="#Catalog.write-354"><span class="linenos">354</span></a>                    <span class="n">ars</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Arrival</span><span class="p">(</span><span class="n">obspy_obj</span><span class="o">=</span><span class="n">ar</span><span class="p">))</span>
</span><span id="Catalog.write-355"><a href="#Catalog.write-355"><span class="linenos">355</span></a>                <span class="n">ori</span><span class="o">.</span><span class="n">arrivals</span> <span class="o">=</span> <span class="n">ars</span>
</span><span id="Catalog.write-356"><a href="#Catalog.write-356"><span class="linenos">356</span></a>
</span><span id="Catalog.write-357"><a href="#Catalog.write-357"><span class="linenos">357</span></a>
</span><span id="Catalog.write-358"><a href="#Catalog.write-358"><span class="linenos">358</span></a>
</span><span id="Catalog.write-359"><a href="#Catalog.write-359"><span class="linenos">359</span></a>        <span class="k">return</span> <span class="n">result</span>
</span></pre></div>


            <div class="docstring"><p>Saves catalog into a file.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>filename</strong>:  The name of the file to write.</li>
<li><strong>format</strong>:  The file format to use (e.g. <code>"QUAKEML"</code>). See the
<code>Supported Formats</code>_ section below for a list of supported formats.</li>
<li><strong>kwargs</strong>:  Additional keyword arguments passed to the underlying
plugin's writer method.</li>
</ul>

<p>.. rubric:: Example</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">obspy</span> <span class="kn">import</span> <span class="n">read_events</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">catalog</span> <span class="o">=</span> <span class="n">read_events</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">catalog</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;example.xml&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;QUAKEML&quot;</span><span class="p">)</span>  <span class="c1"># doctest: +SKIP</span>
</code></pre>
</div>

<p>Writing single events into files with meaningful filenames can be done
e.g. using event.id</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">ev</span> <span class="ow">in</span> <span class="n">catalog</span><span class="p">:</span>  <span class="c1"># doctest: +SKIP</span>
<span class="gp">... </span>    <span class="n">filename</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">ev</span><span class="o">.</span><span class="n">resource_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.xml&quot;</span>
<span class="gp">... </span>    <span class="n">ev</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;QUAKEML&quot;</span><span class="p">)</span> <span class="c1"># doctest: +SKIP</span>
</code></pre>
</div>

<p>.. rubric:: _<code>Supported Formats</code></p>

<p>Additional ObsPy modules extend the parameters of the
<code>~obspy.core.event.catalog.Catalog.write()</code> method. The following
table summarizes all known formats with write capability currently
available for ObsPy.</p>

<p>Please refer to the <code>Linked Function Call</code>_ of each module for any
extra options available.</p>

<p>=========== =========================== ====================================================
Format      Used Module                 _<code>Linked Function Call</code> <br />
=========== =========================== ====================================================
CMTSOLUTION <code>obspy.io.cmtsolution</code> <code>obspy.io.cmtsolution.core._write_cmtsolution()</code>
CNV         <code>obspy.io.cnv</code>         <code>obspy.io.cnv.core._write_cnv()</code> <br />
HYPODDPHA   <code>obspy.io.hypodd</code>      <code>obspy.io.hypodd.pha._write_pha()</code> <br />
JSON        <code>obspy.io.json</code>        <code>obspy.io.json.core._write_json()</code> <br />
KML         <code>obspy.io.kml</code>         <code>obspy.io.kml.core._write_kml()</code> <br />
NLLOC_OBS   <code>obspy.io.nlloc</code>       <code>obspy.io.nlloc.core.write_nlloc_obs()</code> <br />
NORDIC      <code>obspy.io.nordic</code>      <code>obspy.io.nordic.core.write_select()</code> <br />
QUAKEML     <code>obspy.io.quakeml</code>     <code>obspy.io.quakeml.core._write_quakeml()</code> <br />
SC3ML       <code>obspy.io.seiscomp</code>    <code>obspy.io.seiscomp.event._write_sc3ml()</code> <br />
SCARDEC     <code>obspy.io.scardec</code>     <code>obspy.io.scardec.core._write_scardec()</code> <br />
SHAPEFILE   <code>obspy.io.shapefile</code>   <code>obspy.io.shapefile.core._write_shapefile()</code> <br />
ZMAP        <code>obspy.io.zmap</code>        <code>obspy.io.zmap.core._write_zmap()</code> <br />
=========== =========================== ====================================================</p>
</div>


                            </div>
                            <div id="Catalog.duplicate" class="classattr">
                                        <input id="Catalog.duplicate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">duplicate</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Catalog.duplicate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Catalog.duplicate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Catalog.duplicate-361"><a href="#Catalog.duplicate-361"><span class="linenos">361</span></a>    <span class="k">def</span> <span class="nf">duplicate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Catalog.duplicate-362"><a href="#Catalog.duplicate-362"><span class="linenos">362</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Catalog.duplicate-363"><a href="#Catalog.duplicate-363"><span class="linenos">363</span></a><span class="sd">        this function duplicates a catalog object, this function does not</span>
</span><span id="Catalog.duplicate-364"><a href="#Catalog.duplicate-364"><span class="linenos">364</span></a><span class="sd">        duplicate picks. It creates an object containing multiple event</span>
</span><span id="Catalog.duplicate-365"><a href="#Catalog.duplicate-365"><span class="linenos">365</span></a><span class="sd">        containing each one origin and one magnitude.</span>
</span><span id="Catalog.duplicate-366"><a href="#Catalog.duplicate-366"><span class="linenos">366</span></a><span class="sd">        :return: a new catalog object</span>
</span><span id="Catalog.duplicate-367"><a href="#Catalog.duplicate-367"><span class="linenos">367</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Catalog.duplicate-368"><a href="#Catalog.duplicate-368"><span class="linenos">368</span></a>
</span><span id="Catalog.duplicate-369"><a href="#Catalog.duplicate-369"><span class="linenos">369</span></a>        <span class="n">new_events</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Catalog.duplicate-370"><a href="#Catalog.duplicate-370"><span class="linenos">370</span></a>        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">:</span>
</span><span id="Catalog.duplicate-371"><a href="#Catalog.duplicate-371"><span class="linenos">371</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">origins</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Catalog.duplicate-372"><a href="#Catalog.duplicate-372"><span class="linenos">372</span></a>                <span class="n">new_origins</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Catalog.duplicate-373"><a href="#Catalog.duplicate-373"><span class="linenos">373</span></a>                <span class="n">preferred_origin_id</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Catalog.duplicate-374"><a href="#Catalog.duplicate-374"><span class="linenos">374</span></a>
</span><span id="Catalog.duplicate-375"><a href="#Catalog.duplicate-375"><span class="linenos">375</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Catalog.duplicate-376"><a href="#Catalog.duplicate-376"><span class="linenos">376</span></a>                <span class="n">new_origins</span> <span class="o">=</span> <span class="p">[</span><span class="n">event</span><span class="o">.</span><span class="n">preferred_origin</span><span class="p">()</span> <span class="ow">or</span> <span class="n">event</span><span class="o">.</span><span class="n">origins</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
</span><span id="Catalog.duplicate-377"><a href="#Catalog.duplicate-377"><span class="linenos">377</span></a>
</span><span id="Catalog.duplicate-378"><a href="#Catalog.duplicate-378"><span class="linenos">378</span></a>                <span class="n">preferred_origin_id</span> <span class="o">=</span> <span class="n">ResourceIdentifier</span><span class="p">()</span>
</span><span id="Catalog.duplicate-379"><a href="#Catalog.duplicate-379"><span class="linenos">379</span></a>                <span class="n">new_origins</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">preferred_origin_id</span>
</span><span id="Catalog.duplicate-380"><a href="#Catalog.duplicate-380"><span class="linenos">380</span></a>                <span class="n">new_origins</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">arrivals</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Catalog.duplicate-381"><a href="#Catalog.duplicate-381"><span class="linenos">381</span></a>                <span class="n">new_rays</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Catalog.duplicate-382"><a href="#Catalog.duplicate-382"><span class="linenos">382</span></a>                <span class="k">for</span> <span class="n">ray</span> <span class="ow">in</span> <span class="n">new_origins</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">rays</span><span class="p">:</span>
</span><span id="Catalog.duplicate-383"><a href="#Catalog.duplicate-383"><span class="linenos">383</span></a>                    <span class="n">ray</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">ResourceIdentifier</span><span class="p">()</span>
</span><span id="Catalog.duplicate-384"><a href="#Catalog.duplicate-384"><span class="linenos">384</span></a>                    <span class="n">new_rays</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ray</span><span class="p">)</span>
</span><span id="Catalog.duplicate-385"><a href="#Catalog.duplicate-385"><span class="linenos">385</span></a>                <span class="n">new_origins</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">rays</span> <span class="o">=</span> <span class="n">new_rays</span>
</span><span id="Catalog.duplicate-386"><a href="#Catalog.duplicate-386"><span class="linenos">386</span></a>
</span><span id="Catalog.duplicate-387"><a href="#Catalog.duplicate-387"><span class="linenos">387</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">magnitudes</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Catalog.duplicate-388"><a href="#Catalog.duplicate-388"><span class="linenos">388</span></a>                <span class="n">new_magnitudes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Catalog.duplicate-389"><a href="#Catalog.duplicate-389"><span class="linenos">389</span></a>                <span class="n">preferred_magnitude_id</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Catalog.duplicate-390"><a href="#Catalog.duplicate-390"><span class="linenos">390</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Catalog.duplicate-391"><a href="#Catalog.duplicate-391"><span class="linenos">391</span></a>                <span class="n">new_magnitudes</span> <span class="o">=</span> <span class="p">[</span><span class="n">event</span><span class="o">.</span><span class="n">preferred_magnitude</span><span class="p">()</span>
</span><span id="Catalog.duplicate-392"><a href="#Catalog.duplicate-392"><span class="linenos">392</span></a>                                  <span class="ow">or</span> <span class="n">event</span><span class="o">.</span><span class="n">magnitudes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
</span><span id="Catalog.duplicate-393"><a href="#Catalog.duplicate-393"><span class="linenos">393</span></a>
</span><span id="Catalog.duplicate-394"><a href="#Catalog.duplicate-394"><span class="linenos">394</span></a>                <span class="n">preferred_magnitude_id</span> <span class="o">=</span> <span class="n">ResourceIdentifier</span><span class="p">()</span>
</span><span id="Catalog.duplicate-395"><a href="#Catalog.duplicate-395"><span class="linenos">395</span></a>                <span class="n">new_magnitudes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">preferred_magnitude_id</span>
</span><span id="Catalog.duplicate-396"><a href="#Catalog.duplicate-396"><span class="linenos">396</span></a>                <span class="n">new_magnitudes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">origin_id</span> <span class="o">=</span> <span class="n">preferred_origin_id</span>
</span><span id="Catalog.duplicate-397"><a href="#Catalog.duplicate-397"><span class="linenos">397</span></a>
</span><span id="Catalog.duplicate-398"><a href="#Catalog.duplicate-398"><span class="linenos">398</span></a>            <span class="n">new_event</span> <span class="o">=</span> <span class="n">Event</span><span class="p">(</span><span class="n">origins</span><span class="o">=</span><span class="n">new_origins</span><span class="p">,</span> <span class="n">magnitudes</span><span class="o">=</span><span class="n">new_magnitudes</span><span class="p">)</span>
</span><span id="Catalog.duplicate-399"><a href="#Catalog.duplicate-399"><span class="linenos">399</span></a>            <span class="n">new_event</span><span class="o">.</span><span class="n">preferred_origin_id</span> <span class="o">=</span> <span class="n">preferred_origin_id</span>
</span><span id="Catalog.duplicate-400"><a href="#Catalog.duplicate-400"><span class="linenos">400</span></a>            <span class="n">new_event</span><span class="o">.</span><span class="n">preferred_magnitude_id</span> <span class="o">=</span> <span class="n">preferred_magnitude_id</span>
</span><span id="Catalog.duplicate-401"><a href="#Catalog.duplicate-401"><span class="linenos">401</span></a>
</span><span id="Catalog.duplicate-402"><a href="#Catalog.duplicate-402"><span class="linenos">402</span></a>            <span class="n">new_events</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_event</span><span class="p">)</span>
</span><span id="Catalog.duplicate-403"><a href="#Catalog.duplicate-403"><span class="linenos">403</span></a>
</span><span id="Catalog.duplicate-404"><a href="#Catalog.duplicate-404"><span class="linenos">404</span></a>            <span class="k">return</span> <span class="n">Catalog</span><span class="p">(</span><span class="n">events</span><span class="o">=</span><span class="n">new_events</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>this function duplicates a catalog object, this function does not
duplicate picks. It creates an object containing multiple event
containing each one origin and one magnitude.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>a new catalog object</p>
</blockquote>
</div>


                            </div>
                            <div id="Catalog.copy" class="classattr">
                                        <input id="Catalog.copy-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">copy</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Catalog.copy-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Catalog.copy"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Catalog.copy-406"><a href="#Catalog.copy-406"><span class="linenos">406</span></a>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Catalog.copy-407"><a href="#Catalog.copy-407"><span class="linenos">407</span></a>        <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Returns a deepcopy of the Catalog object.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>Copy of current catalog.</p>
</blockquote>

<p>.. rubric:: Examples</p>

<ol>
<li><p>Create a Catalog and copy it</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">obspy.core.event</span> <span class="kn">import</span> <span class="n">read_events</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cat</span> <span class="o">=</span> <span class="n">read_events</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cat2</span> <span class="o">=</span> <span class="n">cat</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</code></pre>
</div>

<p>The two objects are not the same:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">cat</span> <span class="ow">is</span> <span class="n">cat2</span>
<span class="go">False</span>
</code></pre>
</div>

<p>But they have equal data:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">cat</span> <span class="o">==</span> <span class="n">cat2</span>
<span class="go">True</span>
</code></pre>
</div></li>
<li><p>The following example shows how to make an alias but not copy the
data. Any changes on <code>cat3</code> would also change the contents of
<code>cat</code>.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">cat3</span> <span class="o">=</span> <span class="n">cat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cat</span> <span class="ow">is</span> <span class="n">cat3</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cat</span> <span class="o">==</span> <span class="n">cat3</span>
<span class="go">True</span>
</code></pre>
</div></li>
</ol>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>obspy.core.event.catalog.Catalog</dt>
                                <dd id="Catalog.comments" class="variable">comments</dd>
                <dd id="Catalog.description" class="variable">description</dd>
                <dd id="Catalog.resource_id" class="variable">resource_id</dd>
                <dd id="Catalog.creation_info" class="variable">creation_info</dd>
                <dd id="Catalog.count" class="function">count</dd>
                <dd id="Catalog.append" class="function">append</dd>
                <dd id="Catalog.clear" class="function">clear</dd>
                <dd id="Catalog.filter" class="function">filter</dd>
                <dd id="Catalog.extend" class="function">extend</dd>
                <dd id="Catalog.plot" class="function">plot</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="EventTypeLookup">
                            <input id="EventTypeLookup-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">EventTypeLookup</span>:

                <label class="view-source-button" for="EventTypeLookup-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#EventTypeLookup"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="EventTypeLookup-410"><a href="#EventTypeLookup-410"><span class="linenos">410</span></a><span class="k">class</span> <span class="nc">EventTypeLookup</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="EventTypeLookup-411"><a href="#EventTypeLookup-411"><span class="linenos">411</span></a>
</span><span id="EventTypeLookup-412"><a href="#EventTypeLookup-412"><span class="linenos">412</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="EventTypeLookup-413"><a href="#EventTypeLookup-413"><span class="linenos">413</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">lookup_table</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;earthquake/large event&#39;</span><span class="p">:</span> <span class="s1">&#39;earthquake&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-414"><a href="#EventTypeLookup-414"><span class="linenos">414</span></a>                             <span class="s1">&#39;seismic event&#39;</span><span class="p">:</span> <span class="s1">&#39;induced or triggered event&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-415"><a href="#EventTypeLookup-415"><span class="linenos">415</span></a>                             <span class="s1">&#39;offsite event&#39;</span><span class="p">:</span> <span class="s1">&#39;atmospheric event&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-416"><a href="#EventTypeLookup-416"><span class="linenos">416</span></a>                             <span class="s1">&#39;rock burst&#39;</span><span class="p">:</span> <span class="s1">&#39;rock burst&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-417"><a href="#EventTypeLookup-417"><span class="linenos">417</span></a>                             <span class="s1">&#39;fall of ground/rockfall&#39;</span><span class="p">:</span> <span class="s1">&#39;cavity collapse&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-418"><a href="#EventTypeLookup-418"><span class="linenos">418</span></a>                             <span class="s1">&#39;blast&#39;</span><span class="p">:</span> <span class="s1">&#39;explosion&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-419"><a href="#EventTypeLookup-419"><span class="linenos">419</span></a>                             <span class="s1">&#39;blast sequence&#39;</span><span class="p">:</span> <span class="s1">&#39;accidental explosion&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-420"><a href="#EventTypeLookup-420"><span class="linenos">420</span></a>                             <span class="s1">&#39;development blast&#39;</span><span class="p">:</span> <span class="s1">&#39;industrial explosion&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-421"><a href="#EventTypeLookup-421"><span class="linenos">421</span></a>                             <span class="s1">&#39;production blast&#39;</span><span class="p">:</span> <span class="s1">&#39;mining explosion&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-422"><a href="#EventTypeLookup-422"><span class="linenos">422</span></a>                             <span class="s1">&#39;far away blast/open pit blast&#39;</span><span class="p">:</span> <span class="s1">&#39;quarry blast&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-423"><a href="#EventTypeLookup-423"><span class="linenos">423</span></a>                             <span class="s1">&#39;offsite blast&#39;</span><span class="p">:</span> <span class="s1">&#39;nuclear explosion&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-424"><a href="#EventTypeLookup-424"><span class="linenos">424</span></a>                             <span class="s1">&#39;paste firing&#39;</span><span class="p">:</span> <span class="s1">&#39;chemical explosion&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-425"><a href="#EventTypeLookup-425"><span class="linenos">425</span></a>                             <span class="s1">&#39;calibration blast&#39;</span><span class="p">:</span> <span class="s1">&#39;controlled explosion&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-426"><a href="#EventTypeLookup-426"><span class="linenos">426</span></a>                             <span class="s1">&#39;other blast/slashing&#39;</span><span class="p">:</span> <span class="s1">&#39;experimental explosion&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-427"><a href="#EventTypeLookup-427"><span class="linenos">427</span></a>                             <span class="s1">&#39;mid-shift blast/slash blast&#39;</span><span class="p">:</span> <span class="s1">&#39;industrial explosion&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-428"><a href="#EventTypeLookup-428"><span class="linenos">428</span></a>                             <span class="s1">&#39;raise bore&#39;</span><span class="p">:</span> <span class="s1">&#39;hydroacoustic event&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-429"><a href="#EventTypeLookup-429"><span class="linenos">429</span></a>                             <span class="s1">&#39;crusher noise&#39;</span><span class="p">:</span> <span class="s1">&#39;road cut&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-430"><a href="#EventTypeLookup-430"><span class="linenos">430</span></a>                             <span class="s1">&#39;orepass noise&#39;</span><span class="p">:</span> <span class="s1">&#39;collapse&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-431"><a href="#EventTypeLookup-431"><span class="linenos">431</span></a>                             <span class="s1">&#39;drilling noise&#39;</span><span class="p">:</span> <span class="s1">&#39;acoustic noise&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-432"><a href="#EventTypeLookup-432"><span class="linenos">432</span></a>                             <span class="s1">&#39;electrical noise&#39;</span><span class="p">:</span> <span class="s1">&#39;thunder&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-433"><a href="#EventTypeLookup-433"><span class="linenos">433</span></a>                             <span class="s1">&#39;scaling noise&#39;</span><span class="p">:</span> <span class="s1">&#39;anthropogenic event&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-434"><a href="#EventTypeLookup-434"><span class="linenos">434</span></a>                             <span class="s1">&#39;mechanical noise&#39;</span><span class="p">:</span> <span class="s1">&#39;crash&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-435"><a href="#EventTypeLookup-435"><span class="linenos">435</span></a>                             <span class="s1">&#39;test pulse&#39;</span><span class="p">:</span> <span class="s1">&#39;sonic boom&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-436"><a href="#EventTypeLookup-436"><span class="linenos">436</span></a>                             <span class="s1">&#39;unidentified noise/other noise&#39;</span><span class="p">:</span> <span class="s1">&#39;other event&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-437"><a href="#EventTypeLookup-437"><span class="linenos">437</span></a>                             <span class="s1">&#39;duplicate&#39;</span><span class="p">:</span> <span class="s1">&#39;boat crash&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-438"><a href="#EventTypeLookup-438"><span class="linenos">438</span></a>                             <span class="s1">&#39;unknown&#39;</span><span class="p">:</span> <span class="s1">&#39;plane crash&#39;</span><span class="p">,</span>
</span><span id="EventTypeLookup-439"><a href="#EventTypeLookup-439"><span class="linenos">439</span></a>                             <span class="s1">&#39;tap test/test&#39;</span><span class="p">:</span> <span class="s1">&#39;avalanche&#39;</span><span class="p">}</span>
</span><span id="EventTypeLookup-440"><a href="#EventTypeLookup-440"><span class="linenos">440</span></a>
</span><span id="EventTypeLookup-441"><a href="#EventTypeLookup-441"><span class="linenos">441</span></a>    <span class="nd">@property</span>
</span><span id="EventTypeLookup-442"><a href="#EventTypeLookup-442"><span class="linenos">442</span></a>    <span class="k">def</span> <span class="nf">inverse_lookup_table</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="EventTypeLookup-443"><a href="#EventTypeLookup-443"><span class="linenos">443</span></a>        <span class="n">inverse_lookup_table</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="EventTypeLookup-444"><a href="#EventTypeLookup-444"><span class="linenos">444</span></a>        <span class="n">lookup_table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookup_table</span>
</span><span id="EventTypeLookup-445"><a href="#EventTypeLookup-445"><span class="linenos">445</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">lookup_table</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="EventTypeLookup-446"><a href="#EventTypeLookup-446"><span class="linenos">446</span></a>            <span class="n">inverse_lookup_table</span><span class="p">[</span><span class="n">lookup_table</span><span class="p">[</span><span class="n">key</span><span class="p">]]</span> <span class="o">=</span> <span class="n">key</span>
</span><span id="EventTypeLookup-447"><a href="#EventTypeLookup-447"><span class="linenos">447</span></a>
</span><span id="EventTypeLookup-448"><a href="#EventTypeLookup-448"><span class="linenos">448</span></a>        <span class="k">return</span> <span class="n">inverse_lookup_table</span>
</span><span id="EventTypeLookup-449"><a href="#EventTypeLookup-449"><span class="linenos">449</span></a>
</span><span id="EventTypeLookup-450"><a href="#EventTypeLookup-450"><span class="linenos">450</span></a>    <span class="k">def</span> <span class="nf">convert_from_quakeml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">quakeml_type</span><span class="p">):</span>
</span><span id="EventTypeLookup-451"><a href="#EventTypeLookup-451"><span class="linenos">451</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookup_table</span><span class="p">[</span><span class="n">quakeml_type</span><span class="p">]</span>
</span><span id="EventTypeLookup-452"><a href="#EventTypeLookup-452"><span class="linenos">452</span></a>
</span><span id="EventTypeLookup-453"><a href="#EventTypeLookup-453"><span class="linenos">453</span></a>    <span class="k">def</span> <span class="nf">convert_to_quakeml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uquakeml_type</span><span class="p">):</span>
</span><span id="EventTypeLookup-454"><a href="#EventTypeLookup-454"><span class="linenos">454</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">inverse_lookup_table</span><span class="p">[</span><span class="n">uquakeml_type</span><span class="p">]</span>
</span><span id="EventTypeLookup-455"><a href="#EventTypeLookup-455"><span class="linenos">455</span></a>
</span><span id="EventTypeLookup-456"><a href="#EventTypeLookup-456"><span class="linenos">456</span></a>    <span class="nd">@property</span>
</span><span id="EventTypeLookup-457"><a href="#EventTypeLookup-457"><span class="linenos">457</span></a>    <span class="k">def</span> <span class="nf">valid_quakeml_types</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="EventTypeLookup-458"><a href="#EventTypeLookup-458"><span class="linenos">458</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">inverse_lookup_table</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</span><span id="EventTypeLookup-459"><a href="#EventTypeLookup-459"><span class="linenos">459</span></a>
</span><span id="EventTypeLookup-460"><a href="#EventTypeLookup-460"><span class="linenos">460</span></a>    <span class="nd">@property</span>
</span><span id="EventTypeLookup-461"><a href="#EventTypeLookup-461"><span class="linenos">461</span></a>    <span class="k">def</span> <span class="nf">valid_uquakeml_types</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="EventTypeLookup-462"><a href="#EventTypeLookup-462"><span class="linenos">462</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookup_table</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</span><span id="EventTypeLookup-463"><a href="#EventTypeLookup-463"><span class="linenos">463</span></a>
</span><span id="EventTypeLookup-464"><a href="#EventTypeLookup-464"><span class="linenos">464</span></a>    <span class="k">def</span> <span class="nf">is_valid_quakeml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_type</span><span class="p">):</span>
</span><span id="EventTypeLookup-465"><a href="#EventTypeLookup-465"><span class="linenos">465</span></a>        <span class="k">return</span> <span class="n">event_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">valid_quakeml_types</span>
</span><span id="EventTypeLookup-466"><a href="#EventTypeLookup-466"><span class="linenos">466</span></a>
</span><span id="EventTypeLookup-467"><a href="#EventTypeLookup-467"><span class="linenos">467</span></a>    <span class="k">def</span> <span class="nf">is_valid_uquakeml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_type</span><span class="p">):</span>
</span><span id="EventTypeLookup-468"><a href="#EventTypeLookup-468"><span class="linenos">468</span></a>        <span class="k">return</span> <span class="n">event_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">valid_uquakeml_types</span>
</span></pre></div>


    

                            <div id="EventTypeLookup.lookup_table" class="classattr">
                                <div class="attr variable">
            <span class="name">lookup_table</span>

        
    </div>
    <a class="headerlink" href="#EventTypeLookup.lookup_table"></a>
    
    

                            </div>
                            <div id="EventTypeLookup.inverse_lookup_table" class="classattr">
                                <div class="attr variable">
            <span class="name">inverse_lookup_table</span>

        
    </div>
    <a class="headerlink" href="#EventTypeLookup.inverse_lookup_table"></a>
    
    

                            </div>
                            <div id="EventTypeLookup.convert_from_quakeml" class="classattr">
                                        <input id="EventTypeLookup.convert_from_quakeml-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">convert_from_quakeml</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">quakeml_type</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="EventTypeLookup.convert_from_quakeml-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#EventTypeLookup.convert_from_quakeml"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="EventTypeLookup.convert_from_quakeml-450"><a href="#EventTypeLookup.convert_from_quakeml-450"><span class="linenos">450</span></a>    <span class="k">def</span> <span class="nf">convert_from_quakeml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">quakeml_type</span><span class="p">):</span>
</span><span id="EventTypeLookup.convert_from_quakeml-451"><a href="#EventTypeLookup.convert_from_quakeml-451"><span class="linenos">451</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookup_table</span><span class="p">[</span><span class="n">quakeml_type</span><span class="p">]</span>
</span></pre></div>


    

                            </div>
                            <div id="EventTypeLookup.convert_to_quakeml" class="classattr">
                                        <input id="EventTypeLookup.convert_to_quakeml-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">convert_to_quakeml</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">uquakeml_type</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="EventTypeLookup.convert_to_quakeml-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#EventTypeLookup.convert_to_quakeml"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="EventTypeLookup.convert_to_quakeml-453"><a href="#EventTypeLookup.convert_to_quakeml-453"><span class="linenos">453</span></a>    <span class="k">def</span> <span class="nf">convert_to_quakeml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uquakeml_type</span><span class="p">):</span>
</span><span id="EventTypeLookup.convert_to_quakeml-454"><a href="#EventTypeLookup.convert_to_quakeml-454"><span class="linenos">454</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">inverse_lookup_table</span><span class="p">[</span><span class="n">uquakeml_type</span><span class="p">]</span>
</span></pre></div>


    

                            </div>
                            <div id="EventTypeLookup.valid_quakeml_types" class="classattr">
                                <div class="attr variable">
            <span class="name">valid_quakeml_types</span>

        
    </div>
    <a class="headerlink" href="#EventTypeLookup.valid_quakeml_types"></a>
    
    

                            </div>
                            <div id="EventTypeLookup.valid_uquakeml_types" class="classattr">
                                <div class="attr variable">
            <span class="name">valid_uquakeml_types</span>

        
    </div>
    <a class="headerlink" href="#EventTypeLookup.valid_uquakeml_types"></a>
    
    

                            </div>
                            <div id="EventTypeLookup.is_valid_quakeml" class="classattr">
                                        <input id="EventTypeLookup.is_valid_quakeml-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_valid_quakeml</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">event_type</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="EventTypeLookup.is_valid_quakeml-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#EventTypeLookup.is_valid_quakeml"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="EventTypeLookup.is_valid_quakeml-464"><a href="#EventTypeLookup.is_valid_quakeml-464"><span class="linenos">464</span></a>    <span class="k">def</span> <span class="nf">is_valid_quakeml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_type</span><span class="p">):</span>
</span><span id="EventTypeLookup.is_valid_quakeml-465"><a href="#EventTypeLookup.is_valid_quakeml-465"><span class="linenos">465</span></a>        <span class="k">return</span> <span class="n">event_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">valid_quakeml_types</span>
</span></pre></div>


    

                            </div>
                            <div id="EventTypeLookup.is_valid_uquakeml" class="classattr">
                                        <input id="EventTypeLookup.is_valid_uquakeml-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_valid_uquakeml</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">event_type</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="EventTypeLookup.is_valid_uquakeml-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#EventTypeLookup.is_valid_uquakeml"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="EventTypeLookup.is_valid_uquakeml-467"><a href="#EventTypeLookup.is_valid_uquakeml-467"><span class="linenos">467</span></a>    <span class="k">def</span> <span class="nf">is_valid_uquakeml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_type</span><span class="p">):</span>
</span><span id="EventTypeLookup.is_valid_uquakeml-468"><a href="#EventTypeLookup.is_valid_uquakeml-468"><span class="linenos">468</span></a>        <span class="k">return</span> <span class="n">event_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">valid_uquakeml_types</span>
</span></pre></div>


    

                            </div>
                </section>
                <section id="Event">
                            <input id="Event-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator">@update_doc</div>

    <span class="def">class</span>
    <span class="name">Event</span><wbr>(<span class="base">obspy.core.event.event.Event</span>):

                <label class="view-source-button" for="Event-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Event"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Event-471"><a href="#Event-471"><span class="linenos">471</span></a><span class="nd">@update_doc</span>
</span><span id="Event-472"><a href="#Event-472"><span class="linenos">472</span></a><span class="k">class</span> <span class="nc">Event</span><span class="p">(</span><span class="n">obsevent</span><span class="o">.</span><span class="n">Event</span><span class="p">):</span>
</span><span id="Event-473"><a href="#Event-473"><span class="linenos">473</span></a>
</span><span id="Event-474"><a href="#Event-474"><span class="linenos">474</span></a>    <span class="c1"># _format keyword is actualy a missing obspy default</span>
</span><span id="Event-475"><a href="#Event-475"><span class="linenos">475</span></a>
</span><span id="Event-476"><a href="#Event-476"><span class="linenos">476</span></a>    <span class="c1"># __doc__ = obsevent.Event.__doc__.replace(&#39;obspy&#39;, &#39;uquake&#39;)</span>
</span><span id="Event-477"><a href="#Event-477"><span class="linenos">477</span></a>
</span><span id="Event-478"><a href="#Event-478"><span class="linenos">478</span></a>    <span class="n">extra_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;_format&#39;</span><span class="p">]</span>
</span><span id="Event-479"><a href="#Event-479"><span class="linenos">479</span></a>    <span class="n">extra_types</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;_format&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">}</span>
</span><span id="Event-480"><a href="#Event-480"><span class="linenos">480</span></a>
</span><span id="Event-481"><a href="#Event-481"><span class="linenos">481</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Event-482"><a href="#Event-482"><span class="linenos">482</span></a>        <span class="k">if</span> <span class="n">obspy_obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Event-483"><a href="#Event-483"><span class="linenos">483</span></a>            <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Event-484"><a href="#Event-484"><span class="linenos">484</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Event-485"><a href="#Event-485"><span class="linenos">485</span></a>
</span><span id="Event-486"><a href="#Event-486"><span class="linenos">486</span></a>            <span class="n">pick_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Event-487"><a href="#Event-487"><span class="linenos">487</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">picks</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Event-488"><a href="#Event-488"><span class="linenos">488</span></a>            <span class="k">for</span> <span class="n">pick</span> <span class="ow">in</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">picks</span><span class="p">:</span>
</span><span id="Event-489"><a href="#Event-489"><span class="linenos">489</span></a>                <span class="n">uq_pick</span> <span class="o">=</span> <span class="n">Pick</span><span class="p">(</span><span class="n">obspy_obj</span><span class="o">=</span><span class="n">pick</span><span class="p">)</span>
</span><span id="Event-490"><a href="#Event-490"><span class="linenos">490</span></a>                <span class="n">pick_dict</span><span class="p">[</span><span class="n">pick</span><span class="o">.</span><span class="n">resource_id</span><span class="o">.</span><span class="n">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">uq_pick</span>
</span><span id="Event-491"><a href="#Event-491"><span class="linenos">491</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">picks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">uq_pick</span><span class="p">)</span>
</span><span id="Event-492"><a href="#Event-492"><span class="linenos">492</span></a>
</span><span id="Event-493"><a href="#Event-493"><span class="linenos">493</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">origins</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Event-494"><a href="#Event-494"><span class="linenos">494</span></a>            <span class="n">preferred_origin_id</span> <span class="o">=</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">preferred_origin_id</span>
</span><span id="Event-495"><a href="#Event-495"><span class="linenos">495</span></a>            <span class="k">for</span> <span class="n">origin</span> <span class="ow">in</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">origins</span><span class="p">:</span>
</span><span id="Event-496"><a href="#Event-496"><span class="linenos">496</span></a>                <span class="n">uq_origin</span> <span class="o">=</span> <span class="n">Origin</span><span class="p">(</span><span class="n">obspy_obj</span><span class="o">=</span><span class="n">origin</span><span class="p">)</span>
</span><span id="Event-497"><a href="#Event-497"><span class="linenos">497</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">origins</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">uq_origin</span><span class="p">)</span>
</span><span id="Event-498"><a href="#Event-498"><span class="linenos">498</span></a>                <span class="k">if</span> <span class="n">origin</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">==</span> <span class="n">preferred_origin_id</span><span class="p">:</span>
</span><span id="Event-499"><a href="#Event-499"><span class="linenos">499</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">preferred_origin_id</span> <span class="o">=</span> <span class="n">origin</span><span class="o">.</span><span class="n">resource_id</span>
</span><span id="Event-500"><a href="#Event-500"><span class="linenos">500</span></a>
</span><span id="Event-501"><a href="#Event-501"><span class="linenos">501</span></a>                <span class="k">for</span> <span class="n">arrival</span> <span class="ow">in</span> <span class="n">uq_origin</span><span class="o">.</span><span class="n">arrivals</span><span class="p">:</span>
</span><span id="Event-502"><a href="#Event-502"><span class="linenos">502</span></a>                    <span class="n">arrival</span><span class="o">.</span><span class="n">pick_id</span> <span class="o">=</span> <span class="n">pick_dict</span><span class="p">[</span><span class="n">arrival</span><span class="o">.</span><span class="n">pick_id</span><span class="o">.</span><span class="n">id</span><span class="p">]</span><span class="o">.</span><span class="n">resource_id</span>
</span><span id="Event-503"><a href="#Event-503"><span class="linenos">503</span></a>
</span><span id="Event-504"><a href="#Event-504"><span class="linenos">504</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">magnitudes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Event-505"><a href="#Event-505"><span class="linenos">505</span></a>            <span class="n">preferred_magnitude_id</span> <span class="o">=</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">preferred_magnitude_id</span>
</span><span id="Event-506"><a href="#Event-506"><span class="linenos">506</span></a>            <span class="k">for</span> <span class="n">magnitude</span> <span class="ow">in</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">magnitudes</span><span class="p">:</span>
</span><span id="Event-507"><a href="#Event-507"><span class="linenos">507</span></a>                <span class="n">uq_magnitude</span> <span class="o">=</span> <span class="n">Magnitude</span><span class="p">(</span><span class="n">obspy_obj</span><span class="o">=</span><span class="n">magnitude</span><span class="p">)</span>
</span><span id="Event-508"><a href="#Event-508"><span class="linenos">508</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">magnitudes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">uq_magnitude</span><span class="p">)</span>
</span><span id="Event-509"><a href="#Event-509"><span class="linenos">509</span></a>                <span class="k">if</span> <span class="n">magnitude</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">==</span> <span class="n">preferred_magnitude_id</span><span class="p">:</span>
</span><span id="Event-510"><a href="#Event-510"><span class="linenos">510</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">preferred_magnitude_id</span> <span class="o">=</span> <span class="n">uq_magnitude</span><span class="o">.</span><span class="n">resource_id</span>
</span><span id="Event-511"><a href="#Event-511"><span class="linenos">511</span></a>
</span><span id="Event-512"><a href="#Event-512"><span class="linenos">512</span></a>    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="Event-513"><a href="#Event-513"><span class="linenos">513</span></a>        <span class="n">_set_attr_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="Event-514"><a href="#Event-514"><span class="linenos">514</span></a>
</span><span id="Event-515"><a href="#Event-515"><span class="linenos">515</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Event-516"><a href="#Event-516"><span class="linenos">516</span></a>        <span class="k">return</span> <span class="s2">&quot;Event:</span><span class="se">\t</span><span class="si">%s</span><span class="se">\n\n</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
</span><span id="Event-517"><a href="#Event-517"><span class="linenos">517</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">short_str</span><span class="p">(),</span>
</span><span id="Event-518"><a href="#Event-518"><span class="linenos">518</span></a>            <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">super</span><span class="p">(</span><span class="n">Event</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">:]))</span>
</span><span id="Event-519"><a href="#Event-519"><span class="linenos">519</span></a>
</span><span id="Event-520"><a href="#Event-520"><span class="linenos">520</span></a>    <span class="k">def</span> <span class="nf">short_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Event-521"><a href="#Event-521"><span class="linenos">521</span></a>        <span class="n">out</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="Event-522"><a href="#Event-522"><span class="linenos">522</span></a>
</span><span id="Event-523"><a href="#Event-523"><span class="linenos">523</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">origins</span><span class="p">:</span>
</span><span id="Event-524"><a href="#Event-524"><span class="linenos">524</span></a>            <span class="n">og</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">preferred_origin</span><span class="p">()</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">origins</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="Event-525"><a href="#Event-525"><span class="linenos">525</span></a>
</span><span id="Event-526"><a href="#Event-526"><span class="linenos">526</span></a>            <span class="k">if</span> <span class="n">og</span><span class="o">.</span><span class="n">x</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Event-527"><a href="#Event-527"><span class="linenos">527</span></a>                <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Event-528"><a href="#Event-528"><span class="linenos">528</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Event-529"><a href="#Event-529"><span class="linenos">529</span></a>                <span class="n">x</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">x</span>
</span><span id="Event-530"><a href="#Event-530"><span class="linenos">530</span></a>            <span class="k">if</span> <span class="n">og</span><span class="o">.</span><span class="n">y</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Event-531"><a href="#Event-531"><span class="linenos">531</span></a>                <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Event-532"><a href="#Event-532"><span class="linenos">532</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Event-533"><a href="#Event-533"><span class="linenos">533</span></a>                <span class="n">y</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">y</span>
</span><span id="Event-534"><a href="#Event-534"><span class="linenos">534</span></a>            <span class="k">if</span> <span class="n">og</span><span class="o">.</span><span class="n">z</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Event-535"><a href="#Event-535"><span class="linenos">535</span></a>                <span class="n">z</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Event-536"><a href="#Event-536"><span class="linenos">536</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Event-537"><a href="#Event-537"><span class="linenos">537</span></a>                <span class="n">z</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">z</span>
</span><span id="Event-538"><a href="#Event-538"><span class="linenos">538</span></a>
</span><span id="Event-539"><a href="#Event-539"><span class="linenos">539</span></a>            <span class="n">out</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> | </span><span class="si">%0.2f</span><span class="s1">, </span><span class="si">%0.2f</span><span class="s1">, </span><span class="si">%0.2f</span><span class="s1"> | </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">og</span><span class="o">.</span><span class="n">time</span><span class="p">,</span>
</span><span id="Event-540"><a href="#Event-540"><span class="linenos">540</span></a>                                                      <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span>
</span><span id="Event-541"><a href="#Event-541"><span class="linenos">541</span></a>                                                      <span class="n">og</span><span class="o">.</span><span class="n">evaluation_mode</span><span class="p">)</span>
</span><span id="Event-542"><a href="#Event-542"><span class="linenos">542</span></a>
</span><span id="Event-543"><a href="#Event-543"><span class="linenos">543</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">magnitudes</span><span class="p">:</span>
</span><span id="Event-544"><a href="#Event-544"><span class="linenos">544</span></a>            <span class="n">magnitude</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">preferred_magnitude</span><span class="p">()</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">magnitudes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="Event-545"><a href="#Event-545"><span class="linenos">545</span></a>            <span class="n">out</span> <span class="o">+=</span> <span class="s1">&#39; | </span><span class="si">%0.2f</span><span class="s1"> </span><span class="si">%-2s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">magnitude</span><span class="o">.</span><span class="n">mag</span><span class="p">,</span>
</span><span id="Event-546"><a href="#Event-546"><span class="linenos">546</span></a>                                      <span class="n">magnitude</span><span class="o">.</span><span class="n">magnitude_type</span><span class="p">)</span>
</span><span id="Event-547"><a href="#Event-547"><span class="linenos">547</span></a>
</span><span id="Event-548"><a href="#Event-548"><span class="linenos">548</span></a>        <span class="k">return</span> <span class="n">out</span>
</span><span id="Event-549"><a href="#Event-549"><span class="linenos">549</span></a>
</span><span id="Event-550"><a href="#Event-550"><span class="linenos">550</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">picks</span> <span class="o">+=</span> <span class="n">picks</span>
</span><span id="Event-551"><a href="#Event-551"><span class="linenos">551</span></a>
</span><span id="Event-552"><a href="#Event-552"><span class="linenos">552</span></a>    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fileobj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Event-553"><a href="#Event-553"><span class="linenos">553</span></a>        <span class="k">for</span> <span class="n">ori</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">origins</span><span class="p">:</span>
</span><span id="Event-554"><a href="#Event-554"><span class="linenos">554</span></a>            <span class="n">arrivals</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Event-555"><a href="#Event-555"><span class="linenos">555</span></a>            <span class="k">for</span> <span class="n">ar</span> <span class="ow">in</span> <span class="n">ori</span><span class="o">.</span><span class="n">arrivals</span><span class="p">:</span>
</span><span id="Event-556"><a href="#Event-556"><span class="linenos">556</span></a>                <span class="k">if</span> <span class="s1">&#39;extra&#39;</span> <span class="ow">in</span> <span class="n">ar</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Event-557"><a href="#Event-557"><span class="linenos">557</span></a>                    <span class="k">del</span> <span class="n">ar</span><span class="o">.</span><span class="n">extra</span>
</span><span id="Event-558"><a href="#Event-558"><span class="linenos">558</span></a>
</span><span id="Event-559"><a href="#Event-559"><span class="linenos">559</span></a>        <span class="k">return</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fileobj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Event-560"><a href="#Event-560"><span class="linenos">560</span></a>
</span><span id="Event-561"><a href="#Event-561"><span class="linenos">561</span></a>    <span class="k">def</span> <span class="nf">plot_focal_mechanism</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Event-562"><a href="#Event-562"><span class="linenos">562</span></a>        <span class="k">pass</span>
</span><span id="Event-563"><a href="#Event-563"><span class="linenos">563</span></a>
</span><span id="Event-564"><a href="#Event-564"><span class="linenos">564</span></a>    <span class="k">def</span> <span class="nf">append_origin_as_preferred_origin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_origin</span><span class="p">:</span> <span class="n">Origin</span><span class="p">):</span>
</span><span id="Event-565"><a href="#Event-565"><span class="linenos">565</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">origins</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_origin</span><span class="p">)</span>
</span><span id="Event-566"><a href="#Event-566"><span class="linenos">566</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">preferred_origin_id</span> <span class="o">=</span> <span class="n">new_origin</span><span class="o">.</span><span class="n">resource_id</span>
</span></pre></div>


            <div class="docstring"><p>The class Event describes a seismic event which does not necessarily need
to be a tectonic earthquake. An event is usually associated with one or
more origins, which contain information about focal time and geographical
location of the event. Multiple origins can cover automatic and manual
locations, a set of location from different agencies, locations generated
with different location programs and earth models, etc. Furthermore, an
event is usually associated with one or more magnitudes, and with one or
more focal mechanism determinations.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>resource_id</strong>:  Resource identifier of Event.</li>
<li><strong>force_resource_id</strong>:  If set to False, the automatic initialization of
<code>resource_id</code> attribute in case it is not specified will be skipped.</li>
<li><strong>event_type</strong>:  Describes the type of an event.
See <code>~uquake.core.event.header.EventType</code> for allowed values.</li>
<li><strong>event_type_certainty</strong>:  Denotes how certain the information on event
type is.
See <code>~uquake.core.event.header.EventTypeCertainty</code> for allowed
values.</li>
<li><strong>creation_info</strong>:  Creation information used to describe author,
version, and creation time.</li>
<li><strong>event_descriptions</strong>:  Additional event description, like earthquake
name, Flinn-Engdahl region, etc.</li>
<li><strong>comments</strong>:  Additional comments.</li>
<li><strong>picks</strong>:  Picks associated with the event.</li>
<li><strong>amplitudes</strong>:  Amplitudes associated with the event.</li>
<li><strong>focal_mechanisms</strong>:  Focal mechanisms associated with the event</li>
<li><strong>origins</strong>:  Origins associated with the event.</li>
<li><strong>magnitudes</strong>:  Magnitudes associated with the event.</li>
<li><strong>station_magnitudes</strong>:  Station magnitudes associated with the event.</li>
</ul>

<div class="pdoc-alert pdoc-alert-note">

<p>For handling additional information not covered by the QuakeML
standard and how to output it to QuakeML see the
:ref:<code>ObsPy Tutorial &lt;quakeml-extra&gt;</code>.</p>

</div>
</div>


                            <div id="Event.__init__" class="classattr">
                                        <input id="Event.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Event</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="Event.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Event.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Event.__init__-481"><a href="#Event.__init__-481"><span class="linenos">481</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Event.__init__-482"><a href="#Event.__init__-482"><span class="linenos">482</span></a>        <span class="k">if</span> <span class="n">obspy_obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Event.__init__-483"><a href="#Event.__init__-483"><span class="linenos">483</span></a>            <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Event.__init__-484"><a href="#Event.__init__-484"><span class="linenos">484</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Event.__init__-485"><a href="#Event.__init__-485"><span class="linenos">485</span></a>
</span><span id="Event.__init__-486"><a href="#Event.__init__-486"><span class="linenos">486</span></a>            <span class="n">pick_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Event.__init__-487"><a href="#Event.__init__-487"><span class="linenos">487</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">picks</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Event.__init__-488"><a href="#Event.__init__-488"><span class="linenos">488</span></a>            <span class="k">for</span> <span class="n">pick</span> <span class="ow">in</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">picks</span><span class="p">:</span>
</span><span id="Event.__init__-489"><a href="#Event.__init__-489"><span class="linenos">489</span></a>                <span class="n">uq_pick</span> <span class="o">=</span> <span class="n">Pick</span><span class="p">(</span><span class="n">obspy_obj</span><span class="o">=</span><span class="n">pick</span><span class="p">)</span>
</span><span id="Event.__init__-490"><a href="#Event.__init__-490"><span class="linenos">490</span></a>                <span class="n">pick_dict</span><span class="p">[</span><span class="n">pick</span><span class="o">.</span><span class="n">resource_id</span><span class="o">.</span><span class="n">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">uq_pick</span>
</span><span id="Event.__init__-491"><a href="#Event.__init__-491"><span class="linenos">491</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">picks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">uq_pick</span><span class="p">)</span>
</span><span id="Event.__init__-492"><a href="#Event.__init__-492"><span class="linenos">492</span></a>
</span><span id="Event.__init__-493"><a href="#Event.__init__-493"><span class="linenos">493</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">origins</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Event.__init__-494"><a href="#Event.__init__-494"><span class="linenos">494</span></a>            <span class="n">preferred_origin_id</span> <span class="o">=</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">preferred_origin_id</span>
</span><span id="Event.__init__-495"><a href="#Event.__init__-495"><span class="linenos">495</span></a>            <span class="k">for</span> <span class="n">origin</span> <span class="ow">in</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">origins</span><span class="p">:</span>
</span><span id="Event.__init__-496"><a href="#Event.__init__-496"><span class="linenos">496</span></a>                <span class="n">uq_origin</span> <span class="o">=</span> <span class="n">Origin</span><span class="p">(</span><span class="n">obspy_obj</span><span class="o">=</span><span class="n">origin</span><span class="p">)</span>
</span><span id="Event.__init__-497"><a href="#Event.__init__-497"><span class="linenos">497</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">origins</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">uq_origin</span><span class="p">)</span>
</span><span id="Event.__init__-498"><a href="#Event.__init__-498"><span class="linenos">498</span></a>                <span class="k">if</span> <span class="n">origin</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">==</span> <span class="n">preferred_origin_id</span><span class="p">:</span>
</span><span id="Event.__init__-499"><a href="#Event.__init__-499"><span class="linenos">499</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">preferred_origin_id</span> <span class="o">=</span> <span class="n">origin</span><span class="o">.</span><span class="n">resource_id</span>
</span><span id="Event.__init__-500"><a href="#Event.__init__-500"><span class="linenos">500</span></a>
</span><span id="Event.__init__-501"><a href="#Event.__init__-501"><span class="linenos">501</span></a>                <span class="k">for</span> <span class="n">arrival</span> <span class="ow">in</span> <span class="n">uq_origin</span><span class="o">.</span><span class="n">arrivals</span><span class="p">:</span>
</span><span id="Event.__init__-502"><a href="#Event.__init__-502"><span class="linenos">502</span></a>                    <span class="n">arrival</span><span class="o">.</span><span class="n">pick_id</span> <span class="o">=</span> <span class="n">pick_dict</span><span class="p">[</span><span class="n">arrival</span><span class="o">.</span><span class="n">pick_id</span><span class="o">.</span><span class="n">id</span><span class="p">]</span><span class="o">.</span><span class="n">resource_id</span>
</span><span id="Event.__init__-503"><a href="#Event.__init__-503"><span class="linenos">503</span></a>
</span><span id="Event.__init__-504"><a href="#Event.__init__-504"><span class="linenos">504</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">magnitudes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Event.__init__-505"><a href="#Event.__init__-505"><span class="linenos">505</span></a>            <span class="n">preferred_magnitude_id</span> <span class="o">=</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">preferred_magnitude_id</span>
</span><span id="Event.__init__-506"><a href="#Event.__init__-506"><span class="linenos">506</span></a>            <span class="k">for</span> <span class="n">magnitude</span> <span class="ow">in</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">magnitudes</span><span class="p">:</span>
</span><span id="Event.__init__-507"><a href="#Event.__init__-507"><span class="linenos">507</span></a>                <span class="n">uq_magnitude</span> <span class="o">=</span> <span class="n">Magnitude</span><span class="p">(</span><span class="n">obspy_obj</span><span class="o">=</span><span class="n">magnitude</span><span class="p">)</span>
</span><span id="Event.__init__-508"><a href="#Event.__init__-508"><span class="linenos">508</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">magnitudes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">uq_magnitude</span><span class="p">)</span>
</span><span id="Event.__init__-509"><a href="#Event.__init__-509"><span class="linenos">509</span></a>                <span class="k">if</span> <span class="n">magnitude</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">==</span> <span class="n">preferred_magnitude_id</span><span class="p">:</span>
</span><span id="Event.__init__-510"><a href="#Event.__init__-510"><span class="linenos">510</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">preferred_magnitude_id</span> <span class="o">=</span> <span class="n">uq_magnitude</span><span class="o">.</span><span class="n">resource_id</span>
</span></pre></div>


            <div class="docstring"><p>An AttribDict can be initialized in two ways. It can be given an
existing dictionary as a simple argument or alternatively all keyword
arguments will become (key, value) pairs.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">attrib_dict_1</span> <span class="o">=</span> <span class="n">AttribDict</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attrib_dict_2</span> <span class="o">=</span> <span class="n">AttribDict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attrib_dict_1</span>  <span class="c1">#doctest: +SKIP</span>
<span class="go">AttribDict({&#39;a&#39;: 1, &#39;b&#39;: 2})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span><span class="p">(</span><span class="n">attrib_dict_1</span> <span class="o">==</span> <span class="n">attrib_dict_2</span><span class="p">)</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="Event.extra_keys" class="classattr">
                                <div class="attr variable">
            <span class="name">extra_keys</span>        =
<span class="default_value">[&#39;_format&#39;]</span>

        
    </div>
    <a class="headerlink" href="#Event.extra_keys"></a>
    
    

                            </div>
                            <div id="Event.extra_types" class="classattr">
                                <div class="attr variable">
            <span class="name">extra_types</span>        =
<span class="default_value">{&#39;_format&#39;: &lt;class &#39;str&#39;&gt;}</span>

        
    </div>
    <a class="headerlink" href="#Event.extra_types"></a>
    
    

                            </div>
                            <div id="Event.short_str" class="classattr">
                                        <input id="Event.short_str-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">short_str</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Event.short_str-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Event.short_str"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Event.short_str-520"><a href="#Event.short_str-520"><span class="linenos">520</span></a>    <span class="k">def</span> <span class="nf">short_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Event.short_str-521"><a href="#Event.short_str-521"><span class="linenos">521</span></a>        <span class="n">out</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="Event.short_str-522"><a href="#Event.short_str-522"><span class="linenos">522</span></a>
</span><span id="Event.short_str-523"><a href="#Event.short_str-523"><span class="linenos">523</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">origins</span><span class="p">:</span>
</span><span id="Event.short_str-524"><a href="#Event.short_str-524"><span class="linenos">524</span></a>            <span class="n">og</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">preferred_origin</span><span class="p">()</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">origins</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="Event.short_str-525"><a href="#Event.short_str-525"><span class="linenos">525</span></a>
</span><span id="Event.short_str-526"><a href="#Event.short_str-526"><span class="linenos">526</span></a>            <span class="k">if</span> <span class="n">og</span><span class="o">.</span><span class="n">x</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Event.short_str-527"><a href="#Event.short_str-527"><span class="linenos">527</span></a>                <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Event.short_str-528"><a href="#Event.short_str-528"><span class="linenos">528</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Event.short_str-529"><a href="#Event.short_str-529"><span class="linenos">529</span></a>                <span class="n">x</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">x</span>
</span><span id="Event.short_str-530"><a href="#Event.short_str-530"><span class="linenos">530</span></a>            <span class="k">if</span> <span class="n">og</span><span class="o">.</span><span class="n">y</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Event.short_str-531"><a href="#Event.short_str-531"><span class="linenos">531</span></a>                <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Event.short_str-532"><a href="#Event.short_str-532"><span class="linenos">532</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Event.short_str-533"><a href="#Event.short_str-533"><span class="linenos">533</span></a>                <span class="n">y</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">y</span>
</span><span id="Event.short_str-534"><a href="#Event.short_str-534"><span class="linenos">534</span></a>            <span class="k">if</span> <span class="n">og</span><span class="o">.</span><span class="n">z</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Event.short_str-535"><a href="#Event.short_str-535"><span class="linenos">535</span></a>                <span class="n">z</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Event.short_str-536"><a href="#Event.short_str-536"><span class="linenos">536</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Event.short_str-537"><a href="#Event.short_str-537"><span class="linenos">537</span></a>                <span class="n">z</span> <span class="o">=</span> <span class="n">og</span><span class="o">.</span><span class="n">z</span>
</span><span id="Event.short_str-538"><a href="#Event.short_str-538"><span class="linenos">538</span></a>
</span><span id="Event.short_str-539"><a href="#Event.short_str-539"><span class="linenos">539</span></a>            <span class="n">out</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> | </span><span class="si">%0.2f</span><span class="s1">, </span><span class="si">%0.2f</span><span class="s1">, </span><span class="si">%0.2f</span><span class="s1"> | </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">og</span><span class="o">.</span><span class="n">time</span><span class="p">,</span>
</span><span id="Event.short_str-540"><a href="#Event.short_str-540"><span class="linenos">540</span></a>                                                      <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span>
</span><span id="Event.short_str-541"><a href="#Event.short_str-541"><span class="linenos">541</span></a>                                                      <span class="n">og</span><span class="o">.</span><span class="n">evaluation_mode</span><span class="p">)</span>
</span><span id="Event.short_str-542"><a href="#Event.short_str-542"><span class="linenos">542</span></a>
</span><span id="Event.short_str-543"><a href="#Event.short_str-543"><span class="linenos">543</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">magnitudes</span><span class="p">:</span>
</span><span id="Event.short_str-544"><a href="#Event.short_str-544"><span class="linenos">544</span></a>            <span class="n">magnitude</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">preferred_magnitude</span><span class="p">()</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">magnitudes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="Event.short_str-545"><a href="#Event.short_str-545"><span class="linenos">545</span></a>            <span class="n">out</span> <span class="o">+=</span> <span class="s1">&#39; | </span><span class="si">%0.2f</span><span class="s1"> </span><span class="si">%-2s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">magnitude</span><span class="o">.</span><span class="n">mag</span><span class="p">,</span>
</span><span id="Event.short_str-546"><a href="#Event.short_str-546"><span class="linenos">546</span></a>                                      <span class="n">magnitude</span><span class="o">.</span><span class="n">magnitude_type</span><span class="p">)</span>
</span><span id="Event.short_str-547"><a href="#Event.short_str-547"><span class="linenos">547</span></a>
</span><span id="Event.short_str-548"><a href="#Event.short_str-548"><span class="linenos">548</span></a>        <span class="k">return</span> <span class="n">out</span>
</span><span id="Event.short_str-549"><a href="#Event.short_str-549"><span class="linenos">549</span></a>
</span><span id="Event.short_str-550"><a href="#Event.short_str-550"><span class="linenos">550</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">picks</span> <span class="o">+=</span> <span class="n">picks</span>
</span></pre></div>


            <div class="docstring"><p>Returns a short string representation of the current Event.</p>

<p>Example:
Time | Lat | Long | Magnitude of the first origin, e.g.
2011-03-11T05:46:24.120000Z | +38.297, +142.373 | 9.1 MW</p>
</div>


                            </div>
                            <div id="Event.write" class="classattr">
                                        <input id="Event.write-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">write</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">fileobj</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Event.write-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Event.write"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Event.write-552"><a href="#Event.write-552"><span class="linenos">552</span></a>    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fileobj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Event.write-553"><a href="#Event.write-553"><span class="linenos">553</span></a>        <span class="k">for</span> <span class="n">ori</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">origins</span><span class="p">:</span>
</span><span id="Event.write-554"><a href="#Event.write-554"><span class="linenos">554</span></a>            <span class="n">arrivals</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Event.write-555"><a href="#Event.write-555"><span class="linenos">555</span></a>            <span class="k">for</span> <span class="n">ar</span> <span class="ow">in</span> <span class="n">ori</span><span class="o">.</span><span class="n">arrivals</span><span class="p">:</span>
</span><span id="Event.write-556"><a href="#Event.write-556"><span class="linenos">556</span></a>                <span class="k">if</span> <span class="s1">&#39;extra&#39;</span> <span class="ow">in</span> <span class="n">ar</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Event.write-557"><a href="#Event.write-557"><span class="linenos">557</span></a>                    <span class="k">del</span> <span class="n">ar</span><span class="o">.</span><span class="n">extra</span>
</span><span id="Event.write-558"><a href="#Event.write-558"><span class="linenos">558</span></a>
</span><span id="Event.write-559"><a href="#Event.write-559"><span class="linenos">559</span></a>        <span class="k">return</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fileobj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Saves event information into a file.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>filename</strong>:  The name of the file to write.</li>
<li><strong>format</strong>:  The file format to use (e.g. <code>"QUAKEML"</code>). See
<code>obspy.core.event.catalog.Catalog.write()()</code> for a list of
supported formats.</li>
<li><strong>kwargs</strong>:  Additional keyword arguments passed to the underlying
plugin's writer method.</li>
</ul>

<p>.. rubric:: Example</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">obspy</span> <span class="kn">import</span> <span class="n">read_events</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">event</span> <span class="o">=</span> <span class="n">read_events</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># doctest: +SKIP</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">event</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;example.xml&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;QUAKEML&quot;</span><span class="p">)</span>  <span class="c1"># doctest: +SKIP</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="Event.plot_focal_mechanism" class="classattr">
                                        <input id="Event.plot_focal_mechanism-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">plot_focal_mechanism</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Event.plot_focal_mechanism-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Event.plot_focal_mechanism"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Event.plot_focal_mechanism-561"><a href="#Event.plot_focal_mechanism-561"><span class="linenos">561</span></a>    <span class="k">def</span> <span class="nf">plot_focal_mechanism</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Event.plot_focal_mechanism-562"><a href="#Event.plot_focal_mechanism-562"><span class="linenos">562</span></a>        <span class="k">pass</span>
</span></pre></div>


    

                            </div>
                            <div id="Event.append_origin_as_preferred_origin" class="classattr">
                                        <input id="Event.append_origin_as_preferred_origin-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">append_origin_as_preferred_origin</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">new_origin</span><span class="p">:</span> <span class="n">obspy</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">origin</span><span class="o">.</span><span class="n">Origin</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Event.append_origin_as_preferred_origin-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Event.append_origin_as_preferred_origin"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Event.append_origin_as_preferred_origin-564"><a href="#Event.append_origin_as_preferred_origin-564"><span class="linenos">564</span></a>    <span class="k">def</span> <span class="nf">append_origin_as_preferred_origin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_origin</span><span class="p">:</span> <span class="n">Origin</span><span class="p">):</span>
</span><span id="Event.append_origin_as_preferred_origin-565"><a href="#Event.append_origin_as_preferred_origin-565"><span class="linenos">565</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">origins</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_origin</span><span class="p">)</span>
</span><span id="Event.append_origin_as_preferred_origin-566"><a href="#Event.append_origin_as_preferred_origin-566"><span class="linenos">566</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">preferred_origin_id</span> <span class="o">=</span> <span class="n">new_origin</span><span class="o">.</span><span class="n">resource_id</span>
</span></pre></div>


    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>obspy.core.event.event.Event</dt>
                                <dd id="Event.do_not_warn_on" class="variable">do_not_warn_on</dd>
                <dd id="Event.preferred_origin" class="function">preferred_origin</dd>
                <dd id="Event.preferred_magnitude" class="function">preferred_magnitude</dd>
                <dd id="Event.preferred_focal_mechanism" class="function">preferred_focal_mechanism</dd>
                <dd id="Event.plot" class="function">plot</dd>
                <dd id="Event.scope_resource_ids" class="function">scope_resource_ids</dd>

            </div>
            <div><dt>obspy.core.event.base._event_type_class_factory.&lt;locals&gt;.AbstractEventType</dt>
                                <dd id="Event.warn_on_non_default_key" class="variable">warn_on_non_default_key</dd>
                <dd id="Event.defaults" class="variable">defaults</dd>
                <dd id="Event.clear" class="function">clear</dd>
                <dd id="Event.copy" class="function">copy</dd>
                <dd id="Event.item" class="variable">item</dd>
                <dd id="Event.key" class="variable">key</dd>
                <dd id="Event.value" class="variable">value</dd>

            </div>
            <div><dt>obspy.core.util.attribdict.AttribDict</dt>
                                <dd id="Event.readonly" class="variable">readonly</dd>
                <dd id="Event.update" class="function">update</dd>

            </div>
            <div><dt>collections.abc.MutableMapping</dt>
                                <dd id="Event.pop" class="function">pop</dd>
                <dd id="Event.popitem" class="function">popitem</dd>
                <dd id="Event.setdefault" class="function">setdefault</dd>

            </div>
            <div><dt>collections.abc.Mapping</dt>
                                <dd id="Event.get" class="function">get</dd>
                <dd id="Event.keys" class="function">keys</dd>
                <dd id="Event.items" class="function">items</dd>
                <dd id="Event.values" class="function">values</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="UncertaintyPointCloud">
                            <input id="UncertaintyPointCloud-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">UncertaintyPointCloud</span>:

                <label class="view-source-button" for="UncertaintyPointCloud-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UncertaintyPointCloud"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UncertaintyPointCloud-569"><a href="#UncertaintyPointCloud-569"><span class="linenos">569</span></a><span class="k">class</span> <span class="nc">UncertaintyPointCloud</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="UncertaintyPointCloud-570"><a href="#UncertaintyPointCloud-570"><span class="linenos">570</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locations</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">probabilities</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
</span><span id="UncertaintyPointCloud-571"><a href="#UncertaintyPointCloud-571"><span class="linenos">571</span></a>                 <span class="n">coordinate_system</span><span class="p">:</span> <span class="n">CoordinateSystem</span> <span class="o">=</span> <span class="n">CoordinateSystem</span><span class="o">.</span><span class="n">NED</span><span class="p">):</span>
</span><span id="UncertaintyPointCloud-572"><a href="#UncertaintyPointCloud-572"><span class="linenos">572</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">locations</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
</span><span id="UncertaintyPointCloud-573"><a href="#UncertaintyPointCloud-573"><span class="linenos">573</span></a>            <span class="n">locations</span> <span class="o">=</span> <span class="n">locations</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</span><span id="UncertaintyPointCloud-574"><a href="#UncertaintyPointCloud-574"><span class="linenos">574</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">probabilities</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
</span><span id="UncertaintyPointCloud-575"><a href="#UncertaintyPointCloud-575"><span class="linenos">575</span></a>            <span class="n">probabilities</span> <span class="o">=</span> <span class="n">probabilities</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</span><span id="UncertaintyPointCloud-576"><a href="#UncertaintyPointCloud-576"><span class="linenos">576</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">locations</span> <span class="o">=</span> <span class="n">locations</span>
</span><span id="UncertaintyPointCloud-577"><a href="#UncertaintyPointCloud-577"><span class="linenos">577</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">probabilities</span> <span class="o">=</span> <span class="n">probabilities</span>
</span><span id="UncertaintyPointCloud-578"><a href="#UncertaintyPointCloud-578"><span class="linenos">578</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span> <span class="o">=</span> <span class="n">coordinate_system</span>
</span><span id="UncertaintyPointCloud-579"><a href="#UncertaintyPointCloud-579"><span class="linenos">579</span></a>
</span><span id="UncertaintyPointCloud-580"><a href="#UncertaintyPointCloud-580"><span class="linenos">580</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="UncertaintyPointCloud-581"><a href="#UncertaintyPointCloud-581"><span class="linenos">581</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
</span><span id="UncertaintyPointCloud-582"><a href="#UncertaintyPointCloud-582"><span class="linenos">582</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="UncertaintyPointCloud-583"><a href="#UncertaintyPointCloud-583"><span class="linenos">583</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">probabilities</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">probabilities</span><span class="p">:</span>
</span><span id="UncertaintyPointCloud-584"><a href="#UncertaintyPointCloud-584"><span class="linenos">584</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="UncertaintyPointCloud-585"><a href="#UncertaintyPointCloud-585"><span class="linenos">585</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">locations</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">locations</span><span class="p">:</span>
</span><span id="UncertaintyPointCloud-586"><a href="#UncertaintyPointCloud-586"><span class="linenos">586</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="UncertaintyPointCloud-587"><a href="#UncertaintyPointCloud-587"><span class="linenos">587</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">coordinate_system</span><span class="p">:</span>
</span><span id="UncertaintyPointCloud-588"><a href="#UncertaintyPointCloud-588"><span class="linenos">588</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="UncertaintyPointCloud-589"><a href="#UncertaintyPointCloud-589"><span class="linenos">589</span></a>
</span><span id="UncertaintyPointCloud-590"><a href="#UncertaintyPointCloud-590"><span class="linenos">590</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="UncertaintyPointCloud-591"><a href="#UncertaintyPointCloud-591"><span class="linenos">591</span></a>
</span><span id="UncertaintyPointCloud-592"><a href="#UncertaintyPointCloud-592"><span class="linenos">592</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="UncertaintyPointCloud-593"><a href="#UncertaintyPointCloud-593"><span class="linenos">593</span></a>        <span class="k">return</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;UncertaintyPointCloud:</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="UncertaintyPointCloud-594"><a href="#UncertaintyPointCloud-594"><span class="linenos">594</span></a>                <span class="sa">f</span><span class="s2">&quot;number of points: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">locations</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="UncertaintyPointCloud-595"><a href="#UncertaintyPointCloud-595"><span class="linenos">595</span></a>                <span class="sa">f</span><span class="s2">&quot;location range:</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="UncertaintyPointCloud-596"><a href="#UncertaintyPointCloud-596"><span class="linenos">596</span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">x range: &quot;</span>
</span><span id="UncertaintyPointCloud-597"><a href="#UncertaintyPointCloud-597"><span class="linenos">597</span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">locations</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">locations</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="UncertaintyPointCloud-598"><a href="#UncertaintyPointCloud-598"><span class="linenos">598</span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">y range: &quot;</span>
</span><span id="UncertaintyPointCloud-599"><a href="#UncertaintyPointCloud-599"><span class="linenos">599</span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">locations</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">locations</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="UncertaintyPointCloud-600"><a href="#UncertaintyPointCloud-600"><span class="linenos">600</span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">z range: &quot;</span>
</span><span id="UncertaintyPointCloud-601"><a href="#UncertaintyPointCloud-601"><span class="linenos">601</span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">locations</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">locations</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="UncertaintyPointCloud-602"><a href="#UncertaintyPointCloud-602"><span class="linenos">602</span></a>                <span class="sa">f</span><span class="s2">&quot;&quot;</span>
</span><span id="UncertaintyPointCloud-603"><a href="#UncertaintyPointCloud-603"><span class="linenos">603</span></a>                <span class="sa">f</span><span class="s2">&quot;coordinate system: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="UncertaintyPointCloud-604"><a href="#UncertaintyPointCloud-604"><span class="linenos">604</span></a>
</span><span id="UncertaintyPointCloud-605"><a href="#UncertaintyPointCloud-605"><span class="linenos">605</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="UncertaintyPointCloud-606"><a href="#UncertaintyPointCloud-606"><span class="linenos">606</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
</span><span id="UncertaintyPointCloud-607"><a href="#UncertaintyPointCloud-607"><span class="linenos">607</span></a>
</span><span id="UncertaintyPointCloud-608"><a href="#UncertaintyPointCloud-608"><span class="linenos">608</span></a>    <span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="UncertaintyPointCloud-609"><a href="#UncertaintyPointCloud-609"><span class="linenos">609</span></a>        <span class="n">out_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="UncertaintyPointCloud-610"><a href="#UncertaintyPointCloud-610"><span class="linenos">610</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="UncertaintyPointCloud-611"><a href="#UncertaintyPointCloud-611"><span class="linenos">611</span></a>            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;coordinate_system&#39;</span><span class="p">:</span>
</span><span id="UncertaintyPointCloud-612"><a href="#UncertaintyPointCloud-612"><span class="linenos">612</span></a>                <span class="n">out_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span><span class="p">)</span>
</span><span id="UncertaintyPointCloud-613"><a href="#UncertaintyPointCloud-613"><span class="linenos">613</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="UncertaintyPointCloud-614"><a href="#UncertaintyPointCloud-614"><span class="linenos">614</span></a>                <span class="n">out_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="UncertaintyPointCloud-615"><a href="#UncertaintyPointCloud-615"><span class="linenos">615</span></a>
</span><span id="UncertaintyPointCloud-616"><a href="#UncertaintyPointCloud-616"><span class="linenos">616</span></a>        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">out_dict</span><span class="p">)</span>
</span><span id="UncertaintyPointCloud-617"><a href="#UncertaintyPointCloud-617"><span class="linenos">617</span></a>
</span><span id="UncertaintyPointCloud-618"><a href="#UncertaintyPointCloud-618"><span class="linenos">618</span></a>    <span class="nd">@classmethod</span>
</span><span id="UncertaintyPointCloud-619"><a href="#UncertaintyPointCloud-619"><span class="linenos">619</span></a>    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">json_string</span><span class="p">):</span>
</span><span id="UncertaintyPointCloud-620"><a href="#UncertaintyPointCloud-620"><span class="linenos">620</span></a>        <span class="n">in_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_string</span><span class="p">)</span>
</span><span id="UncertaintyPointCloud-621"><a href="#UncertaintyPointCloud-621"><span class="linenos">621</span></a>        <span class="k">if</span> <span class="s1">&#39;coordinate_system&#39;</span> <span class="ow">in</span> <span class="n">in_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="UncertaintyPointCloud-622"><a href="#UncertaintyPointCloud-622"><span class="linenos">622</span></a>            <span class="n">in_dict</span><span class="p">[</span><span class="s1">&#39;coordinate_system&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">CoordinateSystem</span><span class="p">,</span>
</span><span id="UncertaintyPointCloud-623"><a href="#UncertaintyPointCloud-623"><span class="linenos">623</span></a>                <span class="n">in_dict</span><span class="p">[</span><span class="s1">&#39;coordinate_system&#39;</span><span class="p">])</span>
</span><span id="UncertaintyPointCloud-624"><a href="#UncertaintyPointCloud-624"><span class="linenos">624</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">in_dict</span><span class="p">)</span>
</span></pre></div>


    

                            <div id="UncertaintyPointCloud.__init__" class="classattr">
                                        <input id="UncertaintyPointCloud.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">UncertaintyPointCloud</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">locations</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>,</span><span class="param">	<span class="n">probabilities</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>,</span><span class="param">	<span class="n">coordinate_system</span><span class="p">:</span> <span class="n"><a href="coordinates.html#CoordinateSystem">uquake.core.coordinates.CoordinateSystem</a></span> <span class="o">=</span> <span class="n">North</span><span class="p">,</span> <span class="n">East</span><span class="p">,</span> <span class="n">Down</span> <span class="p">(</span><span class="n">NED</span><span class="p">)</span></span>)</span>

                <label class="view-source-button" for="UncertaintyPointCloud.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UncertaintyPointCloud.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UncertaintyPointCloud.__init__-570"><a href="#UncertaintyPointCloud.__init__-570"><span class="linenos">570</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locations</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">probabilities</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
</span><span id="UncertaintyPointCloud.__init__-571"><a href="#UncertaintyPointCloud.__init__-571"><span class="linenos">571</span></a>                 <span class="n">coordinate_system</span><span class="p">:</span> <span class="n">CoordinateSystem</span> <span class="o">=</span> <span class="n">CoordinateSystem</span><span class="o">.</span><span class="n">NED</span><span class="p">):</span>
</span><span id="UncertaintyPointCloud.__init__-572"><a href="#UncertaintyPointCloud.__init__-572"><span class="linenos">572</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">locations</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
</span><span id="UncertaintyPointCloud.__init__-573"><a href="#UncertaintyPointCloud.__init__-573"><span class="linenos">573</span></a>            <span class="n">locations</span> <span class="o">=</span> <span class="n">locations</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</span><span id="UncertaintyPointCloud.__init__-574"><a href="#UncertaintyPointCloud.__init__-574"><span class="linenos">574</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">probabilities</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
</span><span id="UncertaintyPointCloud.__init__-575"><a href="#UncertaintyPointCloud.__init__-575"><span class="linenos">575</span></a>            <span class="n">probabilities</span> <span class="o">=</span> <span class="n">probabilities</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</span><span id="UncertaintyPointCloud.__init__-576"><a href="#UncertaintyPointCloud.__init__-576"><span class="linenos">576</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">locations</span> <span class="o">=</span> <span class="n">locations</span>
</span><span id="UncertaintyPointCloud.__init__-577"><a href="#UncertaintyPointCloud.__init__-577"><span class="linenos">577</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">probabilities</span> <span class="o">=</span> <span class="n">probabilities</span>
</span><span id="UncertaintyPointCloud.__init__-578"><a href="#UncertaintyPointCloud.__init__-578"><span class="linenos">578</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span> <span class="o">=</span> <span class="n">coordinate_system</span>
</span></pre></div>


    

                            </div>
                            <div id="UncertaintyPointCloud.locations" class="classattr">
                                <div class="attr variable">
            <span class="name">locations</span>

        
    </div>
    <a class="headerlink" href="#UncertaintyPointCloud.locations"></a>
    
    

                            </div>
                            <div id="UncertaintyPointCloud.probabilities" class="classattr">
                                <div class="attr variable">
            <span class="name">probabilities</span>

        
    </div>
    <a class="headerlink" href="#UncertaintyPointCloud.probabilities"></a>
    
    

                            </div>
                            <div id="UncertaintyPointCloud.coordinate_system" class="classattr">
                                <div class="attr variable">
            <span class="name">coordinate_system</span>

        
    </div>
    <a class="headerlink" href="#UncertaintyPointCloud.coordinate_system"></a>
    
    

                            </div>
                            <div id="UncertaintyPointCloud.to_json" class="classattr">
                                        <input id="UncertaintyPointCloud.to_json-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">to_json</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="UncertaintyPointCloud.to_json-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UncertaintyPointCloud.to_json"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UncertaintyPointCloud.to_json-608"><a href="#UncertaintyPointCloud.to_json-608"><span class="linenos">608</span></a>    <span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="UncertaintyPointCloud.to_json-609"><a href="#UncertaintyPointCloud.to_json-609"><span class="linenos">609</span></a>        <span class="n">out_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="UncertaintyPointCloud.to_json-610"><a href="#UncertaintyPointCloud.to_json-610"><span class="linenos">610</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="UncertaintyPointCloud.to_json-611"><a href="#UncertaintyPointCloud.to_json-611"><span class="linenos">611</span></a>            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;coordinate_system&#39;</span><span class="p">:</span>
</span><span id="UncertaintyPointCloud.to_json-612"><a href="#UncertaintyPointCloud.to_json-612"><span class="linenos">612</span></a>                <span class="n">out_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span><span class="p">)</span>
</span><span id="UncertaintyPointCloud.to_json-613"><a href="#UncertaintyPointCloud.to_json-613"><span class="linenos">613</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="UncertaintyPointCloud.to_json-614"><a href="#UncertaintyPointCloud.to_json-614"><span class="linenos">614</span></a>                <span class="n">out_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="UncertaintyPointCloud.to_json-615"><a href="#UncertaintyPointCloud.to_json-615"><span class="linenos">615</span></a>
</span><span id="UncertaintyPointCloud.to_json-616"><a href="#UncertaintyPointCloud.to_json-616"><span class="linenos">616</span></a>        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">out_dict</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="UncertaintyPointCloud.from_json" class="classattr">
                                        <input id="UncertaintyPointCloud.from_json-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">from_json</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span>, </span><span class="param"><span class="n">json_string</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="UncertaintyPointCloud.from_json-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UncertaintyPointCloud.from_json"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UncertaintyPointCloud.from_json-618"><a href="#UncertaintyPointCloud.from_json-618"><span class="linenos">618</span></a>    <span class="nd">@classmethod</span>
</span><span id="UncertaintyPointCloud.from_json-619"><a href="#UncertaintyPointCloud.from_json-619"><span class="linenos">619</span></a>    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">json_string</span><span class="p">):</span>
</span><span id="UncertaintyPointCloud.from_json-620"><a href="#UncertaintyPointCloud.from_json-620"><span class="linenos">620</span></a>        <span class="n">in_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_string</span><span class="p">)</span>
</span><span id="UncertaintyPointCloud.from_json-621"><a href="#UncertaintyPointCloud.from_json-621"><span class="linenos">621</span></a>        <span class="k">if</span> <span class="s1">&#39;coordinate_system&#39;</span> <span class="ow">in</span> <span class="n">in_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="UncertaintyPointCloud.from_json-622"><a href="#UncertaintyPointCloud.from_json-622"><span class="linenos">622</span></a>            <span class="n">in_dict</span><span class="p">[</span><span class="s1">&#39;coordinate_system&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">CoordinateSystem</span><span class="p">,</span>
</span><span id="UncertaintyPointCloud.from_json-623"><a href="#UncertaintyPointCloud.from_json-623"><span class="linenos">623</span></a>                <span class="n">in_dict</span><span class="p">[</span><span class="s1">&#39;coordinate_system&#39;</span><span class="p">])</span>
</span><span id="UncertaintyPointCloud.from_json-624"><a href="#UncertaintyPointCloud.from_json-624"><span class="linenos">624</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">in_dict</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                </section>
                <section id="Origin">
                            <input id="Origin-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator">@update_doc</div>

    <span class="def">class</span>
    <span class="name">Origin</span><wbr>(<span class="base">obspy.core.event.origin.Origin</span>):

                <label class="view-source-button" for="Origin-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Origin"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Origin-627"><a href="#Origin-627"><span class="linenos">627</span></a><span class="nd">@update_doc</span>
</span><span id="Origin-628"><a href="#Origin-628"><span class="linenos">628</span></a><span class="k">class</span> <span class="nc">Origin</span><span class="p">(</span><span class="n">obsevent</span><span class="o">.</span><span class="n">Origin</span><span class="p">):</span>
</span><span id="Origin-629"><a href="#Origin-629"><span class="linenos">629</span></a>    <span class="vm">__doc__</span> <span class="o">=</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">Origin</span><span class="o">.</span><span class="vm">__doc__</span>
</span><span id="Origin-630"><a href="#Origin-630"><span class="linenos">630</span></a>    <span class="c1"># original_doc = obsevent.Origin.__doc__.replace(&#39;obspy&#39;, &#39;uquake&#39;)</span>
</span><span id="Origin-631"><a href="#Origin-631"><span class="linenos">631</span></a>    <span class="c1"># original_doc = original_doc.replace(&#39;earth_model_id&#39;, &#39;velocity_model_id&#39;)</span>
</span><span id="Origin-632"><a href="#Origin-632"><span class="linenos">632</span></a>    <span class="c1">#</span>
</span><span id="Origin-633"><a href="#Origin-633"><span class="linenos">633</span></a>    <span class="c1"># # Remove unwanted sections</span>
</span><span id="Origin-634"><a href="#Origin-634"><span class="linenos">634</span></a>    <span class="n">__remove_parameters__</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">,</span> <span class="s1">&#39;latitude_error&#39;</span><span class="p">,</span>
</span><span id="Origin-635"><a href="#Origin-635"><span class="linenos">635</span></a>                             <span class="s1">&#39;longitude&#39;</span><span class="p">,</span> <span class="s1">&#39;longitude_error&#39;</span><span class="p">,</span>
</span><span id="Origin-636"><a href="#Origin-636"><span class="linenos">636</span></a>                             <span class="s1">&#39;depth&#39;</span><span class="p">,</span> <span class="s1">&#39;depth_error&#39;</span><span class="p">,</span> <span class="s1">&#39;depth_type&#39;</span><span class="p">,</span> <span class="s1">&#39;elevation&#39;</span><span class="p">,</span>
</span><span id="Origin-637"><a href="#Origin-637"><span class="linenos">637</span></a>                             <span class="s1">&#39;epicenter_fixed&#39;</span><span class="p">]</span>
</span><span id="Origin-638"><a href="#Origin-638"><span class="linenos">638</span></a>    <span class="c1">#</span>
</span><span id="Origin-639"><a href="#Origin-639"><span class="linenos">639</span></a>    <span class="c1"># # Define the new &#39;coordinates&#39; parameter section</span>
</span><span id="Origin-640"><a href="#Origin-640"><span class="linenos">640</span></a>    <span class="n">__new_section__</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Origin-641"><a href="#Origin-641"><span class="linenos">641</span></a>        <span class="s1">&#39;doc&#39;</span><span class="p">:</span> <span class="s2">&quot;&quot;&quot;:type coordinates: :class:`~uquake.core.coordinates.Coordinates`</span>
</span><span id="Origin-642"><a href="#Origin-642"><span class="linenos">642</span></a><span class="s2">    :param coordinates: Spatial coordinates of the event origin.</span>
</span><span id="Origin-643"><a href="#Origin-643"><span class="linenos">643</span></a><span class="s2">    &quot;&quot;&quot;</span><span class="p">,</span>
</span><span id="Origin-644"><a href="#Origin-644"><span class="linenos">644</span></a>        <span class="s1">&#39;previous_parameter&#39;</span><span class="p">:</span> <span class="s1">&#39;time_fixed&#39;</span><span class="p">}</span>
</span><span id="Origin-645"><a href="#Origin-645"><span class="linenos">645</span></a>
</span><span id="Origin-646"><a href="#Origin-646"><span class="linenos">646</span></a>    <span class="n">__example__</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
</span><span id="Origin-647"><a href="#Origin-647"><span class="linenos">647</span></a><span class="s2">    &gt;&gt;&gt; from uquake.core.event import Origin</span>
</span><span id="Origin-648"><a href="#Origin-648"><span class="linenos">648</span></a><span class="s2">    &gt;&gt;&gt; from uquake.core.coordinates import Coordinates, CoordinateSystem</span>
</span><span id="Origin-649"><a href="#Origin-649"><span class="linenos">649</span></a><span class="s2">    &gt;&gt;&gt; from uquake.core import UTCDateTime</span>
</span><span id="Origin-650"><a href="#Origin-650"><span class="linenos">650</span></a><span class="s2">    &gt;&gt;&gt; coords = Coordinates(10, 20, 30, coordinate_system=CoordinateSystem.ENU)</span>
</span><span id="Origin-651"><a href="#Origin-651"><span class="linenos">651</span></a><span class="s2">    &gt;&gt;&gt; origin = Origin(time=UTCDateTime(2020, 1, 1, 10, 20, 30), coordinates=coords)</span>
</span><span id="Origin-652"><a href="#Origin-652"><span class="linenos">652</span></a><span class="s2">    &gt;&gt;&gt; print(origin)</span>
</span><span id="Origin-653"><a href="#Origin-653"><span class="linenos">653</span></a><span class="s2">    &quot;&quot;&quot;</span>
</span><span id="Origin-654"><a href="#Origin-654"><span class="linenos">654</span></a>
</span><span id="Origin-655"><a href="#Origin-655"><span class="linenos">655</span></a>    <span class="n">extra_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;rays&#39;</span><span class="p">,</span> <span class="s1">&#39;coordinates&#39;</span><span class="p">,</span> <span class="s1">&#39;uncertainty_point_cloud&#39;</span><span class="p">]</span>
</span><span id="Origin-656"><a href="#Origin-656"><span class="linenos">656</span></a>    <span class="n">extra_types</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;rays&#39;</span><span class="p">:</span> <span class="n">RayCollection</span><span class="p">,</span>
</span><span id="Origin-657"><a href="#Origin-657"><span class="linenos">657</span></a>                   <span class="s1">&#39;coordinates&#39;</span><span class="p">:</span> <span class="n">Coordinates</span><span class="p">,</span>
</span><span id="Origin-658"><a href="#Origin-658"><span class="linenos">658</span></a>                   <span class="s1">&#39;uncertainty_point_cloud&#39;</span><span class="p">:</span> <span class="n">UncertaintyPointCloud</span>
</span><span id="Origin-659"><a href="#Origin-659"><span class="linenos">659</span></a>                   <span class="p">}</span>
</span><span id="Origin-660"><a href="#Origin-660"><span class="linenos">660</span></a>
</span><span id="Origin-661"><a href="#Origin-661"><span class="linenos">661</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coordinates</span><span class="p">:</span> <span class="n">Coordinates</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Origin-662"><a href="#Origin-662"><span class="linenos">662</span></a>                 <span class="n">rays</span><span class="p">:</span> <span class="n">RayCollection</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Origin-663"><a href="#Origin-663"><span class="linenos">663</span></a>                 <span class="n">uncertainty_point_cloud</span><span class="p">:</span> <span class="n">UncertaintyPointCloud</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Origin-664"><a href="#Origin-664"><span class="linenos">664</span></a>                 <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Origin-665"><a href="#Origin-665"><span class="linenos">665</span></a>
</span><span id="Origin-666"><a href="#Origin-666"><span class="linenos">666</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Origin-667"><a href="#Origin-667"><span class="linenos">667</span></a>
</span><span id="Origin-668"><a href="#Origin-668"><span class="linenos">668</span></a>        <span class="k">if</span> <span class="n">obspy_obj</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Origin-669"><a href="#Origin-669"><span class="linenos">669</span></a>            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obspy_obj</span><span class="p">,</span> <span class="s1">&#39;extra&#39;</span><span class="p">):</span>
</span><span id="Origin-670"><a href="#Origin-670"><span class="linenos">670</span></a>                <span class="n">extra</span> <span class="o">=</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">extra</span>
</span><span id="Origin-671"><a href="#Origin-671"><span class="linenos">671</span></a>                <span class="n">obspy_obj</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Origin-672"><a href="#Origin-672"><span class="linenos">672</span></a>                <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Origin-673"><a href="#Origin-673"><span class="linenos">673</span></a>                <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_keys</span><span class="p">:</span>
</span><span id="Origin-674"><a href="#Origin-674"><span class="linenos">674</span></a>                    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">extra</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Origin-675"><a href="#Origin-675"><span class="linenos">675</span></a>                        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extra_types</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="s1">&#39;from_json&#39;</span><span class="p">):</span>
</span><span id="Origin-676"><a href="#Origin-676"><span class="linenos">676</span></a>                            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_types</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span>
</span><span id="Origin-677"><a href="#Origin-677"><span class="linenos">677</span></a>                                <span class="n">extra</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
</span><span id="Origin-678"><a href="#Origin-678"><span class="linenos">678</span></a>                            <span class="p">)</span>
</span><span id="Origin-679"><a href="#Origin-679"><span class="linenos">679</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="Origin-680"><a href="#Origin-680"><span class="linenos">680</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Origin-681"><a href="#Origin-681"><span class="linenos">681</span></a>                <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Origin-682"><a href="#Origin-682"><span class="linenos">682</span></a>
</span><span id="Origin-683"><a href="#Origin-683"><span class="linenos">683</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">arrivals</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Origin-684"><a href="#Origin-684"><span class="linenos">684</span></a>            <span class="k">for</span> <span class="n">arrival</span> <span class="ow">in</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">arrivals</span><span class="p">:</span>
</span><span id="Origin-685"><a href="#Origin-685"><span class="linenos">685</span></a>                <span class="n">uq_arrival</span> <span class="o">=</span> <span class="n">Arrival</span><span class="p">(</span><span class="n">obspy_obj</span><span class="o">=</span><span class="n">arrival</span><span class="p">)</span>
</span><span id="Origin-686"><a href="#Origin-686"><span class="linenos">686</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">arrivals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">uq_arrival</span><span class="p">)</span>
</span><span id="Origin-687"><a href="#Origin-687"><span class="linenos">687</span></a>
</span><span id="Origin-688"><a href="#Origin-688"><span class="linenos">688</span></a>            <span class="n">obspy_obj</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Origin-689"><a href="#Origin-689"><span class="linenos">689</span></a>
</span><span id="Origin-690"><a href="#Origin-690"><span class="linenos">690</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Origin-691"><a href="#Origin-691"><span class="linenos">691</span></a>            <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Origin-692"><a href="#Origin-692"><span class="linenos">692</span></a>
</span><span id="Origin-693"><a href="#Origin-693"><span class="linenos">693</span></a>            <span class="k">if</span> <span class="s1">&#39;velocity_model_id&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Origin-694"><a href="#Origin-694"><span class="linenos">694</span></a>                <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;earth_model_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;velocity_model_id&#39;</span><span class="p">)</span>
</span><span id="Origin-695"><a href="#Origin-695"><span class="linenos">695</span></a>            <span class="k">if</span> <span class="n">coordinates</span><span class="p">:</span>
</span><span id="Origin-696"><a href="#Origin-696"><span class="linenos">696</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span> <span class="o">=</span> <span class="n">coordinates</span>
</span><span id="Origin-697"><a href="#Origin-697"><span class="linenos">697</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Origin-698"><a href="#Origin-698"><span class="linenos">698</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span> <span class="o">=</span> <span class="n">Coordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="Origin-699"><a href="#Origin-699"><span class="linenos">699</span></a>                                               <span class="n">coordinate_system</span><span class="o">=</span><span class="n">CoordinateSystem</span><span class="o">.</span><span class="n">ENU</span><span class="p">)</span>
</span><span id="Origin-700"><a href="#Origin-700"><span class="linenos">700</span></a>            <span class="k">if</span> <span class="n">rays</span><span class="p">:</span>
</span><span id="Origin-701"><a href="#Origin-701"><span class="linenos">701</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">rays</span> <span class="o">=</span> <span class="n">rays</span>
</span><span id="Origin-702"><a href="#Origin-702"><span class="linenos">702</span></a>            <span class="k">if</span> <span class="n">uncertainty_point_cloud</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Origin-703"><a href="#Origin-703"><span class="linenos">703</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">uncertainty_point_cloud</span> <span class="o">=</span> <span class="n">uncertainty_point_cloud</span>
</span><span id="Origin-704"><a href="#Origin-704"><span class="linenos">704</span></a>
</span><span id="Origin-705"><a href="#Origin-705"><span class="linenos">705</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="Origin-706"><a href="#Origin-706"><span class="linenos">706</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
</span><span id="Origin-707"><a href="#Origin-707"><span class="linenos">707</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="Origin-708"><a href="#Origin-708"><span class="linenos">708</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="Origin-709"><a href="#Origin-709"><span class="linenos">709</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arrivals</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">arrivals</span><span class="p">):</span>
</span><span id="Origin-710"><a href="#Origin-710"><span class="linenos">710</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="Origin-711"><a href="#Origin-711"><span class="linenos">711</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">arrivals</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">arrivals</span><span class="p">:</span>
</span><span id="Origin-712"><a href="#Origin-712"><span class="linenos">712</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="Origin-713"><a href="#Origin-713"><span class="linenos">713</span></a>
</span><span id="Origin-714"><a href="#Origin-714"><span class="linenos">714</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_keys</span><span class="p">:</span>
</span><span id="Origin-715"><a href="#Origin-715"><span class="linenos">715</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">extra</span><span class="p">[</span><span class="n">key</span><span class="p">]:</span>
</span><span id="Origin-716"><a href="#Origin-716"><span class="linenos">716</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="Origin-717"><a href="#Origin-717"><span class="linenos">717</span></a>
</span><span id="Origin-718"><a href="#Origin-718"><span class="linenos">718</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="Origin-719"><a href="#Origin-719"><span class="linenos">719</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="Origin-720"><a href="#Origin-720"><span class="linenos">720</span></a>
</span><span id="Origin-721"><a href="#Origin-721"><span class="linenos">721</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="Origin-722"><a href="#Origin-722"><span class="linenos">722</span></a>
</span><span id="Origin-723"><a href="#Origin-723"><span class="linenos">723</span></a>    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="Origin-724"><a href="#Origin-724"><span class="linenos">724</span></a>        <span class="n">_set_attr_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="Origin-725"><a href="#Origin-725"><span class="linenos">725</span></a>
</span><span id="Origin-726"><a href="#Origin-726"><span class="linenos">726</span></a>    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span><span id="Origin-727"><a href="#Origin-727"><span class="linenos">727</span></a>        <span class="k">if</span> <span class="n">item</span> <span class="o">==</span> <span class="s1">&#39;coordinates&#39;</span><span class="p">:</span>
</span><span id="Origin-728"><a href="#Origin-728"><span class="linenos">728</span></a>            <span class="k">return</span> <span class="n">Coordinates</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">][</span><span class="n">item</span><span class="p">])</span>
</span><span id="Origin-729"><a href="#Origin-729"><span class="linenos">729</span></a>        <span class="k">elif</span> <span class="n">item</span> <span class="o">==</span> <span class="s1">&#39;rays&#39;</span><span class="p">:</span>
</span><span id="Origin-730"><a href="#Origin-730"><span class="linenos">730</span></a>            <span class="k">return</span> <span class="n">RayCollection</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">][</span><span class="n">item</span><span class="p">])</span>
</span><span id="Origin-731"><a href="#Origin-731"><span class="linenos">731</span></a>        <span class="k">elif</span> <span class="n">item</span> <span class="o">==</span> <span class="s1">&#39;uncertainty_point_cloud&#39;</span><span class="p">:</span>
</span><span id="Origin-732"><a href="#Origin-732"><span class="linenos">732</span></a>            <span class="k">return</span> <span class="n">UncertaintyPointCloud</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;extra&#39;</span><span class="p">][</span><span class="n">item</span><span class="p">])</span>
</span><span id="Origin-733"><a href="#Origin-733"><span class="linenos">733</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Origin-734"><a href="#Origin-734"><span class="linenos">734</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">item</span><span class="p">]</span>
</span><span id="Origin-735"><a href="#Origin-735"><span class="linenos">735</span></a>
</span><span id="Origin-736"><a href="#Origin-736"><span class="linenos">736</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Origin-737"><a href="#Origin-737"><span class="linenos">737</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="Origin-738"><a href="#Origin-738"><span class="linenos">738</span></a><span class="s2">          resource_id: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="si">}</span>
</span><span id="Origin-739"><a href="#Origin-739"><span class="linenos">739</span></a><span class="s2">            time(UTC): </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">time</span><span class="si">}</span>
</span><span id="Origin-740"><a href="#Origin-740"><span class="linenos">740</span></a><span class="s2">                    x: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="si">}</span>
</span><span id="Origin-741"><a href="#Origin-741"><span class="linenos">741</span></a><span class="s2">                    y: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="si">}</span>
</span><span id="Origin-742"><a href="#Origin-742"><span class="linenos">742</span></a><span class="s2">                    z: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="si">}</span>
</span><span id="Origin-743"><a href="#Origin-743"><span class="linenos">743</span></a><span class="s2">          uncertainty: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">location_uncertainty</span><span class="si">}</span><span class="s2"> (m)</span>
</span><span id="Origin-744"><a href="#Origin-744"><span class="linenos">744</span></a><span class="s2">      evaluation_mode: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluation_mode</span><span class="si">}</span>
</span><span id="Origin-745"><a href="#Origin-745"><span class="linenos">745</span></a><span class="s2">    evaluation_status: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluation_status</span><span class="si">}</span>
</span><span id="Origin-746"><a href="#Origin-746"><span class="linenos">746</span></a><span class="s2">                   ---------</span>
</span><span id="Origin-747"><a href="#Origin-747"><span class="linenos">747</span></a><span class="s2">             arrivals: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arrivals</span><span class="p">)</span><span class="si">:</span><span class="s2">d</span><span class="si">}</span>
</span><span id="Origin-748"><a href="#Origin-748"><span class="linenos">748</span></a><span class="s2">           &quot;&quot;&quot;</span>
</span><span id="Origin-749"><a href="#Origin-749"><span class="linenos">749</span></a>        <span class="k">return</span> <span class="n">string</span>
</span><span id="Origin-750"><a href="#Origin-750"><span class="linenos">750</span></a>
</span><span id="Origin-751"><a href="#Origin-751"><span class="linenos">751</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Origin-752"><a href="#Origin-752"><span class="linenos">752</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
</span><span id="Origin-753"><a href="#Origin-753"><span class="linenos">753</span></a>
</span><span id="Origin-754"><a href="#Origin-754"><span class="linenos">754</span></a>    <span class="c1"># @staticmethod</span>
</span><span id="Origin-755"><a href="#Origin-755"><span class="linenos">755</span></a>    <span class="c1"># def __encode_rays__(rays: List):</span>
</span><span id="Origin-756"><a href="#Origin-756"><span class="linenos">756</span></a>    <span class="c1">#     encoded_rays = []</span>
</span><span id="Origin-757"><a href="#Origin-757"><span class="linenos">757</span></a>    <span class="c1">#     for ray in rays:</span>
</span><span id="Origin-758"><a href="#Origin-758"><span class="linenos">758</span></a>    <span class="c1">#         encoded_rays.append(ray.to_json())</span>
</span><span id="Origin-759"><a href="#Origin-759"><span class="linenos">759</span></a>    <span class="c1">#     return encoded_rays</span>
</span><span id="Origin-760"><a href="#Origin-760"><span class="linenos">760</span></a>    <span class="c1">#</span>
</span><span id="Origin-761"><a href="#Origin-761"><span class="linenos">761</span></a>    <span class="c1"># def __decode_rays__(self):</span>
</span><span id="Origin-762"><a href="#Origin-762"><span class="linenos">762</span></a>    <span class="c1">#     decoded_rays = []</span>
</span><span id="Origin-763"><a href="#Origin-763"><span class="linenos">763</span></a>    <span class="c1">#     if self.__encoded_rays__ is None:</span>
</span><span id="Origin-764"><a href="#Origin-764"><span class="linenos">764</span></a>    <span class="c1">#         return</span>
</span><span id="Origin-765"><a href="#Origin-765"><span class="linenos">765</span></a>    <span class="c1">#     for encoded_ray in self.__encoded_rays__:</span>
</span><span id="Origin-766"><a href="#Origin-766"><span class="linenos">766</span></a>    <span class="c1">#         decoded_rays.append(Ray.from_json(encoded_ray))</span>
</span><span id="Origin-767"><a href="#Origin-767"><span class="linenos">767</span></a>    <span class="c1">#</span>
</span><span id="Origin-768"><a href="#Origin-768"><span class="linenos">768</span></a>    <span class="c1">#     return decoded_rays</span>
</span><span id="Origin-769"><a href="#Origin-769"><span class="linenos">769</span></a>    <span class="c1">#</span>
</span><span id="Origin-770"><a href="#Origin-770"><span class="linenos">770</span></a>    <span class="c1"># @staticmethod</span>
</span><span id="Origin-771"><a href="#Origin-771"><span class="linenos">771</span></a>    <span class="c1"># def __encode_uncertainty_point_cloud__(</span>
</span><span id="Origin-772"><a href="#Origin-772"><span class="linenos">772</span></a>    <span class="c1">#         uncertainty_point_cloud: UncertaintyPointCloud):</span>
</span><span id="Origin-773"><a href="#Origin-773"><span class="linenos">773</span></a>    <span class="c1">#     return uncertainty_point_cloud.to_json()</span>
</span><span id="Origin-774"><a href="#Origin-774"><span class="linenos">774</span></a>    <span class="c1">#</span>
</span><span id="Origin-775"><a href="#Origin-775"><span class="linenos">775</span></a>    <span class="c1"># def __decode_uncertainty_point_cloud__(self):</span>
</span><span id="Origin-776"><a href="#Origin-776"><span class="linenos">776</span></a>    <span class="c1">#     return UncertaintyPointCloud.from_json(self.__encoded_uncertainty_point_cloud__)</span>
</span><span id="Origin-777"><a href="#Origin-777"><span class="linenos">777</span></a>    <span class="c1">#</span>
</span><span id="Origin-778"><a href="#Origin-778"><span class="linenos">778</span></a>    <span class="c1"># @staticmethod</span>
</span><span id="Origin-779"><a href="#Origin-779"><span class="linenos">779</span></a>    <span class="c1"># def __encode_coordinates__(value):</span>
</span><span id="Origin-780"><a href="#Origin-780"><span class="linenos">780</span></a>    <span class="c1">#     if not isinstance(value, Coordinates):</span>
</span><span id="Origin-781"><a href="#Origin-781"><span class="linenos">781</span></a>    <span class="c1">#         raise TypeError(f&#39;the value provided must be of instance &#39;</span>
</span><span id="Origin-782"><a href="#Origin-782"><span class="linenos">782</span></a>    <span class="c1">#                         f&#39;{type(Coordinates)}&#39;)</span>
</span><span id="Origin-783"><a href="#Origin-783"><span class="linenos">783</span></a>    <span class="c1">#</span>
</span><span id="Origin-784"><a href="#Origin-784"><span class="linenos">784</span></a>    <span class="c1">#     return value.to_json()</span>
</span><span id="Origin-785"><a href="#Origin-785"><span class="linenos">785</span></a>    <span class="c1">#</span>
</span><span id="Origin-786"><a href="#Origin-786"><span class="linenos">786</span></a>    <span class="c1"># def __decode_coordinates__(self):</span>
</span><span id="Origin-787"><a href="#Origin-787"><span class="linenos">787</span></a>    <span class="c1">#     if self.__cartesian_coordinates__ is None:</span>
</span><span id="Origin-788"><a href="#Origin-788"><span class="linenos">788</span></a>    <span class="c1">#         return</span>
</span><span id="Origin-789"><a href="#Origin-789"><span class="linenos">789</span></a>    <span class="c1">#     else:</span>
</span><span id="Origin-790"><a href="#Origin-790"><span class="linenos">790</span></a>    <span class="c1">#         return Coordinates.from_json(self.__cartesian_coordinates__)</span>
</span><span id="Origin-791"><a href="#Origin-791"><span class="linenos">791</span></a>
</span><span id="Origin-792"><a href="#Origin-792"><span class="linenos">792</span></a>    <span class="k">def</span> <span class="nf">get_arrival_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">phase</span><span class="p">,</span> <span class="n">station_code</span><span class="p">):</span>
</span><span id="Origin-793"><a href="#Origin-793"><span class="linenos">793</span></a>        <span class="n">arrival_id</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Origin-794"><a href="#Origin-794"><span class="linenos">794</span></a>        <span class="k">for</span> <span class="n">arrival</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">arrivals</span><span class="p">:</span>
</span><span id="Origin-795"><a href="#Origin-795"><span class="linenos">795</span></a>            <span class="k">if</span> <span class="p">(</span><span class="n">arrival</span><span class="o">.</span><span class="n">phase</span> <span class="o">==</span> <span class="n">phase</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">arrival</span><span class="o">.</span><span class="n">get_sta</span><span class="p">()</span> <span class="o">==</span>
</span><span id="Origin-796"><a href="#Origin-796"><span class="linenos">796</span></a>                                             <span class="n">station_code</span><span class="p">):</span>
</span><span id="Origin-797"><a href="#Origin-797"><span class="linenos">797</span></a>                <span class="n">arrival_id</span> <span class="o">=</span> <span class="n">arrival</span><span class="o">.</span><span class="n">resource_id</span>
</span><span id="Origin-798"><a href="#Origin-798"><span class="linenos">798</span></a>
</span><span id="Origin-799"><a href="#Origin-799"><span class="linenos">799</span></a>        <span class="k">return</span> <span class="n">arrival_id</span>
</span><span id="Origin-800"><a href="#Origin-800"><span class="linenos">800</span></a>
</span><span id="Origin-801"><a href="#Origin-801"><span class="linenos">801</span></a>    <span class="k">def</span> <span class="nf">append_ray</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span><span id="Origin-802"><a href="#Origin-802"><span class="linenos">802</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rays</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Origin-803"><a href="#Origin-803"><span class="linenos">803</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rays</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span><span class="p">]</span>
</span><span id="Origin-804"><a href="#Origin-804"><span class="linenos">804</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Origin-805"><a href="#Origin-805"><span class="linenos">805</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rays</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rays</span> <span class="o">+</span> <span class="p">[</span><span class="n">item</span><span class="p">]</span>
</span><span id="Origin-806"><a href="#Origin-806"><span class="linenos">806</span></a>
</span><span id="Origin-807"><a href="#Origin-807"><span class="linenos">807</span></a>    <span class="nd">@property</span>
</span><span id="Origin-808"><a href="#Origin-808"><span class="linenos">808</span></a>    <span class="k">def</span> <span class="nf">rms_residual</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Origin-809"><a href="#Origin-809"><span class="linenos">809</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arrivals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Origin-810"><a href="#Origin-810"><span class="linenos">810</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="Origin-811"><a href="#Origin-811"><span class="linenos">811</span></a>        <span class="n">residuals</span> <span class="o">=</span> <span class="p">[</span><span class="n">arrival</span><span class="o">.</span><span class="n">time_residual</span> <span class="o">**</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">arrival</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">arrivals</span><span class="p">]</span>
</span><span id="Origin-812"><a href="#Origin-812"><span class="linenos">812</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">residuals</span><span class="p">))</span>
</span><span id="Origin-813"><a href="#Origin-813"><span class="linenos">813</span></a>
</span><span id="Origin-814"><a href="#Origin-814"><span class="linenos">814</span></a>    <span class="nd">@property</span>
</span><span id="Origin-815"><a href="#Origin-815"><span class="linenos">815</span></a>    <span class="k">def</span> <span class="nf">loc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Origin-816"><a href="#Origin-816"><span class="linenos">816</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">])</span>
</span><span id="Origin-817"><a href="#Origin-817"><span class="linenos">817</span></a>
</span><span id="Origin-818"><a href="#Origin-818"><span class="linenos">818</span></a>    <span class="nd">@property</span>
</span><span id="Origin-819"><a href="#Origin-819"><span class="linenos">819</span></a>    <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Origin-820"><a href="#Origin-820"><span class="linenos">820</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">x</span>
</span><span id="Origin-821"><a href="#Origin-821"><span class="linenos">821</span></a>
</span><span id="Origin-822"><a href="#Origin-822"><span class="linenos">822</span></a>    <span class="nd">@property</span>
</span><span id="Origin-823"><a href="#Origin-823"><span class="linenos">823</span></a>    <span class="k">def</span> <span class="nf">y</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Origin-824"><a href="#Origin-824"><span class="linenos">824</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">y</span>
</span><span id="Origin-825"><a href="#Origin-825"><span class="linenos">825</span></a>
</span><span id="Origin-826"><a href="#Origin-826"><span class="linenos">826</span></a>    <span class="nd">@property</span>
</span><span id="Origin-827"><a href="#Origin-827"><span class="linenos">827</span></a>    <span class="k">def</span> <span class="nf">z</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Origin-828"><a href="#Origin-828"><span class="linenos">828</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">z</span>
</span><span id="Origin-829"><a href="#Origin-829"><span class="linenos">829</span></a>
</span><span id="Origin-830"><a href="#Origin-830"><span class="linenos">830</span></a>    <span class="nd">@property</span>
</span><span id="Origin-831"><a href="#Origin-831"><span class="linenos">831</span></a>    <span class="k">def</span> <span class="nf">easting</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Origin-832"><a href="#Origin-832"><span class="linenos">832</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">easting</span>
</span><span id="Origin-833"><a href="#Origin-833"><span class="linenos">833</span></a>
</span><span id="Origin-834"><a href="#Origin-834"><span class="linenos">834</span></a>    <span class="nd">@property</span>
</span><span id="Origin-835"><a href="#Origin-835"><span class="linenos">835</span></a>    <span class="k">def</span> <span class="nf">northing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Origin-836"><a href="#Origin-836"><span class="linenos">836</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">northing</span>
</span><span id="Origin-837"><a href="#Origin-837"><span class="linenos">837</span></a>
</span><span id="Origin-838"><a href="#Origin-838"><span class="linenos">838</span></a>    <span class="nd">@property</span>
</span><span id="Origin-839"><a href="#Origin-839"><span class="linenos">839</span></a>    <span class="k">def</span> <span class="nf">down</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Origin-840"><a href="#Origin-840"><span class="linenos">840</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">down</span>
</span><span id="Origin-841"><a href="#Origin-841"><span class="linenos">841</span></a>
</span><span id="Origin-842"><a href="#Origin-842"><span class="linenos">842</span></a>    <span class="nd">@property</span>
</span><span id="Origin-843"><a href="#Origin-843"><span class="linenos">843</span></a>    <span class="k">def</span> <span class="nf">depth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Origin-844"><a href="#Origin-844"><span class="linenos">844</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">down</span>
</span><span id="Origin-845"><a href="#Origin-845"><span class="linenos">845</span></a>
</span><span id="Origin-846"><a href="#Origin-846"><span class="linenos">846</span></a>    <span class="nd">@property</span>
</span><span id="Origin-847"><a href="#Origin-847"><span class="linenos">847</span></a>    <span class="k">def</span> <span class="nf">up</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Origin-848"><a href="#Origin-848"><span class="linenos">848</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">up</span>
</span><span id="Origin-849"><a href="#Origin-849"><span class="linenos">849</span></a>
</span><span id="Origin-850"><a href="#Origin-850"><span class="linenos">850</span></a>    <span class="nd">@property</span>
</span><span id="Origin-851"><a href="#Origin-851"><span class="linenos">851</span></a>    <span class="k">def</span> <span class="nf">elevation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Origin-852"><a href="#Origin-852"><span class="linenos">852</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">up</span>
</span><span id="Origin-853"><a href="#Origin-853"><span class="linenos">853</span></a>
</span><span id="Origin-854"><a href="#Origin-854"><span class="linenos">854</span></a>    <span class="nd">@property</span>
</span><span id="Origin-855"><a href="#Origin-855"><span class="linenos">855</span></a>    <span class="k">def</span> <span class="nf">coordinate_system</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Origin-856"><a href="#Origin-856"><span class="linenos">856</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">coordinate_system</span>
</span><span id="Origin-857"><a href="#Origin-857"><span class="linenos">857</span></a>
</span><span id="Origin-858"><a href="#Origin-858"><span class="linenos">858</span></a>    <span class="nd">@property</span>
</span><span id="Origin-859"><a href="#Origin-859"><span class="linenos">859</span></a>    <span class="k">def</span> <span class="nf">location_uncertainty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Origin-860"><a href="#Origin-860"><span class="linenos">860</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">origin_uncertainty</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Origin-861"><a href="#Origin-861"><span class="linenos">861</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="Origin-862"><a href="#Origin-862"><span class="linenos">862</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Origin-863"><a href="#Origin-863"><span class="linenos">863</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">origin_uncertainty</span><span class="o">.</span><span class="n">confidence_ellipsoid</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Origin-864"><a href="#Origin-864"><span class="linenos">864</span></a>                <span class="k">return</span> <span class="kc">None</span>
</span><span id="Origin-865"><a href="#Origin-865"><span class="linenos">865</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">origin_uncertainty</span><span class="o">.</span><span class="n">confidence_ellipsoid</span> \
</span><span id="Origin-866"><a href="#Origin-866"><span class="linenos">866</span></a>                <span class="o">.</span><span class="n">semi_major_axis_length</span>
</span><span id="Origin-867"><a href="#Origin-867"><span class="linenos">867</span></a>
</span><span id="Origin-868"><a href="#Origin-868"><span class="linenos">868</span></a>    <span class="k">def</span> <span class="nf">get_origin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Origin-869"><a href="#Origin-869"><span class="linenos">869</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">preferred_origin_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Origin-870"><a href="#Origin-870"><span class="linenos">870</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">preferred_origin_id</span><span class="o">.</span><span class="n">get_referred_object</span><span class="p">()</span>
</span><span id="Origin-871"><a href="#Origin-871"><span class="linenos">871</span></a>
</span><span id="Origin-872"><a href="#Origin-872"><span class="linenos">872</span></a>    <span class="k">def</span> <span class="nf">get_all_magnitudes_for_origin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cat</span><span class="p">):</span>
</span><span id="Origin-873"><a href="#Origin-873"><span class="linenos">873</span></a>        <span class="n">magnitudes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Origin-874"><a href="#Origin-874"><span class="linenos">874</span></a>
</span><span id="Origin-875"><a href="#Origin-875"><span class="linenos">875</span></a>        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">cat</span><span class="p">:</span>
</span><span id="Origin-876"><a href="#Origin-876"><span class="linenos">876</span></a>            <span class="k">for</span> <span class="n">mag</span> <span class="ow">in</span> <span class="n">event</span><span class="o">.</span><span class="n">magnitudes</span><span class="p">:</span>
</span><span id="Origin-877"><a href="#Origin-877"><span class="linenos">877</span></a>                <span class="k">if</span> <span class="n">mag</span><span class="o">.</span><span class="n">origin_id</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
</span><span id="Origin-878"><a href="#Origin-878"><span class="linenos">878</span></a>                    <span class="n">magnitudes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mag</span><span class="p">)</span>
</span><span id="Origin-879"><a href="#Origin-879"><span class="linenos">879</span></a>
</span><span id="Origin-880"><a href="#Origin-880"><span class="linenos">880</span></a>        <span class="k">return</span> <span class="n">magnitudes</span>
</span><span id="Origin-881"><a href="#Origin-881"><span class="linenos">881</span></a>
</span><span id="Origin-882"><a href="#Origin-882"><span class="linenos">882</span></a>    <span class="k">def</span> <span class="nf">get_incidence_baz_angles</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instrument_code</span><span class="p">,</span> <span class="n">phase</span><span class="p">):</span>
</span><span id="Origin-883"><a href="#Origin-883"><span class="linenos">883</span></a>        <span class="n">baz</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Origin-884"><a href="#Origin-884"><span class="linenos">884</span></a>        <span class="n">inc</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Origin-885"><a href="#Origin-885"><span class="linenos">885</span></a>        <span class="k">for</span> <span class="n">ray</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rays</span><span class="p">:</span>
</span><span id="Origin-886"><a href="#Origin-886"><span class="linenos">886</span></a>            <span class="k">if</span> <span class="p">(</span><span class="n">ray</span><span class="o">.</span><span class="n">instrument_code</span> <span class="o">==</span> <span class="n">instrument_code</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">ray</span><span class="o">.</span><span class="n">phase</span> <span class="o">==</span> <span class="n">phase</span><span class="p">):</span>
</span><span id="Origin-887"><a href="#Origin-887"><span class="linenos">887</span></a>                <span class="n">baz</span> <span class="o">=</span> <span class="n">ray</span><span class="o">.</span><span class="n">back_azimuth</span>
</span><span id="Origin-888"><a href="#Origin-888"><span class="linenos">888</span></a>                <span class="n">inc</span> <span class="o">=</span> <span class="n">ray</span><span class="o">.</span><span class="n">incidence_angle</span>
</span><span id="Origin-889"><a href="#Origin-889"><span class="linenos">889</span></a>                <span class="k">break</span>
</span><span id="Origin-890"><a href="#Origin-890"><span class="linenos">890</span></a>        <span class="k">return</span> <span class="n">baz</span><span class="p">,</span> <span class="n">inc</span>
</span><span id="Origin-891"><a href="#Origin-891"><span class="linenos">891</span></a>
</span><span id="Origin-892"><a href="#Origin-892"><span class="linenos">892</span></a>    <span class="k">def</span> <span class="nf">get_ray_station_phase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instrument_code</span><span class="p">,</span> <span class="n">phase</span><span class="p">):</span>
</span><span id="Origin-893"><a href="#Origin-893"><span class="linenos">893</span></a>        <span class="n">out_ray</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Origin-894"><a href="#Origin-894"><span class="linenos">894</span></a>        <span class="k">for</span> <span class="n">ray</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rays</span><span class="p">:</span>
</span><span id="Origin-895"><a href="#Origin-895"><span class="linenos">895</span></a>            <span class="k">if</span> <span class="p">(</span><span class="n">ray</span><span class="o">.</span><span class="n">instrument_code</span> <span class="o">==</span> <span class="n">instrument_code</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">ray</span><span class="o">.</span><span class="n">phase</span> <span class="o">==</span> <span class="n">phase</span><span class="p">):</span>
</span><span id="Origin-896"><a href="#Origin-896"><span class="linenos">896</span></a>                <span class="n">out_ray</span> <span class="o">=</span> <span class="n">ray</span>
</span><span id="Origin-897"><a href="#Origin-897"><span class="linenos">897</span></a>                <span class="k">break</span>
</span><span id="Origin-898"><a href="#Origin-898"><span class="linenos">898</span></a>        <span class="k">return</span> <span class="n">out_ray</span>
</span><span id="Origin-899"><a href="#Origin-899"><span class="linenos">899</span></a>
</span><span id="Origin-900"><a href="#Origin-900"><span class="linenos">900</span></a>    <span class="k">def</span> <span class="nf">distance_station</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instrument_code</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="s1">&#39;P&#39;</span><span class="p">):</span>
</span><span id="Origin-901"><a href="#Origin-901"><span class="linenos">901</span></a>        <span class="n">ray</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ray_station_phase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instrument_code</span><span class="p">,</span> <span class="n">phase</span><span class="p">)</span>
</span><span id="Origin-902"><a href="#Origin-902"><span class="linenos">902</span></a>        <span class="k">if</span> <span class="n">ray</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Origin-903"><a href="#Origin-903"><span class="linenos">903</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="Origin-904"><a href="#Origin-904"><span class="linenos">904</span></a>
</span><span id="Origin-905"><a href="#Origin-905"><span class="linenos">905</span></a>        <span class="k">return</span> <span class="n">ray</span><span class="o">.</span><span class="n">length</span>
</span></pre></div>


            <div class="docstring"><p>This class represents the focal time and geographical location of an
earthquake hypocenter, as well as additional meta-information. Origin can
have objects of type OriginUncertainty and Arrival as child elements.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>resource_id</strong>:  Resource identifier of Origin.</li>
<li><strong>force_resource_id</strong>:  If set to False, the automatic initialization of
<code>resource_id</code> attribute in case it is not specified will be skipped.</li>
<li><strong>time</strong>:  Focal time.</li>
<li><strong>time_errors</strong>:  AttribDict containing error quantities.</li>
<li><strong>time_fixed</strong>:  True if focal time was kept fixed for computation of the
Origin.</li>
<li><strong>reference_system_id</strong>:  Identifies the reference system used for
hypocenter determination. This is only necessary if a modified version
of the standard (with local extensions) is used that provides a
non-standard coordinate system.</li>
<li><strong>method_id</strong>:  Identifies the method used for locating the event.</li>
<li><strong>earth_model_id</strong>:  Identifies the earth model used in method_id.</li>
<li><strong>arrivals</strong>:  List of arrivals associated with the origin.</li>
<li><strong>composite_times</strong>:  Supplementary information on time of rupture start.
Complex descriptions of focal times of historic events are possible,
see description of the CompositeTime type. Note that even if
compositeTime is used, the mandatory time attribute has to be set, too.
It has to be set to the single point in time (with uncertainties
allowed) that is most characteristic for the event.</li>
<li><strong>quality</strong>:  Additional parameters describing the quality of an Origin
determination.</li>
<li><strong>origin_type</strong>:  Describes the origin type.
See <code>~uquake.core.event.header.OriginType</code> for allowed values.</li>
<li><strong>origin_uncertainty</strong>:  Describes the location uncertainties of an
origin.</li>
<li><strong>region</strong>:  Can be used to describe the geographical region of the
epicenter location. Useful if an event has multiple origins from
different agencies, and these have different region designations. Note
that an event-wide region can be defined in the description attribute
of an Event object. The user has to take care that this information
corresponds to the region attribute of the preferred Origin.</li>
<li><strong>evaluation_mode</strong>:  Evaluation mode of Origin.
See <code>~uquake.core.event.header.EvaluationMode</code> for allowed
values.</li>
<li><strong>evaluation_status</strong>:  Evaluation status of Origin.
See <code>~uquake.core.event.header.EvaluationStatus</code> for allowed
values.</li>
<li><strong>comments</strong>:  Additional comments.</li>
<li><strong>creation_info</strong>:  Creation information used to describe author,
version, and creation time.</li>
</ul>

<p>.. rubric:: Example</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn"><a href="">uquake.core.event</a></span> <span class="kn">import</span> <span class="n">Origin</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn"><a href="coordinates.html">uquake.core.coordinates</a></span> <span class="kn">import</span> <span class="n">Coordinates</span><span class="p">,</span> <span class="n">CoordinateSystem</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn"><a href="../core.html">uquake.core</a></span> <span class="kn">import</span> <span class="n">UTCDateTime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">coords</span> <span class="o">=</span> <span class="n">Coordinates</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="n">coordinate_system</span><span class="o">=</span><span class="n">CoordinateSystem</span><span class="o">.</span><span class="n">ENU</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">origin</span> <span class="o">=</span> <span class="n">Origin</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="n">UTCDateTime</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span> <span class="n">coordinates</span><span class="o">=</span><span class="n">coords</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">origin</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-alert pdoc-alert-note">

<p>For handling additional information not covered by the QuakeML
standard and how to output it to QuakeML see the
:ref:<code>ObsPy Tutorial &lt;quakeml-extra&gt;</code>.</p>

</div>
</div>


                            <div id="Origin.__init__" class="classattr">
                                        <input id="Origin.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Origin</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">coordinates</span><span class="p">:</span> <span class="n"><a href="coordinates.html#Coordinates">uquake.core.coordinates.Coordinates</a></span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">rays</span><span class="p">:</span> <span class="n"><a href="#RayCollection">RayCollection</a></span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">uncertainty_point_cloud</span><span class="p">:</span> <span class="n"><a href="#UncertaintyPointCloud">UncertaintyPointCloud</a></span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="Origin.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Origin.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Origin.__init__-661"><a href="#Origin.__init__-661"><span class="linenos">661</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coordinates</span><span class="p">:</span> <span class="n">Coordinates</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Origin.__init__-662"><a href="#Origin.__init__-662"><span class="linenos">662</span></a>                 <span class="n">rays</span><span class="p">:</span> <span class="n">RayCollection</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Origin.__init__-663"><a href="#Origin.__init__-663"><span class="linenos">663</span></a>                 <span class="n">uncertainty_point_cloud</span><span class="p">:</span> <span class="n">UncertaintyPointCloud</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Origin.__init__-664"><a href="#Origin.__init__-664"><span class="linenos">664</span></a>                 <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Origin.__init__-665"><a href="#Origin.__init__-665"><span class="linenos">665</span></a>
</span><span id="Origin.__init__-666"><a href="#Origin.__init__-666"><span class="linenos">666</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Origin.__init__-667"><a href="#Origin.__init__-667"><span class="linenos">667</span></a>
</span><span id="Origin.__init__-668"><a href="#Origin.__init__-668"><span class="linenos">668</span></a>        <span class="k">if</span> <span class="n">obspy_obj</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Origin.__init__-669"><a href="#Origin.__init__-669"><span class="linenos">669</span></a>            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obspy_obj</span><span class="p">,</span> <span class="s1">&#39;extra&#39;</span><span class="p">):</span>
</span><span id="Origin.__init__-670"><a href="#Origin.__init__-670"><span class="linenos">670</span></a>                <span class="n">extra</span> <span class="o">=</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">extra</span>
</span><span id="Origin.__init__-671"><a href="#Origin.__init__-671"><span class="linenos">671</span></a>                <span class="n">obspy_obj</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Origin.__init__-672"><a href="#Origin.__init__-672"><span class="linenos">672</span></a>                <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Origin.__init__-673"><a href="#Origin.__init__-673"><span class="linenos">673</span></a>                <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_keys</span><span class="p">:</span>
</span><span id="Origin.__init__-674"><a href="#Origin.__init__-674"><span class="linenos">674</span></a>                    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">extra</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Origin.__init__-675"><a href="#Origin.__init__-675"><span class="linenos">675</span></a>                        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extra_types</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="s1">&#39;from_json&#39;</span><span class="p">):</span>
</span><span id="Origin.__init__-676"><a href="#Origin.__init__-676"><span class="linenos">676</span></a>                            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_types</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span>
</span><span id="Origin.__init__-677"><a href="#Origin.__init__-677"><span class="linenos">677</span></a>                                <span class="n">extra</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
</span><span id="Origin.__init__-678"><a href="#Origin.__init__-678"><span class="linenos">678</span></a>                            <span class="p">)</span>
</span><span id="Origin.__init__-679"><a href="#Origin.__init__-679"><span class="linenos">679</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="Origin.__init__-680"><a href="#Origin.__init__-680"><span class="linenos">680</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Origin.__init__-681"><a href="#Origin.__init__-681"><span class="linenos">681</span></a>                <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Origin.__init__-682"><a href="#Origin.__init__-682"><span class="linenos">682</span></a>
</span><span id="Origin.__init__-683"><a href="#Origin.__init__-683"><span class="linenos">683</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">arrivals</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Origin.__init__-684"><a href="#Origin.__init__-684"><span class="linenos">684</span></a>            <span class="k">for</span> <span class="n">arrival</span> <span class="ow">in</span> <span class="n">obspy_obj</span><span class="o">.</span><span class="n">arrivals</span><span class="p">:</span>
</span><span id="Origin.__init__-685"><a href="#Origin.__init__-685"><span class="linenos">685</span></a>                <span class="n">uq_arrival</span> <span class="o">=</span> <span class="n">Arrival</span><span class="p">(</span><span class="n">obspy_obj</span><span class="o">=</span><span class="n">arrival</span><span class="p">)</span>
</span><span id="Origin.__init__-686"><a href="#Origin.__init__-686"><span class="linenos">686</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">arrivals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">uq_arrival</span><span class="p">)</span>
</span><span id="Origin.__init__-687"><a href="#Origin.__init__-687"><span class="linenos">687</span></a>
</span><span id="Origin.__init__-688"><a href="#Origin.__init__-688"><span class="linenos">688</span></a>            <span class="n">obspy_obj</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Origin.__init__-689"><a href="#Origin.__init__-689"><span class="linenos">689</span></a>
</span><span id="Origin.__init__-690"><a href="#Origin.__init__-690"><span class="linenos">690</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Origin.__init__-691"><a href="#Origin.__init__-691"><span class="linenos">691</span></a>            <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Origin.__init__-692"><a href="#Origin.__init__-692"><span class="linenos">692</span></a>
</span><span id="Origin.__init__-693"><a href="#Origin.__init__-693"><span class="linenos">693</span></a>            <span class="k">if</span> <span class="s1">&#39;velocity_model_id&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Origin.__init__-694"><a href="#Origin.__init__-694"><span class="linenos">694</span></a>                <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;earth_model_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;velocity_model_id&#39;</span><span class="p">)</span>
</span><span id="Origin.__init__-695"><a href="#Origin.__init__-695"><span class="linenos">695</span></a>            <span class="k">if</span> <span class="n">coordinates</span><span class="p">:</span>
</span><span id="Origin.__init__-696"><a href="#Origin.__init__-696"><span class="linenos">696</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span> <span class="o">=</span> <span class="n">coordinates</span>
</span><span id="Origin.__init__-697"><a href="#Origin.__init__-697"><span class="linenos">697</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Origin.__init__-698"><a href="#Origin.__init__-698"><span class="linenos">698</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">coordinates</span> <span class="o">=</span> <span class="n">Coordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="Origin.__init__-699"><a href="#Origin.__init__-699"><span class="linenos">699</span></a>                                               <span class="n">coordinate_system</span><span class="o">=</span><span class="n">CoordinateSystem</span><span class="o">.</span><span class="n">ENU</span><span class="p">)</span>
</span><span id="Origin.__init__-700"><a href="#Origin.__init__-700"><span class="linenos">700</span></a>            <span class="k">if</span> <span class="n">rays</span><span class="p">:</span>
</span><span id="Origin.__init__-701"><a href="#Origin.__init__-701"><span class="linenos">701</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">rays</span> <span class="o">=</span> <span class="n">rays</span>
</span><span id="Origin.__init__-702"><a href="#Origin.__init__-702"><span class="linenos">702</span></a>            <span class="k">if</span> <span class="n">uncertainty_point_cloud</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Origin.__init__-703"><a href="#Origin.__init__-703"><span class="linenos">703</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">uncertainty_point_cloud</span> <span class="o">=</span> <span class="n">uncertainty_point_cloud</span>
</span></pre></div>


            <div class="docstring"><p>An AttribDict can be initialized in two ways. It can be given an
existing dictionary as a simple argument or alternatively all keyword
arguments will become (key, value) pairs.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">attrib_dict_1</span> <span class="o">=</span> <span class="n">AttribDict</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attrib_dict_2</span> <span class="o">=</span> <span class="n">AttribDict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attrib_dict_1</span>  <span class="c1">#doctest: +SKIP</span>
<span class="go">AttribDict({&#39;a&#39;: 1, &#39;b&#39;: 2})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span><span class="p">(</span><span class="n">attrib_dict_1</span> <span class="o">==</span> <span class="n">attrib_dict_2</span><span class="p">)</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="Origin.extra_keys" class="classattr">
                                <div class="attr variable">
            <span class="name">extra_keys</span>        =
<span class="default_value">[&#39;rays&#39;, &#39;coordinates&#39;, &#39;uncertainty_point_cloud&#39;]</span>

        
    </div>
    <a class="headerlink" href="#Origin.extra_keys"></a>
    
    

                            </div>
                            <div id="Origin.extra_types" class="classattr">
                                <div class="attr variable">
            <span class="name">extra_types</span>        =
<input id="Origin.extra_types-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="Origin.extra_types-view-value"></label><span class="default_value">{&#39;rays&#39;: &lt;class &#39;<a href="#RayCollection">RayCollection</a>&#39;&gt;, &#39;coordinates&#39;: &lt;class &#39;<a href="coordinates.html#Coordinates">uquake.core.coordinates.Coordinates</a>&#39;&gt;, &#39;uncertainty_point_cloud&#39;: &lt;class &#39;<a href="#UncertaintyPointCloud">UncertaintyPointCloud</a>&#39;&gt;}</span>

        
    </div>
    <a class="headerlink" href="#Origin.extra_types"></a>
    
    

                            </div>
                            <div id="Origin.extra" class="classattr">
                                <div class="attr variable">
            <span class="name">extra</span>

        
    </div>
    <a class="headerlink" href="#Origin.extra"></a>
    
    

                            </div>
                            <div id="Origin.get_arrival_id" class="classattr">
                                        <input id="Origin.get_arrival_id-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_arrival_id</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">phase</span>, </span><span class="param"><span class="n">station_code</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Origin.get_arrival_id-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Origin.get_arrival_id"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Origin.get_arrival_id-792"><a href="#Origin.get_arrival_id-792"><span class="linenos">792</span></a>    <span class="k">def</span> <span class="nf">get_arrival_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">phase</span><span class="p">,</span> <span class="n">station_code</span><span class="p">):</span>
</span><span id="Origin.get_arrival_id-793"><a href="#Origin.get_arrival_id-793"><span class="linenos">793</span></a>        <span class="n">arrival_id</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Origin.get_arrival_id-794"><a href="#Origin.get_arrival_id-794"><span class="linenos">794</span></a>        <span class="k">for</span> <span class="n">arrival</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">arrivals</span><span class="p">:</span>
</span><span id="Origin.get_arrival_id-795"><a href="#Origin.get_arrival_id-795"><span class="linenos">795</span></a>            <span class="k">if</span> <span class="p">(</span><span class="n">arrival</span><span class="o">.</span><span class="n">phase</span> <span class="o">==</span> <span class="n">phase</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">arrival</span><span class="o">.</span><span class="n">get_sta</span><span class="p">()</span> <span class="o">==</span>
</span><span id="Origin.get_arrival_id-796"><a href="#Origin.get_arrival_id-796"><span class="linenos">796</span></a>                                             <span class="n">station_code</span><span class="p">):</span>
</span><span id="Origin.get_arrival_id-797"><a href="#Origin.get_arrival_id-797"><span class="linenos">797</span></a>                <span class="n">arrival_id</span> <span class="o">=</span> <span class="n">arrival</span><span class="o">.</span><span class="n">resource_id</span>
</span><span id="Origin.get_arrival_id-798"><a href="#Origin.get_arrival_id-798"><span class="linenos">798</span></a>
</span><span id="Origin.get_arrival_id-799"><a href="#Origin.get_arrival_id-799"><span class="linenos">799</span></a>        <span class="k">return</span> <span class="n">arrival_id</span>
</span></pre></div>


    

                            </div>
                            <div id="Origin.append_ray" class="classattr">
                                        <input id="Origin.append_ray-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">append_ray</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">item</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Origin.append_ray-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Origin.append_ray"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Origin.append_ray-801"><a href="#Origin.append_ray-801"><span class="linenos">801</span></a>    <span class="k">def</span> <span class="nf">append_ray</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span><span id="Origin.append_ray-802"><a href="#Origin.append_ray-802"><span class="linenos">802</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rays</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Origin.append_ray-803"><a href="#Origin.append_ray-803"><span class="linenos">803</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rays</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span><span class="p">]</span>
</span><span id="Origin.append_ray-804"><a href="#Origin.append_ray-804"><span class="linenos">804</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Origin.append_ray-805"><a href="#Origin.append_ray-805"><span class="linenos">805</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rays</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rays</span> <span class="o">+</span> <span class="p">[</span><span class="n">item</span><span class="p">]</span>
</span></pre></div>


    

                            </div>
                            <div id="Origin.rms_residual" class="classattr">
                                <div class="attr variable">
            <span class="name">rms_residual</span>

        
    </div>
    <a class="headerlink" href="#Origin.rms_residual"></a>
    
    

                            </div>
                            <div id="Origin.loc" class="classattr">
                                <div class="attr variable">
            <span class="name">loc</span>

        
    </div>
    <a class="headerlink" href="#Origin.loc"></a>
    
    

                            </div>
                            <div id="Origin.x" class="classattr">
                                <div class="attr variable">
            <span class="name">x</span>

        
    </div>
    <a class="headerlink" href="#Origin.x"></a>
    
    

                            </div>
                            <div id="Origin.y" class="classattr">
                                <div class="attr variable">
            <span class="name">y</span>

        
    </div>
    <a class="headerlink" href="#Origin.y"></a>
    
    

                            </div>
                            <div id="Origin.z" class="classattr">
                                <div class="attr variable">
            <span class="name">z</span>

        
    </div>
    <a class="headerlink" href="#Origin.z"></a>
    
    

                            </div>
                            <div id="Origin.easting" class="classattr">
                                <div class="attr variable">
            <span class="name">easting</span>

        
    </div>
    <a class="headerlink" href="#Origin.easting"></a>
    
    

                            </div>
                            <div id="Origin.northing" class="classattr">
                                <div class="attr variable">
            <span class="name">northing</span>

        
    </div>
    <a class="headerlink" href="#Origin.northing"></a>
    
    

                            </div>
                            <div id="Origin.down" class="classattr">
                                <div class="attr variable">
            <span class="name">down</span>

        
    </div>
    <a class="headerlink" href="#Origin.down"></a>
    
    

                            </div>
                            <div id="Origin.depth" class="classattr">
                                <div class="attr variable">
            <span class="name">depth</span>

        
    </div>
    <a class="headerlink" href="#Origin.depth"></a>
    
    

                            </div>
                            <div id="Origin.up" class="classattr">
                                <div class="attr variable">
            <span class="name">up</span>

        
    </div>
    <a class="headerlink" href="#Origin.up"></a>
    
    

                            </div>
                            <div id="Origin.elevation" class="classattr">
                                <div class="attr variable">
            <span class="name">elevation</span>

        
    </div>
    <a class="headerlink" href="#Origin.elevation"></a>
    
    

                            </div>
                            <div id="Origin.coordinate_system" class="classattr">
                                <div class="attr variable">
            <span class="name">coordinate_system</span>

        
    </div>
    <a class="headerlink" href="#Origin.coordinate_system"></a>
    
    

                            </div>
                            <div id="Origin.location_uncertainty" class="classattr">
                                <div class="attr variable">
            <span class="name">location_uncertainty</span>

        
    </div>
    <a class="headerlink" href="#Origin.location_uncertainty"></a>
    
    

                            </div>
                            <div id="Origin.get_origin" class="classattr">
                                        <input id="Origin.get_origin-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_origin</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Origin.get_origin-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Origin.get_origin"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Origin.get_origin-868"><a href="#Origin.get_origin-868"><span class="linenos">868</span></a>    <span class="k">def</span> <span class="nf">get_origin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Origin.get_origin-869"><a href="#Origin.get_origin-869"><span class="linenos">869</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">preferred_origin_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Origin.get_origin-870"><a href="#Origin.get_origin-870"><span class="linenos">870</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">preferred_origin_id</span><span class="o">.</span><span class="n">get_referred_object</span><span class="p">()</span>
</span></pre></div>


    

                            </div>
                            <div id="Origin.get_all_magnitudes_for_origin" class="classattr">
                                        <input id="Origin.get_all_magnitudes_for_origin-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_all_magnitudes_for_origin</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">cat</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Origin.get_all_magnitudes_for_origin-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Origin.get_all_magnitudes_for_origin"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Origin.get_all_magnitudes_for_origin-872"><a href="#Origin.get_all_magnitudes_for_origin-872"><span class="linenos">872</span></a>    <span class="k">def</span> <span class="nf">get_all_magnitudes_for_origin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cat</span><span class="p">):</span>
</span><span id="Origin.get_all_magnitudes_for_origin-873"><a href="#Origin.get_all_magnitudes_for_origin-873"><span class="linenos">873</span></a>        <span class="n">magnitudes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Origin.get_all_magnitudes_for_origin-874"><a href="#Origin.get_all_magnitudes_for_origin-874"><span class="linenos">874</span></a>
</span><span id="Origin.get_all_magnitudes_for_origin-875"><a href="#Origin.get_all_magnitudes_for_origin-875"><span class="linenos">875</span></a>        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">cat</span><span class="p">:</span>
</span><span id="Origin.get_all_magnitudes_for_origin-876"><a href="#Origin.get_all_magnitudes_for_origin-876"><span class="linenos">876</span></a>            <span class="k">for</span> <span class="n">mag</span> <span class="ow">in</span> <span class="n">event</span><span class="o">.</span><span class="n">magnitudes</span><span class="p">:</span>
</span><span id="Origin.get_all_magnitudes_for_origin-877"><a href="#Origin.get_all_magnitudes_for_origin-877"><span class="linenos">877</span></a>                <span class="k">if</span> <span class="n">mag</span><span class="o">.</span><span class="n">origin_id</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
</span><span id="Origin.get_all_magnitudes_for_origin-878"><a href="#Origin.get_all_magnitudes_for_origin-878"><span class="linenos">878</span></a>                    <span class="n">magnitudes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mag</span><span class="p">)</span>
</span><span id="Origin.get_all_magnitudes_for_origin-879"><a href="#Origin.get_all_magnitudes_for_origin-879"><span class="linenos">879</span></a>
</span><span id="Origin.get_all_magnitudes_for_origin-880"><a href="#Origin.get_all_magnitudes_for_origin-880"><span class="linenos">880</span></a>        <span class="k">return</span> <span class="n">magnitudes</span>
</span></pre></div>


    

                            </div>
                            <div id="Origin.get_incidence_baz_angles" class="classattr">
                                        <input id="Origin.get_incidence_baz_angles-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_incidence_baz_angles</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">instrument_code</span>, </span><span class="param"><span class="n">phase</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Origin.get_incidence_baz_angles-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Origin.get_incidence_baz_angles"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Origin.get_incidence_baz_angles-882"><a href="#Origin.get_incidence_baz_angles-882"><span class="linenos">882</span></a>    <span class="k">def</span> <span class="nf">get_incidence_baz_angles</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instrument_code</span><span class="p">,</span> <span class="n">phase</span><span class="p">):</span>
</span><span id="Origin.get_incidence_baz_angles-883"><a href="#Origin.get_incidence_baz_angles-883"><span class="linenos">883</span></a>        <span class="n">baz</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Origin.get_incidence_baz_angles-884"><a href="#Origin.get_incidence_baz_angles-884"><span class="linenos">884</span></a>        <span class="n">inc</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Origin.get_incidence_baz_angles-885"><a href="#Origin.get_incidence_baz_angles-885"><span class="linenos">885</span></a>        <span class="k">for</span> <span class="n">ray</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rays</span><span class="p">:</span>
</span><span id="Origin.get_incidence_baz_angles-886"><a href="#Origin.get_incidence_baz_angles-886"><span class="linenos">886</span></a>            <span class="k">if</span> <span class="p">(</span><span class="n">ray</span><span class="o">.</span><span class="n">instrument_code</span> <span class="o">==</span> <span class="n">instrument_code</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">ray</span><span class="o">.</span><span class="n">phase</span> <span class="o">==</span> <span class="n">phase</span><span class="p">):</span>
</span><span id="Origin.get_incidence_baz_angles-887"><a href="#Origin.get_incidence_baz_angles-887"><span class="linenos">887</span></a>                <span class="n">baz</span> <span class="o">=</span> <span class="n">ray</span><span class="o">.</span><span class="n">back_azimuth</span>
</span><span id="Origin.get_incidence_baz_angles-888"><a href="#Origin.get_incidence_baz_angles-888"><span class="linenos">888</span></a>                <span class="n">inc</span> <span class="o">=</span> <span class="n">ray</span><span class="o">.</span><span class="n">incidence_angle</span>
</span><span id="Origin.get_incidence_baz_angles-889"><a href="#Origin.get_incidence_baz_angles-889"><span class="linenos">889</span></a>                <span class="k">break</span>
</span><span id="Origin.get_incidence_baz_angles-890"><a href="#Origin.get_incidence_baz_angles-890"><span class="linenos">890</span></a>        <span class="k">return</span> <span class="n">baz</span><span class="p">,</span> <span class="n">inc</span>
</span></pre></div>


    

                            </div>
                            <div id="Origin.get_ray_station_phase" class="classattr">
                                        <input id="Origin.get_ray_station_phase-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_ray_station_phase</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">instrument_code</span>, </span><span class="param"><span class="n">phase</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Origin.get_ray_station_phase-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Origin.get_ray_station_phase"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Origin.get_ray_station_phase-892"><a href="#Origin.get_ray_station_phase-892"><span class="linenos">892</span></a>    <span class="k">def</span> <span class="nf">get_ray_station_phase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instrument_code</span><span class="p">,</span> <span class="n">phase</span><span class="p">):</span>
</span><span id="Origin.get_ray_station_phase-893"><a href="#Origin.get_ray_station_phase-893"><span class="linenos">893</span></a>        <span class="n">out_ray</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Origin.get_ray_station_phase-894"><a href="#Origin.get_ray_station_phase-894"><span class="linenos">894</span></a>        <span class="k">for</span> <span class="n">ray</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rays</span><span class="p">:</span>
</span><span id="Origin.get_ray_station_phase-895"><a href="#Origin.get_ray_station_phase-895"><span class="linenos">895</span></a>            <span class="k">if</span> <span class="p">(</span><span class="n">ray</span><span class="o">.</span><span class="n">instrument_code</span> <span class="o">==</span> <span class="n">instrument_code</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">ray</span><span class="o">.</span><span class="n">phase</span> <span class="o">==</span> <span class="n">phase</span><span class="p">):</span>
</span><span id="Origin.get_ray_station_phase-896"><a href="#Origin.get_ray_station_phase-896"><span class="linenos">896</span></a>                <span class="n">out_ray</span> <span class="o">=</span> <span class="n">ray</span>
</span><span id="Origin.get_ray_station_phase-897"><a href="#Origin.get_ray_station_phase-897"><span class="linenos">897</span></a>                <span class="k">break</span>
</span><span id="Origin.get_ray_station_phase-898"><a href="#Origin.get_ray_station_phase-898"><span class="linenos">898</span></a>        <span class="k">return</span> <span class="n">out_ray</span>
</span></pre></div>


    

                            </div>
                            <div id="Origin.distance_station" class="classattr">
                                        <input id="Origin.distance_station-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">distance_station</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">instrument_code</span>, </span><span class="param"><span class="n">phase</span><span class="o">=</span><span class="s1">&#39;P&#39;</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Origin.distance_station-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Origin.distance_station"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Origin.distance_station-900"><a href="#Origin.distance_station-900"><span class="linenos">900</span></a>    <span class="k">def</span> <span class="nf">distance_station</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instrument_code</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="s1">&#39;P&#39;</span><span class="p">):</span>
</span><span id="Origin.distance_station-901"><a href="#Origin.distance_station-901"><span class="linenos">901</span></a>        <span class="n">ray</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ray_station_phase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instrument_code</span><span class="p">,</span> <span class="n">phase</span><span class="p">)</span>
</span><span id="Origin.distance_station-902"><a href="#Origin.distance_station-902"><span class="linenos">902</span></a>        <span class="k">if</span> <span class="n">ray</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Origin.distance_station-903"><a href="#Origin.distance_station-903"><span class="linenos">903</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="Origin.distance_station-904"><a href="#Origin.distance_station-904"><span class="linenos">904</span></a>
</span><span id="Origin.distance_station-905"><a href="#Origin.distance_station-905"><span class="linenos">905</span></a>        <span class="k">return</span> <span class="n">ray</span><span class="o">.</span><span class="n">length</span>
</span></pre></div>


    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>obspy.core.event.base._event_type_class_factory.&lt;locals&gt;.AbstractEventType</dt>
                                <dd id="Origin.warn_on_non_default_key" class="variable">warn_on_non_default_key</dd>
                <dd id="Origin.defaults" class="variable">defaults</dd>
                <dd id="Origin.do_not_warn_on" class="variable">do_not_warn_on</dd>
                <dd id="Origin.clear" class="function">clear</dd>
                <dd id="Origin.copy" class="function">copy</dd>
                <dd id="Origin.item" class="variable">item</dd>
                <dd id="Origin.key" class="variable">key</dd>
                <dd id="Origin.value" class="variable">value</dd>

            </div>
            <div><dt>obspy.core.util.attribdict.AttribDict</dt>
                                <dd id="Origin.readonly" class="variable">readonly</dd>
                <dd id="Origin.update" class="function">update</dd>

            </div>
            <div><dt>collections.abc.MutableMapping</dt>
                                <dd id="Origin.pop" class="function">pop</dd>
                <dd id="Origin.popitem" class="function">popitem</dd>
                <dd id="Origin.setdefault" class="function">setdefault</dd>

            </div>
            <div><dt>collections.abc.Mapping</dt>
                                <dd id="Origin.get" class="function">get</dd>
                <dd id="Origin.keys" class="function">keys</dd>
                <dd id="Origin.items" class="function">items</dd>
                <dd id="Origin.values" class="function">values</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="Magnitude">
                            <input id="Magnitude-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator">@update_doc</div>

    <span class="def">class</span>
    <span class="name">Magnitude</span><wbr>(<span class="base">obspy.core.event.magnitude.Magnitude</span>):

                <label class="view-source-button" for="Magnitude-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Magnitude"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Magnitude-908"><a href="#Magnitude-908"><span class="linenos"> 908</span></a><span class="nd">@update_doc</span>
</span><span id="Magnitude-909"><a href="#Magnitude-909"><span class="linenos"> 909</span></a><span class="k">class</span> <span class="nc">Magnitude</span><span class="p">(</span><span class="n">obsevent</span><span class="o">.</span><span class="n">Magnitude</span><span class="p">):</span>
</span><span id="Magnitude-910"><a href="#Magnitude-910"><span class="linenos"> 910</span></a>    <span class="vm">__doc__</span> <span class="o">=</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">Magnitude</span><span class="o">.</span><span class="vm">__doc__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;obspy&#39;</span><span class="p">,</span> <span class="s1">&#39;uquake&#39;</span><span class="p">)</span>
</span><span id="Magnitude-911"><a href="#Magnitude-911"><span class="linenos"> 911</span></a>
</span><span id="Magnitude-912"><a href="#Magnitude-912"><span class="linenos"> 912</span></a>    <span class="n">extra_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;corner_frequency&#39;</span><span class="p">,</span>
</span><span id="Magnitude-913"><a href="#Magnitude-913"><span class="linenos"> 913</span></a>                  <span class="s1">&#39;corner_frequency_p&#39;</span><span class="p">,</span> <span class="s1">&#39;corner_frequency_s&#39;</span><span class="p">,</span>
</span><span id="Magnitude-914"><a href="#Magnitude-914"><span class="linenos"> 914</span></a>                  <span class="s1">&#39;corner_frequency_error&#39;</span><span class="p">,</span> <span class="s1">&#39;corner_frequency_p_error&#39;</span><span class="p">,</span>
</span><span id="Magnitude-915"><a href="#Magnitude-915"><span class="linenos"> 915</span></a>                  <span class="s1">&#39;corner_frequency_s_error&#39;</span><span class="p">,</span>
</span><span id="Magnitude-916"><a href="#Magnitude-916"><span class="linenos"> 916</span></a>                  <span class="s1">&#39;energy_p&#39;</span><span class="p">,</span> <span class="s1">&#39;energy_s&#39;</span><span class="p">,</span> <span class="s1">&#39;energy_p_error&#39;</span><span class="p">,</span> <span class="s1">&#39;energy_s_error&#39;</span><span class="p">]</span>
</span><span id="Magnitude-917"><a href="#Magnitude-917"><span class="linenos"> 917</span></a>
</span><span id="Magnitude-918"><a href="#Magnitude-918"><span class="linenos"> 918</span></a>    <span class="n">extra_types</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;corner_frequency&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
</span><span id="Magnitude-919"><a href="#Magnitude-919"><span class="linenos"> 919</span></a>                   <span class="s1">&#39;corner_frequency_p&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
</span><span id="Magnitude-920"><a href="#Magnitude-920"><span class="linenos"> 920</span></a>                   <span class="s1">&#39;corner_frequency_s&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
</span><span id="Magnitude-921"><a href="#Magnitude-921"><span class="linenos"> 921</span></a>                   <span class="s1">&#39;corner_frequency_error&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
</span><span id="Magnitude-922"><a href="#Magnitude-922"><span class="linenos"> 922</span></a>                   <span class="s1">&#39;corner_frequency_p_error&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
</span><span id="Magnitude-923"><a href="#Magnitude-923"><span class="linenos"> 923</span></a>                   <span class="s1">&#39;corner_frequency_s_error&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
</span><span id="Magnitude-924"><a href="#Magnitude-924"><span class="linenos"> 924</span></a>                   <span class="s1">&#39;energy_p&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
</span><span id="Magnitude-925"><a href="#Magnitude-925"><span class="linenos"> 925</span></a>                   <span class="s1">&#39;energy_s&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
</span><span id="Magnitude-926"><a href="#Magnitude-926"><span class="linenos"> 926</span></a>                   <span class="s1">&#39;energy_p_error&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
</span><span id="Magnitude-927"><a href="#Magnitude-927"><span class="linenos"> 927</span></a>                   <span class="s1">&#39;energy_s_error&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">}</span>
</span><span id="Magnitude-928"><a href="#Magnitude-928"><span class="linenos"> 928</span></a>
</span><span id="Magnitude-929"><a href="#Magnitude-929"><span class="linenos"> 929</span></a>    <span class="n">__new_section__</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Magnitude-930"><a href="#Magnitude-930"><span class="linenos"> 930</span></a>        <span class="s1">&#39;doc&#39;</span><span class="p">:</span> <span class="s2">&quot;&quot;&quot;:type corner_frequency: float</span>
</span><span id="Magnitude-931"><a href="#Magnitude-931"><span class="linenos"> 931</span></a><span class="s2">    :param seismic_moment: the seismic moment</span>
</span><span id="Magnitude-932"><a href="#Magnitude-932"><span class="linenos"> 932</span></a><span class="s2">    :type seismic_moment: float</span>
</span><span id="Magnitude-933"><a href="#Magnitude-933"><span class="linenos"> 933</span></a><span class="s2">    :param corner_frequency: The corner frequency in Hz.</span>
</span><span id="Magnitude-934"><a href="#Magnitude-934"><span class="linenos"> 934</span></a><span class="s2">    :type corner_frequency_p: float</span>
</span><span id="Magnitude-935"><a href="#Magnitude-935"><span class="linenos"> 935</span></a><span class="s2">    :param corner_frequency_p: The corner frequency for P-waves in Hz.</span>
</span><span id="Magnitude-936"><a href="#Magnitude-936"><span class="linenos"> 936</span></a><span class="s2">    :type corner_frequency_s: float</span>
</span><span id="Magnitude-937"><a href="#Magnitude-937"><span class="linenos"> 937</span></a><span class="s2">    :param corner_frequency_s: The corner frequency for S-waves in Hz.</span>
</span><span id="Magnitude-938"><a href="#Magnitude-938"><span class="linenos"> 938</span></a><span class="s2">    :type corner_frequency_error: float</span>
</span><span id="Magnitude-939"><a href="#Magnitude-939"><span class="linenos"> 939</span></a><span class="s2">    :param corner_frequency_error: Error associated with the corner frequency in Hz.</span>
</span><span id="Magnitude-940"><a href="#Magnitude-940"><span class="linenos"> 940</span></a><span class="s2">    :type corner_frequency_p_error: float</span>
</span><span id="Magnitude-941"><a href="#Magnitude-941"><span class="linenos"> 941</span></a><span class="s2">    :param corner_frequency_p_error: Error associated with the corner frequency for P-waves in Hz.</span>
</span><span id="Magnitude-942"><a href="#Magnitude-942"><span class="linenos"> 942</span></a><span class="s2">    :type corner_frequency_s_error: float</span>
</span><span id="Magnitude-943"><a href="#Magnitude-943"><span class="linenos"> 943</span></a><span class="s2">    :param corner_frequency_s_error: Error associated with the corner frequency for S-waves in Hz.</span>
</span><span id="Magnitude-944"><a href="#Magnitude-944"><span class="linenos"> 944</span></a><span class="s2">    :type energy_p: float</span>
</span><span id="Magnitude-945"><a href="#Magnitude-945"><span class="linenos"> 945</span></a><span class="s2">    :param energy_p: P-wave radiated energy in joules</span>
</span><span id="Magnitude-946"><a href="#Magnitude-946"><span class="linenos"> 946</span></a><span class="s2">    :type energy_s: float</span>
</span><span id="Magnitude-947"><a href="#Magnitude-947"><span class="linenos"> 947</span></a><span class="s2">    :param energy_s: S-wave radiated energy in joules</span>
</span><span id="Magnitude-948"><a href="#Magnitude-948"><span class="linenos"> 948</span></a><span class="s2">    :type energy_p_error: float</span>
</span><span id="Magnitude-949"><a href="#Magnitude-949"><span class="linenos"> 949</span></a><span class="s2">    :param energy_p_error: P-wave radiated energy error in joules</span>
</span><span id="Magnitude-950"><a href="#Magnitude-950"><span class="linenos"> 950</span></a><span class="s2">    :type energy_s_error: float</span>
</span><span id="Magnitude-951"><a href="#Magnitude-951"><span class="linenos"> 951</span></a><span class="s2">    :param energy_s_error:  S-wave radiated energy error in joules</span>
</span><span id="Magnitude-952"><a href="#Magnitude-952"><span class="linenos"> 952</span></a><span class="s2">    &quot;&quot;&quot;</span><span class="p">,</span>
</span><span id="Magnitude-953"><a href="#Magnitude-953"><span class="linenos"> 953</span></a>        <span class="s1">&#39;previous_parameter&#39;</span><span class="p">:</span> <span class="s1">&#39;magnitude_type&#39;</span><span class="p">}</span>
</span><span id="Magnitude-954"><a href="#Magnitude-954"><span class="linenos"> 954</span></a>
</span><span id="Magnitude-955"><a href="#Magnitude-955"><span class="linenos"> 955</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Magnitude-956"><a href="#Magnitude-956"><span class="linenos"> 956</span></a>        <span class="k">if</span> <span class="s1">&#39;seismic_moment&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Magnitude-957"><a href="#Magnitude-957"><span class="linenos"> 957</span></a>            <span class="n">seismic_moment</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;seismic_moment&#39;</span><span class="p">)</span>
</span><span id="Magnitude-958"><a href="#Magnitude-958"><span class="linenos"> 958</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;mag&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span> <span class="o">/</span> <span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">seismic_moment</span><span class="p">)</span> <span class="o">-</span> <span class="mf">9.1</span><span class="p">)</span>
</span><span id="Magnitude-959"><a href="#Magnitude-959"><span class="linenos"> 959</span></a>        <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Magnitude-960"><a href="#Magnitude-960"><span class="linenos"> 960</span></a>
</span><span id="Magnitude-961"><a href="#Magnitude-961"><span class="linenos"> 961</span></a>    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="Magnitude-962"><a href="#Magnitude-962"><span class="linenos"> 962</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;seismic_moment&#39;</span><span class="p">:</span>
</span><span id="Magnitude-963"><a href="#Magnitude-963"><span class="linenos"> 963</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mag</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span> <span class="o">/</span> <span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">-</span> <span class="mf">9.1</span><span class="p">)</span>
</span><span id="Magnitude-964"><a href="#Magnitude-964"><span class="linenos"> 964</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Magnitude-965"><a href="#Magnitude-965"><span class="linenos"> 965</span></a>            <span class="n">_set_attr_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="Magnitude-966"><a href="#Magnitude-966"><span class="linenos"> 966</span></a>
</span><span id="Magnitude-967"><a href="#Magnitude-967"><span class="linenos"> 967</span></a>    <span class="nd">@classmethod</span>
</span><span id="Magnitude-968"><a href="#Magnitude-968"><span class="linenos"> 968</span></a>    <span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">input_dict</span><span class="p">,</span> <span class="n">origin_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Magnitude-969"><a href="#Magnitude-969"><span class="linenos"> 969</span></a>        <span class="n">out_cls</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">obspy_obj</span><span class="o">=</span><span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">input_dict</span><span class="p">,</span>
</span><span id="Magnitude-970"><a href="#Magnitude-970"><span class="linenos"> 970</span></a>                      <span class="n">origin_id</span><span class="o">=</span><span class="n">origin_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Magnitude-971"><a href="#Magnitude-971"><span class="linenos"> 971</span></a>        <span class="n">out_cls</span><span class="o">.</span><span class="n">mag</span> <span class="o">=</span> <span class="n">input_dict</span><span class="p">[</span><span class="s1">&#39;moment_magnitude&#39;</span><span class="p">]</span>
</span><span id="Magnitude-972"><a href="#Magnitude-972"><span class="linenos"> 972</span></a>        <span class="n">out_cls</span><span class="o">.</span><span class="n">magnitude_type</span> <span class="o">=</span> <span class="s1">&#39;Mw&#39;</span>
</span><span id="Magnitude-973"><a href="#Magnitude-973"><span class="linenos"> 973</span></a>
</span><span id="Magnitude-974"><a href="#Magnitude-974"><span class="linenos"> 974</span></a>        <span class="k">return</span> <span class="n">out_cls</span>
</span><span id="Magnitude-975"><a href="#Magnitude-975"><span class="linenos"> 975</span></a>
</span><span id="Magnitude-976"><a href="#Magnitude-976"><span class="linenos"> 976</span></a>    <span class="nd">@property</span>
</span><span id="Magnitude-977"><a href="#Magnitude-977"><span class="linenos"> 977</span></a>    <span class="k">def</span> <span class="nf">energy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Magnitude-978"><a href="#Magnitude-978"><span class="linenos"> 978</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_p</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_s</span>
</span><span id="Magnitude-979"><a href="#Magnitude-979"><span class="linenos"> 979</span></a>
</span><span id="Magnitude-980"><a href="#Magnitude-980"><span class="linenos"> 980</span></a>    <span class="nd">@property</span>
</span><span id="Magnitude-981"><a href="#Magnitude-981"><span class="linenos"> 981</span></a>    <span class="k">def</span> <span class="nf">static_stress_drop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Magnitude-982"><a href="#Magnitude-982"><span class="linenos"> 982</span></a>        <span class="n">ssd</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Magnitude-983"><a href="#Magnitude-983"><span class="linenos"> 983</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">magnitude_type</span> <span class="o">==</span> <span class="s2">&quot;Mw&quot;</span><span class="p">:</span>
</span><span id="Magnitude-984"><a href="#Magnitude-984"><span class="linenos"> 984</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mag</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">corner_frequency</span><span class="p">:</span>
</span><span id="Magnitude-985"><a href="#Magnitude-985"><span class="linenos"> 985</span></a>                <span class="n">ssd</span> <span class="o">=</span> <span class="n">calc_static_stress_drop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mag</span><span class="p">,</span>
</span><span id="Magnitude-986"><a href="#Magnitude-986"><span class="linenos"> 986</span></a>                                              <span class="bp">self</span><span class="o">.</span><span class="n">corner_frequency</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1e6</span>
</span><span id="Magnitude-987"><a href="#Magnitude-987"><span class="linenos"> 987</span></a>        <span class="k">return</span> <span class="n">ssd</span>
</span><span id="Magnitude-988"><a href="#Magnitude-988"><span class="linenos"> 988</span></a>
</span><span id="Magnitude-989"><a href="#Magnitude-989"><span class="linenos"> 989</span></a>    <span class="nd">@property</span>
</span><span id="Magnitude-990"><a href="#Magnitude-990"><span class="linenos"> 990</span></a>    <span class="k">def</span> <span class="nf">apparent_stress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Magnitude-991"><a href="#Magnitude-991"><span class="linenos"> 991</span></a>        <span class="n">app_stress</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Magnitude-992"><a href="#Magnitude-992"><span class="linenos"> 992</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">magnitude_type</span> <span class="o">==</span> <span class="s1">&#39;Mw&#39;</span><span class="p">:</span>
</span><span id="Magnitude-993"><a href="#Magnitude-993"><span class="linenos"> 993</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">mag</span><span class="p">:</span>
</span><span id="Magnitude-994"><a href="#Magnitude-994"><span class="linenos"> 994</span></a>                <span class="n">app_stress</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">potency</span>
</span><span id="Magnitude-995"><a href="#Magnitude-995"><span class="linenos"> 995</span></a>        <span class="k">return</span> <span class="n">app_stress</span>
</span><span id="Magnitude-996"><a href="#Magnitude-996"><span class="linenos"> 996</span></a>
</span><span id="Magnitude-997"><a href="#Magnitude-997"><span class="linenos"> 997</span></a>    <span class="nd">@property</span>
</span><span id="Magnitude-998"><a href="#Magnitude-998"><span class="linenos"> 998</span></a>    <span class="k">def</span> <span class="nf">seismic_moment</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Magnitude-999"><a href="#Magnitude-999"><span class="linenos"> 999</span></a>        <span class="n">seismic_moment</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Magnitude-1000"><a href="#Magnitude-1000"><span class="linenos">1000</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">magnitude_type</span> <span class="o">==</span> <span class="s1">&#39;Mw&#39;</span><span class="p">:</span>
</span><span id="Magnitude-1001"><a href="#Magnitude-1001"><span class="linenos">1001</span></a>            <span class="n">seismic_moment</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">**</span> <span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mag</span> <span class="o">+</span> <span class="mf">6.03</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="Magnitude-1002"><a href="#Magnitude-1002"><span class="linenos">1002</span></a>        <span class="k">return</span> <span class="n">seismic_moment</span>
</span><span id="Magnitude-1003"><a href="#Magnitude-1003"><span class="linenos">1003</span></a>
</span><span id="Magnitude-1004"><a href="#Magnitude-1004"><span class="linenos">1004</span></a>    <span class="nd">@property</span>
</span><span id="Magnitude-1005"><a href="#Magnitude-1005"><span class="linenos">1005</span></a>    <span class="k">def</span> <span class="nf">potency</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Magnitude-1006"><a href="#Magnitude-1006"><span class="linenos">1006</span></a>        <span class="n">potency</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Magnitude-1007"><a href="#Magnitude-1007"><span class="linenos">1007</span></a>        <span class="n">mu</span> <span class="o">=</span> <span class="mf">29.5e9</span>
</span><span id="Magnitude-1008"><a href="#Magnitude-1008"><span class="linenos">1008</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">magnitude_type</span> <span class="o">==</span> <span class="s1">&#39;Mw&#39;</span><span class="p">:</span>
</span><span id="Magnitude-1009"><a href="#Magnitude-1009"><span class="linenos">1009</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mag</span><span class="p">:</span>
</span><span id="Magnitude-1010"><a href="#Magnitude-1010"><span class="linenos">1010</span></a>                <span class="n">potency</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">seismic_moment</span> <span class="o">/</span> <span class="n">mu</span>
</span><span id="Magnitude-1011"><a href="#Magnitude-1011"><span class="linenos">1011</span></a>        <span class="k">return</span> <span class="n">potency</span>
</span><span id="Magnitude-1012"><a href="#Magnitude-1012"><span class="linenos">1012</span></a>
</span><span id="Magnitude-1013"><a href="#Magnitude-1013"><span class="linenos">1013</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Magnitude-1014"><a href="#Magnitude-1014"><span class="linenos">1014</span></a>
</span><span id="Magnitude-1015"><a href="#Magnitude-1015"><span class="linenos">1015</span></a>        <span class="n">es_ep</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Magnitude-1016"><a href="#Magnitude-1016"><span class="linenos">1016</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_p</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_s</span><span class="p">:</span>
</span><span id="Magnitude-1017"><a href="#Magnitude-1017"><span class="linenos">1017</span></a>            <span class="n">es_ep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_s</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_p</span>
</span><span id="Magnitude-1018"><a href="#Magnitude-1018"><span class="linenos">1018</span></a>
</span><span id="Magnitude-1019"><a href="#Magnitude-1019"><span class="linenos">1019</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="Magnitude-1020"><a href="#Magnitude-1020"><span class="linenos">1020</span></a><span class="s2">             resource_id: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="o">.</span><span class="n">id</span><span class="si">}</span>
</span><span id="Magnitude-1021"><a href="#Magnitude-1021"><span class="linenos">1021</span></a><span class="s2">               Magnitude: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">mag</span><span class="si">:</span><span class="s2">0.1f</span><span class="si">}</span>
</span><span id="Magnitude-1022"><a href="#Magnitude-1022"><span class="linenos">1022</span></a><span class="s2">          Magnitude type: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">magnitude_type</span><span class="si">}</span>
</span><span id="Magnitude-1023"><a href="#Magnitude-1023"><span class="linenos">1023</span></a><span class="s2">   Corner frequency (Hz): </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">corner_frequency</span><span class="si">:</span><span class="s2">0.1f</span><span class="si">}</span>
</span><span id="Magnitude-1024"><a href="#Magnitude-1024"><span class="linenos">1024</span></a><span class="s2"> Radiated Energy (joule): </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">energy</span><span class="si">:</span><span class="s2">.3e</span><span class="si">}</span>
</span><span id="Magnitude-1025"><a href="#Magnitude-1025"><span class="linenos">1025</span></a><span class="s2">                   Es/Ep: </span><span class="si">{</span><span class="n">es_ep</span><span class="si">:</span><span class="s2">0.1f</span><span class="si">}</span>
</span><span id="Magnitude-1026"><a href="#Magnitude-1026"><span class="linenos">1026</span></a><span class="s2">          Seismic moment: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">seismic_moment</span><span class="si">:</span><span class="s2">.3e</span><span class="si">}</span>
</span><span id="Magnitude-1027"><a href="#Magnitude-1027"><span class="linenos">1027</span></a><span class="s2">       Source volume(m3): </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">potency</span><span class="si">:</span><span class="s2">.3e</span><span class="si">}</span>
</span><span id="Magnitude-1028"><a href="#Magnitude-1028"><span class="linenos">1028</span></a><span class="s2"> Static stress drop (Pa): </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">static_stress_drop</span><span class="si">:</span><span class="s2">.3e</span><span class="si">}</span>
</span><span id="Magnitude-1029"><a href="#Magnitude-1029"><span class="linenos">1029</span></a><span class="s2">     Apparent stress(Pa): </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">apparent_stress</span><span class="si">:</span><span class="s2">.3e</span><span class="si">}</span>
</span><span id="Magnitude-1030"><a href="#Magnitude-1030"><span class="linenos">1030</span></a><span class="s2">         evaluation mode: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluation_mode</span><span class="si">}</span>
</span><span id="Magnitude-1031"><a href="#Magnitude-1031"><span class="linenos">1031</span></a><span class="s2">       evaluation status: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluation_status</span><span class="si">}</span>
</span><span id="Magnitude-1032"><a href="#Magnitude-1032"><span class="linenos">1032</span></a><span class="s2">        &quot;&quot;&quot;</span>
</span><span id="Magnitude-1033"><a href="#Magnitude-1033"><span class="linenos">1033</span></a>
</span><span id="Magnitude-1034"><a href="#Magnitude-1034"><span class="linenos">1034</span></a>        <span class="k">return</span> <span class="n">string</span>
</span></pre></div>


            <div class="docstring"><p>Describes a magnitude which can, but does not need to be associated with an
origin.</p>

<p>Association with an origin is expressed with the optional attribute
originID. It is either a combination of different magnitude estimations, or
it represents the reported magnitude for the given event.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>resource_id</strong>:  Resource identifier of Magnitude.</li>
<li><strong>force_resource_id</strong>:  If set to False, the automatic initialization of
<code>resource_id</code> attribute in case it is not specified will be skipped.</li>
<li><strong>mag</strong>:  Resulting magnitude value from combining values of type
<code>~uquake.core.event.magnitude.StationMagnitude</code>.
If no estimations are available, this value can represent the
reported magnitude.</li>
<li><strong>mag_errors</strong>:  AttribDict containing error quantities.</li>
<li><strong>seismic_moment</strong>:  the seismic moment</li>
<li><strong>corner_frequency</strong>:  The corner frequency in Hz.</li>
<li><strong>corner_frequency_p</strong>:  The corner frequency for P-waves in Hz.</li>
<li><strong>corner_frequency_s</strong>:  The corner frequency for S-waves in Hz.</li>
<li><strong>corner_frequency_error</strong>:  Error associated with the corner frequency in Hz.</li>
<li><strong>corner_frequency_p_error</strong>:  Error associated with the corner frequency for P-waves in Hz.</li>
<li><strong>corner_frequency_s_error</strong>:  Error associated with the corner frequency for S-waves in Hz.</li>
<li><strong>energy_p</strong>:  P-wave radiated energy in joules</li>
<li><strong>energy_s</strong>:  S-wave radiated energy in joules</li>
<li><strong>energy_p_error</strong>:  P-wave radiated energy error in joules</li>
<li><strong>energy_s_error</strong>:   S-wave radiated energy error in joules</li>
<li><strong>origin_id</strong>:  Reference to an origin’s resource_id if the magnitude has
an associated Origin.</li>
<li><strong>method_id</strong>:  Identifies the method of magnitude estimation. Users
should avoid to give contradictory information in method_id and
magnitude_type.</li>
<li><strong>station_count</strong>:  Number of used stations for this magnitude
computation.</li>
<li><strong>azimuthal_gap</strong>:  Azimuthal gap for this magnitude computation.
Unit: deg</li>
<li><strong>evaluation_mode</strong>:  Evaluation mode of Magnitude.
See <code>~uquake.core.event.header.EvaluationMode</code> for allowed
values.</li>
<li><strong>evaluation_status</strong>:  Evaluation status of Magnitude.
See <code>~uquake.core.event.header.EvaluationStatus</code> for allowed
values.</li>
<li><strong>comments</strong>:  Additional comments.</li>
<li><strong>station_magnitude_contributions</strong>:  StationMagnitudeContribution
instances associated with the Magnitude.</li>
<li><strong>creation_info</strong>:  Creation information used to describe author,
version, and creation time.</li>
</ul>

<div class="pdoc-alert pdoc-alert-note">

<p>For handling additional information not covered by the QuakeML
standard and how to output it to QuakeML see the
:ref:<code>ObsPy Tutorial &lt;quakeml-extra&gt;</code>.</p>

</div>
</div>


                            <div id="Magnitude.__init__" class="classattr">
                                        <input id="Magnitude.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Magnitude</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="Magnitude.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Magnitude.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Magnitude.__init__-955"><a href="#Magnitude.__init__-955"><span class="linenos">955</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Magnitude.__init__-956"><a href="#Magnitude.__init__-956"><span class="linenos">956</span></a>        <span class="k">if</span> <span class="s1">&#39;seismic_moment&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Magnitude.__init__-957"><a href="#Magnitude.__init__-957"><span class="linenos">957</span></a>            <span class="n">seismic_moment</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;seismic_moment&#39;</span><span class="p">)</span>
</span><span id="Magnitude.__init__-958"><a href="#Magnitude.__init__-958"><span class="linenos">958</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;mag&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span> <span class="o">/</span> <span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">seismic_moment</span><span class="p">)</span> <span class="o">-</span> <span class="mf">9.1</span><span class="p">)</span>
</span><span id="Magnitude.__init__-959"><a href="#Magnitude.__init__-959"><span class="linenos">959</span></a>        <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>An AttribDict can be initialized in two ways. It can be given an
existing dictionary as a simple argument or alternatively all keyword
arguments will become (key, value) pairs.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">attrib_dict_1</span> <span class="o">=</span> <span class="n">AttribDict</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attrib_dict_2</span> <span class="o">=</span> <span class="n">AttribDict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attrib_dict_1</span>  <span class="c1">#doctest: +SKIP</span>
<span class="go">AttribDict({&#39;a&#39;: 1, &#39;b&#39;: 2})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span><span class="p">(</span><span class="n">attrib_dict_1</span> <span class="o">==</span> <span class="n">attrib_dict_2</span><span class="p">)</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="Magnitude.extra_keys" class="classattr">
                                <div class="attr variable">
            <span class="name">extra_keys</span>        =
<input id="Magnitude.extra_keys-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="Magnitude.extra_keys-view-value"></label><span class="default_value">[&#39;corner_frequency&#39;, &#39;corner_frequency_p&#39;, &#39;corner_frequency_s&#39;, &#39;corner_frequency_error&#39;, &#39;corner_frequency_p_error&#39;, &#39;corner_frequency_s_error&#39;, &#39;energy_p&#39;, &#39;energy_s&#39;, &#39;energy_p_error&#39;, &#39;energy_s_error&#39;]</span>

        
    </div>
    <a class="headerlink" href="#Magnitude.extra_keys"></a>
    
    

                            </div>
                            <div id="Magnitude.extra_types" class="classattr">
                                <div class="attr variable">
            <span class="name">extra_types</span>        =
<input id="Magnitude.extra_types-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="Magnitude.extra_types-view-value"></label><span class="default_value">{&#39;corner_frequency&#39;: &lt;class &#39;float&#39;&gt;, &#39;corner_frequency_p&#39;: &lt;class &#39;float&#39;&gt;, &#39;corner_frequency_s&#39;: &lt;class &#39;float&#39;&gt;, &#39;corner_frequency_error&#39;: &lt;class &#39;float&#39;&gt;, &#39;corner_frequency_p_error&#39;: &lt;class &#39;float&#39;&gt;, &#39;corner_frequency_s_error&#39;: &lt;class &#39;float&#39;&gt;, &#39;energy_p&#39;: &lt;class &#39;float&#39;&gt;, &#39;energy_s&#39;: &lt;class &#39;float&#39;&gt;, &#39;energy_p_error&#39;: &lt;class &#39;float&#39;&gt;, &#39;energy_s_error&#39;: &lt;class &#39;float&#39;&gt;}</span>

        
    </div>
    <a class="headerlink" href="#Magnitude.extra_types"></a>
    
    

                            </div>
                            <div id="Magnitude.from_dict" class="classattr">
                                        <input id="Magnitude.from_dict-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">from_dict</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span>, </span><span class="param"><span class="n">input_dict</span>, </span><span class="param"><span class="n">origin_id</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Magnitude.from_dict-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Magnitude.from_dict"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Magnitude.from_dict-967"><a href="#Magnitude.from_dict-967"><span class="linenos">967</span></a>    <span class="nd">@classmethod</span>
</span><span id="Magnitude.from_dict-968"><a href="#Magnitude.from_dict-968"><span class="linenos">968</span></a>    <span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">input_dict</span><span class="p">,</span> <span class="n">origin_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Magnitude.from_dict-969"><a href="#Magnitude.from_dict-969"><span class="linenos">969</span></a>        <span class="n">out_cls</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">obspy_obj</span><span class="o">=</span><span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">input_dict</span><span class="p">,</span>
</span><span id="Magnitude.from_dict-970"><a href="#Magnitude.from_dict-970"><span class="linenos">970</span></a>                      <span class="n">origin_id</span><span class="o">=</span><span class="n">origin_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Magnitude.from_dict-971"><a href="#Magnitude.from_dict-971"><span class="linenos">971</span></a>        <span class="n">out_cls</span><span class="o">.</span><span class="n">mag</span> <span class="o">=</span> <span class="n">input_dict</span><span class="p">[</span><span class="s1">&#39;moment_magnitude&#39;</span><span class="p">]</span>
</span><span id="Magnitude.from_dict-972"><a href="#Magnitude.from_dict-972"><span class="linenos">972</span></a>        <span class="n">out_cls</span><span class="o">.</span><span class="n">magnitude_type</span> <span class="o">=</span> <span class="s1">&#39;Mw&#39;</span>
</span><span id="Magnitude.from_dict-973"><a href="#Magnitude.from_dict-973"><span class="linenos">973</span></a>
</span><span id="Magnitude.from_dict-974"><a href="#Magnitude.from_dict-974"><span class="linenos">974</span></a>        <span class="k">return</span> <span class="n">out_cls</span>
</span></pre></div>


    

                            </div>
                            <div id="Magnitude.energy" class="classattr">
                                <div class="attr variable">
            <span class="name">energy</span>

        
    </div>
    <a class="headerlink" href="#Magnitude.energy"></a>
    
    

                            </div>
                            <div id="Magnitude.static_stress_drop" class="classattr">
                                <div class="attr variable">
            <span class="name">static_stress_drop</span>

        
    </div>
    <a class="headerlink" href="#Magnitude.static_stress_drop"></a>
    
    

                            </div>
                            <div id="Magnitude.apparent_stress" class="classattr">
                                <div class="attr variable">
            <span class="name">apparent_stress</span>

        
    </div>
    <a class="headerlink" href="#Magnitude.apparent_stress"></a>
    
    

                            </div>
                            <div id="Magnitude.seismic_moment" class="classattr">
                                <div class="attr variable">
            <span class="name">seismic_moment</span>

        
    </div>
    <a class="headerlink" href="#Magnitude.seismic_moment"></a>
    
    

                            </div>
                            <div id="Magnitude.potency" class="classattr">
                                <div class="attr variable">
            <span class="name">potency</span>

        
    </div>
    <a class="headerlink" href="#Magnitude.potency"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>obspy.core.event.base._event_type_class_factory.&lt;locals&gt;.AbstractEventType</dt>
                                <dd id="Magnitude.warn_on_non_default_key" class="variable">warn_on_non_default_key</dd>
                <dd id="Magnitude.defaults" class="variable">defaults</dd>
                <dd id="Magnitude.do_not_warn_on" class="variable">do_not_warn_on</dd>
                <dd id="Magnitude.clear" class="function">clear</dd>
                <dd id="Magnitude.copy" class="function">copy</dd>
                <dd id="Magnitude.item" class="variable">item</dd>
                <dd id="Magnitude.key" class="variable">key</dd>
                <dd id="Magnitude.value" class="variable">value</dd>

            </div>
            <div><dt>obspy.core.util.attribdict.AttribDict</dt>
                                <dd id="Magnitude.readonly" class="variable">readonly</dd>
                <dd id="Magnitude.update" class="function">update</dd>

            </div>
            <div><dt>collections.abc.MutableMapping</dt>
                                <dd id="Magnitude.pop" class="function">pop</dd>
                <dd id="Magnitude.popitem" class="function">popitem</dd>
                <dd id="Magnitude.setdefault" class="function">setdefault</dd>

            </div>
            <div><dt>collections.abc.Mapping</dt>
                                <dd id="Magnitude.get" class="function">get</dd>
                <dd id="Magnitude.keys" class="function">keys</dd>
                <dd id="Magnitude.items" class="function">items</dd>
                <dd id="Magnitude.values" class="function">values</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="Pick">
                            <input id="Pick-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Pick</span><wbr>(<span class="base">obspy.core.event.origin.Pick</span>):

                <label class="view-source-button" for="Pick-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Pick"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Pick-1037"><a href="#Pick-1037"><span class="linenos">1037</span></a><span class="k">class</span> <span class="nc">Pick</span><span class="p">(</span><span class="n">obsevent</span><span class="o">.</span><span class="n">Pick</span><span class="p">):</span>
</span><span id="Pick-1038"><a href="#Pick-1038"><span class="linenos">1038</span></a>    <span class="n">original_doc</span> <span class="o">=</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">Pick</span><span class="o">.</span><span class="vm">__doc__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;obspy&#39;</span><span class="p">,</span> <span class="s1">&#39;uquake&#39;</span><span class="p">)</span>
</span><span id="Pick-1039"><a href="#Pick-1039"><span class="linenos">1039</span></a>
</span><span id="Pick-1040"><a href="#Pick-1040"><span class="linenos">1040</span></a>    <span class="n">insert_position</span> <span class="o">=</span> <span class="n">original_doc</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;.. note::&quot;</span><span class="p">)</span>
</span><span id="Pick-1041"><a href="#Pick-1041"><span class="linenos">1041</span></a>
</span><span id="Pick-1042"><a href="#Pick-1042"><span class="linenos">1042</span></a>    <span class="n">new_doc_addition</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
</span><span id="Pick-1043"><a href="#Pick-1043"><span class="linenos">1043</span></a><span class="s2">        :type snr: float, optional</span>
</span><span id="Pick-1044"><a href="#Pick-1044"><span class="linenos">1044</span></a><span class="s2">        :param snr: Signal-to-Noise Ratio.</span>
</span><span id="Pick-1045"><a href="#Pick-1045"><span class="linenos">1045</span></a><span class="s2">        :type planarity: float, optional</span>
</span><span id="Pick-1046"><a href="#Pick-1046"><span class="linenos">1046</span></a><span class="s2">        :param planarity: Measure of planarity of the waveform.</span>
</span><span id="Pick-1047"><a href="#Pick-1047"><span class="linenos">1047</span></a><span class="s2">        :type linearity: float, optional</span>
</span><span id="Pick-1048"><a href="#Pick-1048"><span class="linenos">1048</span></a><span class="s2">        :param linearity: Measure of linearity of the waveform.</span>
</span><span id="Pick-1049"><a href="#Pick-1049"><span class="linenos">1049</span></a>
</span><span id="Pick-1050"><a href="#Pick-1050"><span class="linenos">1050</span></a><span class="s2">        **Extensions to original obsevent.Pick class above**</span>
</span><span id="Pick-1051"><a href="#Pick-1051"><span class="linenos">1051</span></a><span class="s2">    &quot;&quot;&quot;</span>
</span><span id="Pick-1052"><a href="#Pick-1052"><span class="linenos">1052</span></a>
</span><span id="Pick-1053"><a href="#Pick-1053"><span class="linenos">1053</span></a>    <span class="c1"># Insert new documentation at the identified position</span>
</span><span id="Pick-1054"><a href="#Pick-1054"><span class="linenos">1054</span></a>    <span class="n">new_doc</span> <span class="o">=</span> <span class="n">original_doc</span><span class="p">[:</span><span class="n">insert_position</span><span class="p">]</span> <span class="o">+</span> <span class="n">new_doc_addition</span> <span class="o">+</span> <span class="n">original_doc</span><span class="p">[</span>
</span><span id="Pick-1055"><a href="#Pick-1055"><span class="linenos">1055</span></a>                                                                  <span class="n">insert_position</span><span class="p">:]</span>
</span><span id="Pick-1056"><a href="#Pick-1056"><span class="linenos">1056</span></a>
</span><span id="Pick-1057"><a href="#Pick-1057"><span class="linenos">1057</span></a>    <span class="n">extra_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;snr&#39;</span><span class="p">,</span> <span class="s1">&#39;planarity&#39;</span><span class="p">,</span> <span class="s1">&#39;linearity&#39;</span><span class="p">]</span>
</span><span id="Pick-1058"><a href="#Pick-1058"><span class="linenos">1058</span></a>    <span class="n">extra_types</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;snr&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
</span><span id="Pick-1059"><a href="#Pick-1059"><span class="linenos">1059</span></a>                   <span class="s1">&#39;planarity&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
</span><span id="Pick-1060"><a href="#Pick-1060"><span class="linenos">1060</span></a>                   <span class="s1">&#39;linearity&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">}</span>
</span><span id="Pick-1061"><a href="#Pick-1061"><span class="linenos">1061</span></a>
</span><span id="Pick-1062"><a href="#Pick-1062"><span class="linenos">1062</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Pick-1063"><a href="#Pick-1063"><span class="linenos">1063</span></a>        <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Pick-1064"><a href="#Pick-1064"><span class="linenos">1064</span></a>
</span><span id="Pick-1065"><a href="#Pick-1065"><span class="linenos">1065</span></a>    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="Pick-1066"><a href="#Pick-1066"><span class="linenos">1066</span></a>        <span class="n">_set_attr_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="Pick-1067"><a href="#Pick-1067"><span class="linenos">1067</span></a>
</span><span id="Pick-1068"><a href="#Pick-1068"><span class="linenos">1068</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Pick-1069"><a href="#Pick-1069"><span class="linenos">1069</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
</span><span id="Pick-1070"><a href="#Pick-1070"><span class="linenos">1070</span></a><span class="s2">         stream_id: </span><span class="si">%s</span>
</span><span id="Pick-1071"><a href="#Pick-1071"><span class="linenos">1071</span></a><span class="s2">              time: </span><span class="si">%s</span>
</span><span id="Pick-1072"><a href="#Pick-1072"><span class="linenos">1072</span></a><span class="s2">             phase: </span><span class="si">%s</span>
</span><span id="Pick-1073"><a href="#Pick-1073"><span class="linenos">1073</span></a><span class="s2">               snr: </span><span class="si">%s</span>
</span><span id="Pick-1074"><a href="#Pick-1074"><span class="linenos">1074</span></a><span class="s2">   evaluation_mode: </span><span class="si">%s</span>
</span><span id="Pick-1075"><a href="#Pick-1075"><span class="linenos">1075</span></a><span class="s2"> evaluation_status: </span><span class="si">%s</span>
</span><span id="Pick-1076"><a href="#Pick-1076"><span class="linenos">1076</span></a><span class="s2">       resource_id: </span><span class="si">%s</span>
</span><span id="Pick-1077"><a href="#Pick-1077"><span class="linenos">1077</span></a><span class="s2">        &quot;&quot;&quot;</span> \
</span><span id="Pick-1078"><a href="#Pick-1078"><span class="linenos">1078</span></a>                 <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stream_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y/%m/</span><span class="si">%d</span><span class="s2"> %H:%M:%S.</span><span class="si">%f</span><span class="s2">&quot;</span><span class="p">),</span>
</span><span id="Pick-1079"><a href="#Pick-1079"><span class="linenos">1079</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">phase_hint</span><span class="p">,</span>  <span class="bp">self</span><span class="o">.</span><span class="n">snr</span><span class="p">,</span>
</span><span id="Pick-1080"><a href="#Pick-1080"><span class="linenos">1080</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_mode</span><span class="p">,</span>
</span><span id="Pick-1081"><a href="#Pick-1081"><span class="linenos">1081</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_status</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="p">)</span>
</span><span id="Pick-1082"><a href="#Pick-1082"><span class="linenos">1082</span></a>        <span class="k">return</span> <span class="n">string</span>
</span><span id="Pick-1083"><a href="#Pick-1083"><span class="linenos">1083</span></a>
</span><span id="Pick-1084"><a href="#Pick-1084"><span class="linenos">1084</span></a>    <span class="k">def</span> <span class="nf">get_sta</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Pick-1085"><a href="#Pick-1085"><span class="linenos">1085</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Pick-1086"><a href="#Pick-1086"><span class="linenos">1086</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">station_code</span>
</span><span id="Pick-1087"><a href="#Pick-1087"><span class="linenos">1087</span></a>
</span><span id="Pick-1088"><a href="#Pick-1088"><span class="linenos">1088</span></a>    <span class="nd">@property</span>
</span><span id="Pick-1089"><a href="#Pick-1089"><span class="linenos">1089</span></a>    <span class="k">def</span> <span class="nf">location</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Pick-1090"><a href="#Pick-1090"><span class="linenos">1090</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Pick-1091"><a href="#Pick-1091"><span class="linenos">1091</span></a>            <span class="n">location</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">station_code</span><span class="si">}</span><span class="s1">.&#39;</span> \
</span><span id="Pick-1092"><a href="#Pick-1092"><span class="linenos">1092</span></a>                       <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">location_code</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="Pick-1093"><a href="#Pick-1093"><span class="linenos">1093</span></a>            <span class="k">return</span> <span class="n">location</span>
</span><span id="Pick-1094"><a href="#Pick-1094"><span class="linenos">1094</span></a>
</span><span id="Pick-1095"><a href="#Pick-1095"><span class="linenos">1095</span></a>    <span class="nd">@property</span>
</span><span id="Pick-1096"><a href="#Pick-1096"><span class="linenos">1096</span></a>    <span class="k">def</span> <span class="nf">stream_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Pick-1097"><a href="#Pick-1097"><span class="linenos">1097</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">stream_id</span>
</span></pre></div>


            <div class="docstring"><p>A pick is the observation of an amplitude anomaly in a seismogram at a
specific point in time. It is not necessarily related to a seismic event.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>resource_id</strong>:  Resource identifier of Pick.</li>
<li><strong>force_resource_id</strong>:  If set to False, the automatic initialization of
<code>resource_id</code> attribute in case it is not specified will be skipped.</li>
<li><strong>time</strong>:  Observed onset time of signal (“pick time”).</li>
<li><strong>time_errors</strong>:  AttribDict containing error quantities.</li>
<li><strong>waveform_id</strong>:  Identifies the waveform stream.</li>
<li><strong>filter_id</strong>:  Identifies the filter or filter setup used for filtering
the waveform stream referenced by waveform_id.</li>
<li><strong>method_id</strong>:  Identifies the picker that produced the pick. This can be
either a detection software program or a person.</li>
<li><strong>horizontal_slowness</strong>:  Observed horizontal slowness of the signal.
Most relevant in array measurements. Unit: s·deg^(−1)</li>
<li><strong>horizontal_slowness_errors</strong>:  AttribDict containing error quantities.</li>
<li><strong>backazimuth</strong>:  Observed backazimuth of the signal. Most relevant in
array measurements. Unit: deg</li>
<li><strong>backazimuth_errors</strong>:  AttribDict containing error quantities.</li>
<li><strong>slowness_method_id</strong>:  Identifies the method that was used to determine
the slowness.</li>
<li><strong>onset</strong>:  Flag that roughly categorizes the sharpness of the onset.
See <code>~obspy.core.event.header.PickOnset</code> for allowed values.</li>
<li><strong>phase_hint</strong>:  Tentative phase identification as specified by the
picker.</li>
<li><strong>polarity</strong>:  Indicates the polarity of first motion, usually from
impulsive onsets.
See <code>~obspy.core.event.header.PickPolarity</code> for allowed values.</li>
<li><strong>evaluation_mode</strong>:  Evaluation mode of Pick.
See <code>~obspy.core.event.header.EvaluationMode</code> for allowed
values.</li>
<li><strong>evaluation_status</strong>:  Evaluation status of Pick.
See <code>~obspy.core.event.header.EvaluationStatus</code> for allowed
values.</li>
<li><strong>comments</strong>:  Additional comments.</li>
<li><strong>creation_info</strong>:  CreationInfo for the Pick object.</li>
</ul>

<div class="pdoc-alert pdoc-alert-note">

<p>For handling additional information not covered by the QuakeML
standard and how to output it to QuakeML see the
:ref:<code>ObsPy Tutorial &lt;quakeml-extra&gt;</code>.</p>

</div>
</div>


                            <div id="Pick.__init__" class="classattr">
                                        <input id="Pick.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Pick</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="Pick.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Pick.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Pick.__init__-1062"><a href="#Pick.__init__-1062"><span class="linenos">1062</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Pick.__init__-1063"><a href="#Pick.__init__-1063"><span class="linenos">1063</span></a>        <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>An AttribDict can be initialized in two ways. It can be given an
existing dictionary as a simple argument or alternatively all keyword
arguments will become (key, value) pairs.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">attrib_dict_1</span> <span class="o">=</span> <span class="n">AttribDict</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attrib_dict_2</span> <span class="o">=</span> <span class="n">AttribDict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attrib_dict_1</span>  <span class="c1">#doctest: +SKIP</span>
<span class="go">AttribDict({&#39;a&#39;: 1, &#39;b&#39;: 2})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span><span class="p">(</span><span class="n">attrib_dict_1</span> <span class="o">==</span> <span class="n">attrib_dict_2</span><span class="p">)</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="Pick.original_doc" class="classattr">
                                <div class="attr variable">
            <span class="name">original_doc</span>        =
<input id="Pick.original_doc-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="Pick.original_doc-view-value"></label><span class="default_value">&#39;\n    A pick is the observation of an amplitude anomaly in a seismogram at a\n    specific point in time. It is not necessarily related to a seismic event.\n\n    :type resource_id: :class:`~uquake.core.event.resourceid.ResourceIdentifier`\n    :param resource_id: Resource identifier of Pick.\n    :type force_resource_id: bool, optional\n    :param force_resource_id: If set to False, the automatic initialization of\n        `resource_id` attribute in case it is not specified will be skipped.\n    :type time: :class:`~uquake.core.utcdatetime.UTCDateTime`\n    :param time: Observed onset time of signal (“pick time”).\n    :type time_errors: :class:`~uquake.core.event.base.QuantityError`\n    :param time_errors: AttribDict containing error quantities.\n    :type waveform_id: :class:`~uquake.core.event.base.WaveformStreamID`\n    :param waveform_id: Identifies the waveform stream.\n    :type filter_id: :class:`~uquake.core.event.resourceid.ResourceIdentifier`\n    :param filter_id: Identifies the filter or filter setup used for filtering\n        the waveform stream referenced by waveform_id.\n    :type method_id: :class:`~uquake.core.event.resourceid.ResourceIdentifier`\n    :param method_id: Identifies the picker that produced the pick. This can be\n        either a detection software program or a person.\n    :type horizontal_slowness: float, optional\n    :param horizontal_slowness: Observed horizontal slowness of the signal.\n        Most relevant in array measurements. Unit: s·deg^(−1)\n    :type horizontal_slowness_errors:\n        :class:`~uquake.core.event.base.QuantityError`\n    :param horizontal_slowness_errors: AttribDict containing error quantities.\n    :type backazimuth: float, optional\n    :param backazimuth: Observed backazimuth of the signal. Most relevant in\n        array measurements. Unit: deg\n    :type backazimuth_errors: :class:`~uquake.core.event.base.QuantityError`\n    :param backazimuth_errors: AttribDict containing error quantities.\n    :type slowness_method_id:\n        :class:`~uquake.core.event.resourceid.ResourceIdentifier`\n    :param slowness_method_id: Identifies the method that was used to determine\n        the slowness.\n    :type onset: str, optional\n    :param onset: Flag that roughly categorizes the sharpness of the onset.\n        See :class:`~uquake.core.event.header.PickOnset` for allowed values.\n    :type phase_hint: str, optional\n    :param phase_hint: Tentative phase identification as specified by the\n        picker.\n    :type polarity: str, optional\n    :param polarity: Indicates the polarity of first motion, usually from\n        impulsive onsets.\n        See :class:`~uquake.core.event.header.PickPolarity` for allowed values.\n    :type evaluation_mode: str, optional\n    :param evaluation_mode: Evaluation mode of Pick.\n        See :class:`~uquake.core.event.header.EvaluationMode` for allowed\n        values.\n    :type evaluation_status: str, optional\n    :param evaluation_status: Evaluation status of Pick.\n        See :class:`~uquake.core.event.header.EvaluationStatus` for allowed\n        values.\n    :type comments: list of :class:`~uquake.core.event.base.Comment`, optional\n    :param comments: Additional comments.\n    :type creation_info: :class:`~uquake.core.event.base.CreationInfo`, optional\n    :param creation_info: CreationInfo for the Pick object.\n\n    .. note::\n\n        For handling additional information not covered by the QuakeML\n        standard and how to output it to QuakeML see the\n        :ref:`ObsPy Tutorial &lt;quakeml-extra&gt;`.\n    &#39;</span>

        
    </div>
    <a class="headerlink" href="#Pick.original_doc"></a>
    
    

                            </div>
                            <div id="Pick.insert_position" class="classattr">
                                <div class="attr variable">
            <span class="name">insert_position</span>        =
<span class="default_value">3329</span>

        
    </div>
    <a class="headerlink" href="#Pick.insert_position"></a>
    
    

                            </div>
                            <div id="Pick.new_doc_addition" class="classattr">
                                <div class="attr variable">
            <span class="name">new_doc_addition</span>        =
<input id="Pick.new_doc_addition-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="Pick.new_doc_addition-view-value"></label><span class="default_value">&#39;\n        :type snr: float, optional\n        :param snr: Signal-to-Noise Ratio.\n        :type planarity: float, optional\n        :param planarity: Measure of planarity of the waveform.\n        :type linearity: float, optional\n        :param linearity: Measure of linearity of the waveform.\n\n        **Extensions to original obsevent.Pick class above**\n    &#39;</span>

        
    </div>
    <a class="headerlink" href="#Pick.new_doc_addition"></a>
    
    

                            </div>
                            <div id="Pick.new_doc" class="classattr">
                                <div class="attr variable">
            <span class="name">new_doc</span>        =
<input id="Pick.new_doc-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="Pick.new_doc-view-value"></label><span class="default_value">&#39;\n    A pick is the observation of an amplitude anomaly in a seismogram at a\n    specific point in time. It is not necessarily related to a seismic event.\n\n    :type resource_id: :class:`~uquake.core.event.resourceid.ResourceIdentifier`\n    :param resource_id: Resource identifier of Pick.\n    :type force_resource_id: bool, optional\n    :param force_resource_id: If set to False, the automatic initialization of\n        `resource_id` attribute in case it is not specified will be skipped.\n    :type time: :class:`~uquake.core.utcdatetime.UTCDateTime`\n    :param time: Observed onset time of signal (“pick time”).\n    :type time_errors: :class:`~uquake.core.event.base.QuantityError`\n    :param time_errors: AttribDict containing error quantities.\n    :type waveform_id: :class:`~uquake.core.event.base.WaveformStreamID`\n    :param waveform_id: Identifies the waveform stream.\n    :type filter_id: :class:`~uquake.core.event.resourceid.ResourceIdentifier`\n    :param filter_id: Identifies the filter or filter setup used for filtering\n        the waveform stream referenced by waveform_id.\n    :type method_id: :class:`~uquake.core.event.resourceid.ResourceIdentifier`\n    :param method_id: Identifies the picker that produced the pick. This can be\n        either a detection software program or a person.\n    :type horizontal_slowness: float, optional\n    :param horizontal_slowness: Observed horizontal slowness of the signal.\n        Most relevant in array measurements. Unit: s·deg^(−1)\n    :type horizontal_slowness_errors:\n        :class:`~uquake.core.event.base.QuantityError`\n    :param horizontal_slowness_errors: AttribDict containing error quantities.\n    :type backazimuth: float, optional\n    :param backazimuth: Observed backazimuth of the signal. Most relevant in\n        array measurements. Unit: deg\n    :type backazimuth_errors: :class:`~uquake.core.event.base.QuantityError`\n    :param backazimuth_errors: AttribDict containing error quantities.\n    :type slowness_method_id:\n        :class:`~uquake.core.event.resourceid.ResourceIdentifier`\n    :param slowness_method_id: Identifies the method that was used to determine\n        the slowness.\n    :type onset: str, optional\n    :param onset: Flag that roughly categorizes the sharpness of the onset.\n        See :class:`~uquake.core.event.header.PickOnset` for allowed values.\n    :type phase_hint: str, optional\n    :param phase_hint: Tentative phase identification as specified by the\n        picker.\n    :type polarity: str, optional\n    :param polarity: Indicates the polarity of first motion, usually from\n        impulsive onsets.\n        See :class:`~uquake.core.event.header.PickPolarity` for allowed values.\n    :type evaluation_mode: str, optional\n    :param evaluation_mode: Evaluation mode of Pick.\n        See :class:`~uquake.core.event.header.EvaluationMode` for allowed\n        values.\n    :type evaluation_status: str, optional\n    :param evaluation_status: Evaluation status of Pick.\n        See :class:`~uquake.core.event.header.EvaluationStatus` for allowed\n        values.\n    :type comments: list of :class:`~uquake.core.event.base.Comment`, optional\n    :param comments: Additional comments.\n    :type creation_info: :class:`~uquake.core.event.base.CreationInfo`, optional\n    :param creation_info: CreationInfo for the Pick object.\n\n    \n        :type snr: float, optional\n        :param snr: Signal-to-Noise Ratio.\n        :type planarity: float, optional\n        :param planarity: Measure of planarity of the waveform.\n        :type linearity: float, optional\n        :param linearity: Measure of linearity of the waveform.\n\n        **Extensions to original obsevent.Pick class above**\n    .. note::\n\n        For handling additional information not covered by the QuakeML\n        standard and how to output it to QuakeML see the\n        :ref:`ObsPy Tutorial &lt;quakeml-extra&gt;`.\n    &#39;</span>

        
    </div>
    <a class="headerlink" href="#Pick.new_doc"></a>
    
    

                            </div>
                            <div id="Pick.extra_keys" class="classattr">
                                <div class="attr variable">
            <span class="name">extra_keys</span>        =
<span class="default_value">[&#39;snr&#39;, &#39;planarity&#39;, &#39;linearity&#39;]</span>

        
    </div>
    <a class="headerlink" href="#Pick.extra_keys"></a>
    
    

                            </div>
                            <div id="Pick.extra_types" class="classattr">
                                <div class="attr variable">
            <span class="name">extra_types</span>        =
<span class="default_value">{&#39;snr&#39;: &lt;class &#39;float&#39;&gt;, &#39;planarity&#39;: &lt;class &#39;float&#39;&gt;, &#39;linearity&#39;: &lt;class &#39;float&#39;&gt;}</span>

        
    </div>
    <a class="headerlink" href="#Pick.extra_types"></a>
    
    

                            </div>
                            <div id="Pick.get_sta" class="classattr">
                                        <input id="Pick.get_sta-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_sta</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Pick.get_sta-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Pick.get_sta"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Pick.get_sta-1084"><a href="#Pick.get_sta-1084"><span class="linenos">1084</span></a>    <span class="k">def</span> <span class="nf">get_sta</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Pick.get_sta-1085"><a href="#Pick.get_sta-1085"><span class="linenos">1085</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Pick.get_sta-1086"><a href="#Pick.get_sta-1086"><span class="linenos">1086</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">station_code</span>
</span></pre></div>


    

                            </div>
                            <div id="Pick.location" class="classattr">
                                <div class="attr variable">
            <span class="name">location</span>

        
    </div>
    <a class="headerlink" href="#Pick.location"></a>
    
    

                            </div>
                            <div id="Pick.stream_id" class="classattr">
                                <div class="attr variable">
            <span class="name">stream_id</span>

        
    </div>
    <a class="headerlink" href="#Pick.stream_id"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>obspy.core.event.base._event_type_class_factory.&lt;locals&gt;.AbstractEventType</dt>
                                <dd id="Pick.warn_on_non_default_key" class="variable">warn_on_non_default_key</dd>
                <dd id="Pick.defaults" class="variable">defaults</dd>
                <dd id="Pick.do_not_warn_on" class="variable">do_not_warn_on</dd>
                <dd id="Pick.clear" class="function">clear</dd>
                <dd id="Pick.copy" class="function">copy</dd>
                <dd id="Pick.item" class="variable">item</dd>
                <dd id="Pick.key" class="variable">key</dd>
                <dd id="Pick.value" class="variable">value</dd>

            </div>
            <div><dt>obspy.core.util.attribdict.AttribDict</dt>
                                <dd id="Pick.readonly" class="variable">readonly</dd>
                <dd id="Pick.update" class="function">update</dd>

            </div>
            <div><dt>collections.abc.MutableMapping</dt>
                                <dd id="Pick.pop" class="function">pop</dd>
                <dd id="Pick.popitem" class="function">popitem</dd>
                <dd id="Pick.setdefault" class="function">setdefault</dd>

            </div>
            <div><dt>collections.abc.Mapping</dt>
                                <dd id="Pick.get" class="function">get</dd>
                <dd id="Pick.keys" class="function">keys</dd>
                <dd id="Pick.items" class="function">items</dd>
                <dd id="Pick.values" class="function">values</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="WaveformStreamID">
                            <input id="WaveformStreamID-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">WaveformStreamID</span><wbr>(<span class="base">obspy.core.event.base.WaveformStreamID</span>):

                <label class="view-source-button" for="WaveformStreamID-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#WaveformStreamID"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="WaveformStreamID-1100"><a href="#WaveformStreamID-1100"><span class="linenos">1100</span></a><span class="k">class</span> <span class="nc">WaveformStreamID</span><span class="p">(</span><span class="n">obsevent</span><span class="o">.</span><span class="n">WaveformStreamID</span><span class="p">):</span>
</span><span id="WaveformStreamID-1101"><a href="#WaveformStreamID-1101"><span class="linenos">1101</span></a>    <span class="vm">__doc__</span> <span class="o">=</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">WaveformStreamID</span><span class="o">.</span><span class="vm">__doc__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;obspy&#39;</span><span class="p">,</span> <span class="s1">&#39;uquake&#39;</span><span class="p">)</span>
</span><span id="WaveformStreamID-1102"><a href="#WaveformStreamID-1102"><span class="linenos">1102</span></a>
</span><span id="WaveformStreamID-1103"><a href="#WaveformStreamID-1103"><span class="linenos">1103</span></a>    <span class="n">extra_keys</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="WaveformStreamID-1104"><a href="#WaveformStreamID-1104"><span class="linenos">1104</span></a>    <span class="n">extra_type</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="WaveformStreamID-1105"><a href="#WaveformStreamID-1105"><span class="linenos">1105</span></a>
</span><span id="WaveformStreamID-1106"><a href="#WaveformStreamID-1106"><span class="linenos">1106</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="WaveformStreamID-1107"><a href="#WaveformStreamID-1107"><span class="linenos">1107</span></a>        <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="WaveformStreamID-1108"><a href="#WaveformStreamID-1108"><span class="linenos">1108</span></a>
</span><span id="WaveformStreamID-1109"><a href="#WaveformStreamID-1109"><span class="linenos">1109</span></a>    <span class="nd">@property</span>
</span><span id="WaveformStreamID-1110"><a href="#WaveformStreamID-1110"><span class="linenos">1110</span></a>    <span class="k">def</span> <span class="nf">location</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="WaveformStreamID-1111"><a href="#WaveformStreamID-1111"><span class="linenos">1111</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">location_code</span>
</span><span id="WaveformStreamID-1112"><a href="#WaveformStreamID-1112"><span class="linenos">1112</span></a>
</span><span id="WaveformStreamID-1113"><a href="#WaveformStreamID-1113"><span class="linenos">1113</span></a>    <span class="nd">@property</span>
</span><span id="WaveformStreamID-1114"><a href="#WaveformStreamID-1114"><span class="linenos">1114</span></a>    <span class="k">def</span> <span class="nf">stream_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="WaveformStreamID-1115"><a href="#WaveformStreamID-1115"><span class="linenos">1115</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">network_code</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">station_code</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">location_code</span><span class="si">}</span><span class="s1">.&#39;</span> \
</span><span id="WaveformStreamID-1116"><a href="#WaveformStreamID-1116"><span class="linenos">1116</span></a>               <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">channel_code</span><span class="si">}</span><span class="s1">&#39;</span>
</span></pre></div>


            <div class="docstring"><p>Reference to a stream description in an inventory.</p>

<p>This is mostly equivalent to the combination of networkCode, stationCode,
locationCode, and channelCode. However, additional information, e. g.,
sampling rate, can be referenced by the resourceURI. It is recommended to
use resourceURI as a flexible, abstract, and unique stream ID that allows
to describe different processing levels, or resampled/filtered products of
the same initial stream, without violating the intrinsic meaning of the
legacy identifiers (network, station, channel, and location codes).
However, for operation in the context of legacy systems, the classical
identifier components are supported.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>network_code</strong>:  Network code.</li>
<li><strong>station_code</strong>:  Station code.</li>
<li><strong>location_code</strong>:  Location code.</li>
<li><strong>channel_code</strong>:  Channel code.</li>
<li><strong>resource_uri</strong>:  Resource identifier for the waveform stream.</li>
<li><strong>seed_string</strong>:  Provides an alternative initialization way by passing a
SEED waveform string in the form network.station.location.channel, e.g.
BW.FUR..EHZ, which will be used to populate the WaveformStreamID's
attributes.
It will only be used if the network, station, location and channel
keyword argument are ALL None.</li>
</ul>

<p>.. rubric:: Example</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Can be initialized with a SEED string or with individual components.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream_id</span> <span class="o">=</span> <span class="n">WaveformStreamID</span><span class="p">(</span><span class="n">network_code</span><span class="o">=</span><span class="s2">&quot;BW&quot;</span><span class="p">,</span> <span class="n">station_code</span><span class="o">=</span><span class="s2">&quot;FUR&quot;</span><span class="p">,</span>
<span class="gp">... </span>                             <span class="n">location_code</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">channel_code</span><span class="o">=</span><span class="s2">&quot;EHZ&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">stream_id</span><span class="p">)</span> <span class="c1"># doctest: +NORMALIZE_WHITESPACE +ELLIPSIS</span>
<span class="go">WaveformStreamID</span>
<span class="go">      network_code: &#39;BW&#39;</span>
<span class="go">      station_code: &#39;FUR&#39;</span>
<span class="go">      channel_code: &#39;EHZ&#39;</span>
<span class="go">     location_code: &#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream_id</span> <span class="o">=</span> <span class="n">WaveformStreamID</span><span class="p">(</span><span class="n">seed_string</span><span class="o">=</span><span class="s2">&quot;BW.FUR..EHZ&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">stream_id</span><span class="p">)</span> <span class="c1"># doctest: +NORMALIZE_WHITESPACE +ELLIPSIS</span>
<span class="go">WaveformStreamID</span>
<span class="go">      network_code: &#39;BW&#39;</span>
<span class="go">      station_code: &#39;FUR&#39;</span>
<span class="go">      channel_code: &#39;EHZ&#39;</span>
<span class="go">     location_code: &#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Can also return the SEED string.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">stream_id</span><span class="o">.</span><span class="n">get_seed_string</span><span class="p">())</span>
<span class="go">BW.FUR..EHZ</span>
</code></pre>
</div>
</div>


                            <div id="WaveformStreamID.__init__" class="classattr">
                                        <input id="WaveformStreamID.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">WaveformStreamID</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="WaveformStreamID.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#WaveformStreamID.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="WaveformStreamID.__init__-1106"><a href="#WaveformStreamID.__init__-1106"><span class="linenos">1106</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="WaveformStreamID.__init__-1107"><a href="#WaveformStreamID.__init__-1107"><span class="linenos">1107</span></a>        <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>An AttribDict can be initialized in two ways. It can be given an
existing dictionary as a simple argument or alternatively all keyword
arguments will become (key, value) pairs.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">attrib_dict_1</span> <span class="o">=</span> <span class="n">AttribDict</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attrib_dict_2</span> <span class="o">=</span> <span class="n">AttribDict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attrib_dict_1</span>  <span class="c1">#doctest: +SKIP</span>
<span class="go">AttribDict({&#39;a&#39;: 1, &#39;b&#39;: 2})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span><span class="p">(</span><span class="n">attrib_dict_1</span> <span class="o">==</span> <span class="n">attrib_dict_2</span><span class="p">)</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="WaveformStreamID.extra_keys" class="classattr">
                                <div class="attr variable">
            <span class="name">extra_keys</span>        =
<span class="default_value">[]</span>

        
    </div>
    <a class="headerlink" href="#WaveformStreamID.extra_keys"></a>
    
    

                            </div>
                            <div id="WaveformStreamID.extra_type" class="classattr">
                                <div class="attr variable">
            <span class="name">extra_type</span>        =
<span class="default_value">{}</span>

        
    </div>
    <a class="headerlink" href="#WaveformStreamID.extra_type"></a>
    
    

                            </div>
                            <div id="WaveformStreamID.location" class="classattr">
                                <div class="attr variable">
            <span class="name">location</span>

        
    </div>
    <a class="headerlink" href="#WaveformStreamID.location"></a>
    
    

                            </div>
                            <div id="WaveformStreamID.stream_id" class="classattr">
                                <div class="attr variable">
            <span class="name">stream_id</span>

        
    </div>
    <a class="headerlink" href="#WaveformStreamID.stream_id"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>obspy.core.event.base.WaveformStreamID</dt>
                                <dd id="WaveformStreamID.get_seed_string" class="function">get_seed_string</dd>
                <dd id="WaveformStreamID.id" class="variable">id</dd>

            </div>
            <div><dt>obspy.core.event.base._event_type_class_factory.&lt;locals&gt;.AbstractEventType</dt>
                                <dd id="WaveformStreamID.warn_on_non_default_key" class="variable">warn_on_non_default_key</dd>
                <dd id="WaveformStreamID.defaults" class="variable">defaults</dd>
                <dd id="WaveformStreamID.do_not_warn_on" class="variable">do_not_warn_on</dd>
                <dd id="WaveformStreamID.clear" class="function">clear</dd>
                <dd id="WaveformStreamID.copy" class="function">copy</dd>
                <dd id="WaveformStreamID.item" class="variable">item</dd>
                <dd id="WaveformStreamID.key" class="variable">key</dd>
                <dd id="WaveformStreamID.value" class="variable">value</dd>

            </div>
            <div><dt>obspy.core.util.attribdict.AttribDict</dt>
                                <dd id="WaveformStreamID.readonly" class="variable">readonly</dd>
                <dd id="WaveformStreamID.update" class="function">update</dd>

            </div>
            <div><dt>collections.abc.MutableMapping</dt>
                                <dd id="WaveformStreamID.pop" class="function">pop</dd>
                <dd id="WaveformStreamID.popitem" class="function">popitem</dd>
                <dd id="WaveformStreamID.setdefault" class="function">setdefault</dd>

            </div>
            <div><dt>collections.abc.Mapping</dt>
                                <dd id="WaveformStreamID.get" class="function">get</dd>
                <dd id="WaveformStreamID.keys" class="function">keys</dd>
                <dd id="WaveformStreamID.items" class="function">items</dd>
                <dd id="WaveformStreamID.values" class="function">values</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="Arrival">
                            <input id="Arrival-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Arrival</span><wbr>(<span class="base">obspy.core.event.origin.Arrival</span>):

                <label class="view-source-button" for="Arrival-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Arrival"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Arrival-1119"><a href="#Arrival-1119"><span class="linenos">1119</span></a><span class="k">class</span> <span class="nc">Arrival</span><span class="p">(</span><span class="n">obsevent</span><span class="o">.</span><span class="n">Arrival</span><span class="p">):</span>
</span><span id="Arrival-1120"><a href="#Arrival-1120"><span class="linenos">1120</span></a>    <span class="vm">__doc__</span> <span class="o">=</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">Arrival</span><span class="o">.</span><span class="vm">__doc__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;obspy&#39;</span><span class="p">,</span> <span class="s1">&#39;uquake&#39;</span><span class="p">)</span>
</span><span id="Arrival-1121"><a href="#Arrival-1121"><span class="linenos">1121</span></a>    <span class="vm">__doc__</span> <span class="o">=</span> <span class="vm">__doc__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;:param distance: Epicentral distance. Unit: deg&#39;</span><span class="p">,</span>
</span><span id="Arrival-1122"><a href="#Arrival-1122"><span class="linenos">1122</span></a>                              <span class="s1">&#39;:param distance: Hypocentral distance. Unit: m&#39;</span><span class="p">)</span>
</span><span id="Arrival-1123"><a href="#Arrival-1123"><span class="linenos">1123</span></a>    <span class="vm">__doc__</span> <span class="o">=</span> <span class="vm">__doc__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;:param earth_model_id: Earth model&#39;</span><span class="p">,</span>
</span><span id="Arrival-1124"><a href="#Arrival-1124"><span class="linenos">1124</span></a>                              <span class="s1">&#39;:param velocity_model_id: Velocity model&#39;</span><span class="p">)</span>
</span><span id="Arrival-1125"><a href="#Arrival-1125"><span class="linenos">1125</span></a>
</span><span id="Arrival-1126"><a href="#Arrival-1126"><span class="linenos">1126</span></a>    <span class="vm">__doc__</span> <span class="o">=</span> <span class="vm">__doc__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;:type earth_model_id:&#39;</span><span class="p">,</span>
</span><span id="Arrival-1127"><a href="#Arrival-1127"><span class="linenos">1127</span></a>                              <span class="s1">&#39;:type velocity_model_id:&#39;</span><span class="p">)</span>
</span><span id="Arrival-1128"><a href="#Arrival-1128"><span class="linenos">1128</span></a>
</span><span id="Arrival-1129"><a href="#Arrival-1129"><span class="linenos">1129</span></a>    <span class="n">extra_keys</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Arrival-1130"><a href="#Arrival-1130"><span class="linenos">1130</span></a>    <span class="n">extra_type</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Arrival-1131"><a href="#Arrival-1131"><span class="linenos">1131</span></a>
</span><span id="Arrival-1132"><a href="#Arrival-1132"><span class="linenos">1132</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Arrival-1133"><a href="#Arrival-1133"><span class="linenos">1133</span></a>        <span class="k">if</span> <span class="s1">&#39;velocity_model_id&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Arrival-1134"><a href="#Arrival-1134"><span class="linenos">1134</span></a>            <span class="n">velocity_model_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;velocity_model_id&#39;</span><span class="p">]</span>
</span><span id="Arrival-1135"><a href="#Arrival-1135"><span class="linenos">1135</span></a>            <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;velocity_model_id&#39;</span><span class="p">)</span>
</span><span id="Arrival-1136"><a href="#Arrival-1136"><span class="linenos">1136</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;earth_model_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">velocity_model_id</span>
</span><span id="Arrival-1137"><a href="#Arrival-1137"><span class="linenos">1137</span></a>        <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Arrival-1138"><a href="#Arrival-1138"><span class="linenos">1138</span></a>
</span><span id="Arrival-1139"><a href="#Arrival-1139"><span class="linenos">1139</span></a>    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="Arrival-1140"><a href="#Arrival-1140"><span class="linenos">1140</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;velocity_model_id&#39;</span><span class="p">:</span>
</span><span id="Arrival-1141"><a href="#Arrival-1141"><span class="linenos">1141</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">earth_model_id</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="Arrival-1142"><a href="#Arrival-1142"><span class="linenos">1142</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="Arrival-1143"><a href="#Arrival-1143"><span class="linenos">1143</span></a>
</span><span id="Arrival-1144"><a href="#Arrival-1144"><span class="linenos">1144</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Arrival-1145"><a href="#Arrival-1145"><span class="linenos">1145</span></a>        <span class="n">out_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="Arrival-1146"><a href="#Arrival-1146"><span class="linenos">1146</span></a><span class="s2">       resource_id: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="si">}</span>
</span><span id="Arrival-1147"><a href="#Arrival-1147"><span class="linenos">1147</span></a><span class="s2">           pick_id: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_pick</span><span class="p">()</span><span class="o">.</span><span class="n">resource_id</span><span class="si">}</span>
</span><span id="Arrival-1148"><a href="#Arrival-1148"><span class="linenos">1148</span></a><span class="s2">             phase: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">phase</span><span class="si">}</span>
</span><span id="Arrival-1149"><a href="#Arrival-1149"><span class="linenos">1149</span></a><span class="s2">           azimuth: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">azimuth</span><span class="si">}</span><span class="s2"> (deg)</span>
</span><span id="Arrival-1150"><a href="#Arrival-1150"><span class="linenos">1150</span></a><span class="s2">          distance: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">distance</span><span class="si">}</span><span class="s2"> (m)</span>
</span><span id="Arrival-1151"><a href="#Arrival-1151"><span class="linenos">1151</span></a><span class="s2">     takeoff_angle: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">takeoff_angle</span><span class="si">}</span><span class="s2"> (deg)</span>
</span><span id="Arrival-1152"><a href="#Arrival-1152"><span class="linenos">1152</span></a><span class="s2">     time_residual: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">time_residual</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1000</span><span class="si">}</span><span class="s2"> (ms)</span>
</span><span id="Arrival-1153"><a href="#Arrival-1153"><span class="linenos">1153</span></a><span class="s2">       time_weight: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">time_weight</span><span class="si">}</span>
</span><span id="Arrival-1154"><a href="#Arrival-1154"><span class="linenos">1154</span></a><span class="s2">        &quot;&quot;&quot;</span>
</span><span id="Arrival-1155"><a href="#Arrival-1155"><span class="linenos">1155</span></a>        <span class="k">return</span> <span class="n">out_str</span>
</span><span id="Arrival-1156"><a href="#Arrival-1156"><span class="linenos">1156</span></a>
</span><span id="Arrival-1157"><a href="#Arrival-1157"><span class="linenos">1157</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Arrival-1158"><a href="#Arrival-1158"><span class="linenos">1158</span></a>    <span class="k">def</span> <span class="nf">calculate_time_residual</span><span class="p">(</span><span class="n">observed</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">predicted</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
</span><span id="Arrival-1159"><a href="#Arrival-1159"><span class="linenos">1159</span></a>        <span class="k">return</span> <span class="n">observed</span> <span class="o">-</span> <span class="n">predicted</span>
</span><span id="Arrival-1160"><a href="#Arrival-1160"><span class="linenos">1160</span></a>
</span><span id="Arrival-1161"><a href="#Arrival-1161"><span class="linenos">1161</span></a>    <span class="nd">@property</span>
</span><span id="Arrival-1162"><a href="#Arrival-1162"><span class="linenos">1162</span></a>    <span class="k">def</span> <span class="nf">polarity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Arrival-1163"><a href="#Arrival-1163"><span class="linenos">1163</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_pick</span><span class="p">()</span><span class="o">.</span><span class="n">polarity</span>
</span><span id="Arrival-1164"><a href="#Arrival-1164"><span class="linenos">1164</span></a>
</span><span id="Arrival-1165"><a href="#Arrival-1165"><span class="linenos">1165</span></a>    <span class="nd">@property</span>
</span><span id="Arrival-1166"><a href="#Arrival-1166"><span class="linenos">1166</span></a>    <span class="k">def</span> <span class="nf">pick</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Arrival-1167"><a href="#Arrival-1167"><span class="linenos">1167</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_pick</span><span class="p">()</span>
</span><span id="Arrival-1168"><a href="#Arrival-1168"><span class="linenos">1168</span></a>
</span><span id="Arrival-1169"><a href="#Arrival-1169"><span class="linenos">1169</span></a>    <span class="nd">@property</span>
</span><span id="Arrival-1170"><a href="#Arrival-1170"><span class="linenos">1170</span></a>    <span class="k">def</span> <span class="nf">time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Arrival-1171"><a href="#Arrival-1171"><span class="linenos">1171</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pick</span><span class="o">.</span><span class="n">time</span>
</span><span id="Arrival-1172"><a href="#Arrival-1172"><span class="linenos">1172</span></a>
</span><span id="Arrival-1173"><a href="#Arrival-1173"><span class="linenos">1173</span></a>    <span class="nd">@property</span>
</span><span id="Arrival-1174"><a href="#Arrival-1174"><span class="linenos">1174</span></a>    <span class="k">def</span> <span class="nf">channel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Arrival-1175"><a href="#Arrival-1175"><span class="linenos">1175</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pick</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">channel_code</span>
</span><span id="Arrival-1176"><a href="#Arrival-1176"><span class="linenos">1176</span></a>
</span><span id="Arrival-1177"><a href="#Arrival-1177"><span class="linenos">1177</span></a>    <span class="nd">@property</span>
</span><span id="Arrival-1178"><a href="#Arrival-1178"><span class="linenos">1178</span></a>    <span class="k">def</span> <span class="nf">location</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Arrival-1179"><a href="#Arrival-1179"><span class="linenos">1179</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pick</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">location_code</span>
</span><span id="Arrival-1180"><a href="#Arrival-1180"><span class="linenos">1180</span></a>
</span><span id="Arrival-1181"><a href="#Arrival-1181"><span class="linenos">1181</span></a>    <span class="nd">@property</span>
</span><span id="Arrival-1182"><a href="#Arrival-1182"><span class="linenos">1182</span></a>    <span class="k">def</span> <span class="nf">station</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Arrival-1183"><a href="#Arrival-1183"><span class="linenos">1183</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pick</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">station_code</span>
</span><span id="Arrival-1184"><a href="#Arrival-1184"><span class="linenos">1184</span></a>
</span><span id="Arrival-1185"><a href="#Arrival-1185"><span class="linenos">1185</span></a>    <span class="nd">@property</span>
</span><span id="Arrival-1186"><a href="#Arrival-1186"><span class="linenos">1186</span></a>    <span class="k">def</span> <span class="nf">network</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Arrival-1187"><a href="#Arrival-1187"><span class="linenos">1187</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pick</span><span class="o">.</span><span class="n">waveform_id</span><span class="o">.</span><span class="n">network_code</span>
</span><span id="Arrival-1188"><a href="#Arrival-1188"><span class="linenos">1188</span></a>
</span><span id="Arrival-1189"><a href="#Arrival-1189"><span class="linenos">1189</span></a>    <span class="nd">@property</span>
</span><span id="Arrival-1190"><a href="#Arrival-1190"><span class="linenos">1190</span></a>    <span class="k">def</span> <span class="nf">velocity_model_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Arrival-1191"><a href="#Arrival-1191"><span class="linenos">1191</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">earth_model_id</span>
</span><span id="Arrival-1192"><a href="#Arrival-1192"><span class="linenos">1192</span></a>
</span><span id="Arrival-1193"><a href="#Arrival-1193"><span class="linenos">1193</span></a>    <span class="k">def</span> <span class="nf">get_pick</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Arrival-1194"><a href="#Arrival-1194"><span class="linenos">1194</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pick_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Arrival-1195"><a href="#Arrival-1195"><span class="linenos">1195</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pick_id</span><span class="o">.</span><span class="n">get_referred_object</span><span class="p">()</span>
</span><span id="Arrival-1196"><a href="#Arrival-1196"><span class="linenos">1196</span></a>
</span><span id="Arrival-1197"><a href="#Arrival-1197"><span class="linenos">1197</span></a>    <span class="k">def</span> <span class="nf">get_sta</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Arrival-1198"><a href="#Arrival-1198"><span class="linenos">1198</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pick_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Arrival-1199"><a href="#Arrival-1199"><span class="linenos">1199</span></a>            <span class="n">pick</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pick_id</span><span class="o">.</span><span class="n">get_referred_object</span><span class="p">()</span>
</span><span id="Arrival-1200"><a href="#Arrival-1200"><span class="linenos">1200</span></a>            <span class="k">return</span> <span class="n">pick</span><span class="o">.</span><span class="n">get_sta</span><span class="p">()</span>
</span><span id="Arrival-1201"><a href="#Arrival-1201"><span class="linenos">1201</span></a>
</span><span id="Arrival-1202"><a href="#Arrival-1202"><span class="linenos">1202</span></a>    <span class="k">def</span> <span class="nf">get_station</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Arrival-1203"><a href="#Arrival-1203"><span class="linenos">1203</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sta</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Successful association of a pick with an origin qualifies this pick as an
arrival. An arrival thus connects a pick with an origin and provides
additional attributes that describe this relationship. Usually
qualification of a pick as an arrival for a given origin is a hypothesis,
which is based on assumptions about the type of arrival (phase) as well as
observed and (on the basis of an earth model) computed arrival times, or
the residual, respectively. Additional pick attributes like the horizontal
slowness and backazimuth of the observed wave—especially if derived from
array data—may further constrain the nature of the arrival.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>resource_id</strong>:  Resource identifier of Arrival.</li>
<li><strong>force_resource_id</strong>:  If set to False, the automatic initialization of
<code>resource_id</code> attribute in case it is not specified will be skipped.</li>
<li><strong>pick_id</strong>:  Refers to the resource_id of a Pick.</li>
<li><strong>phase</strong>:  Phase identification. For possible values, please refer to
the description of the Phase object.</li>
<li><strong>time_correction</strong>:  Time correction value. Usually, a value
characteristic for the station at which the pick was detected,
sometimes also characteristic for the phase type or the slowness.
Unit: s</li>
<li><strong>azimuth: Azimuth of station as seen from the epicenter. Unit</strong>:  deg</li>
<li><strong>distance: Hypocentral distance. Unit</strong>:  m</li>
<li><strong>takeoff_angle</strong>:  Angle of emerging ray at the source, measured against
the downward normal direction. Unit: deg</li>
<li><strong>takeoff_angle_errors</strong>:  AttribDict containing error quantities.</li>
<li><strong>time_residual</strong>:  Residual between observed and expected arrival time
assuming proper phase identification and given the earth_model_ID of
the Origin, taking into account the time_correction. Unit: s</li>
<li><strong>horizontal_slowness_residual</strong>:  Residual of horizontal slowness and
the expected slowness given the current origin (refers to attribute
horizontal_slowness of class Pick).</li>
<li><strong>backazimuth_residual</strong>:  Residual of backazimuth and the backazimuth
computed for the current origin (refers to attribute backazimuth of
class Pick).</li>
<li><strong>time_weight</strong>:  Weight of the arrival time for computation of the
associated Origin. Note that the sum of all weights is not required to
be unity.</li>
<li><strong>horizontal_slowness_weight</strong>:  Weight of the horizontal slowness for
computation of the associated Origin. Note that the sum of all weights
is not required to be unity.</li>
<li><strong>backazimuth_weight</strong>:  Weight of the backazimuth for computation of the
associated Origin. Note that the sum of all weights is not required to
be unity.</li>
<li><strong>velocity_model_id</strong>:  Velocity model which is used for the association of
Arrival to Pick and computation of the residuals.</li>
<li><strong>comments</strong>:  Additional comments.</li>
<li><strong>creation_info</strong>:  CreationInfo for the Arrival object.</li>
</ul>

<div class="pdoc-alert pdoc-alert-note">

<p>For handling additional information not covered by the QuakeML
standard and how to output it to QuakeML see the
:ref:<code>ObsPy Tutorial &lt;quakeml-extra&gt;</code>.</p>

</div>
</div>


                            <div id="Arrival.__init__" class="classattr">
                                        <input id="Arrival.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Arrival</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="Arrival.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Arrival.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Arrival.__init__-1132"><a href="#Arrival.__init__-1132"><span class="linenos">1132</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Arrival.__init__-1133"><a href="#Arrival.__init__-1133"><span class="linenos">1133</span></a>        <span class="k">if</span> <span class="s1">&#39;velocity_model_id&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Arrival.__init__-1134"><a href="#Arrival.__init__-1134"><span class="linenos">1134</span></a>            <span class="n">velocity_model_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;velocity_model_id&#39;</span><span class="p">]</span>
</span><span id="Arrival.__init__-1135"><a href="#Arrival.__init__-1135"><span class="linenos">1135</span></a>            <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;velocity_model_id&#39;</span><span class="p">)</span>
</span><span id="Arrival.__init__-1136"><a href="#Arrival.__init__-1136"><span class="linenos">1136</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;earth_model_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">velocity_model_id</span>
</span><span id="Arrival.__init__-1137"><a href="#Arrival.__init__-1137"><span class="linenos">1137</span></a>        <span class="n">_init_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obspy_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>An AttribDict can be initialized in two ways. It can be given an
existing dictionary as a simple argument or alternatively all keyword
arguments will become (key, value) pairs.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">attrib_dict_1</span> <span class="o">=</span> <span class="n">AttribDict</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attrib_dict_2</span> <span class="o">=</span> <span class="n">AttribDict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attrib_dict_1</span>  <span class="c1">#doctest: +SKIP</span>
<span class="go">AttribDict({&#39;a&#39;: 1, &#39;b&#39;: 2})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span><span class="p">(</span><span class="n">attrib_dict_1</span> <span class="o">==</span> <span class="n">attrib_dict_2</span><span class="p">)</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="Arrival.extra_keys" class="classattr">
                                <div class="attr variable">
            <span class="name">extra_keys</span>        =
<span class="default_value">[]</span>

        
    </div>
    <a class="headerlink" href="#Arrival.extra_keys"></a>
    
    

                            </div>
                            <div id="Arrival.extra_type" class="classattr">
                                <div class="attr variable">
            <span class="name">extra_type</span>        =
<span class="default_value">{}</span>

        
    </div>
    <a class="headerlink" href="#Arrival.extra_type"></a>
    
    

                            </div>
                            <div id="Arrival.calculate_time_residual" class="classattr">
                                        <input id="Arrival.calculate_time_residual-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">calculate_time_residual</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">observed</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">predicted</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Arrival.calculate_time_residual-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Arrival.calculate_time_residual"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Arrival.calculate_time_residual-1157"><a href="#Arrival.calculate_time_residual-1157"><span class="linenos">1157</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Arrival.calculate_time_residual-1158"><a href="#Arrival.calculate_time_residual-1158"><span class="linenos">1158</span></a>    <span class="k">def</span> <span class="nf">calculate_time_residual</span><span class="p">(</span><span class="n">observed</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">predicted</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
</span><span id="Arrival.calculate_time_residual-1159"><a href="#Arrival.calculate_time_residual-1159"><span class="linenos">1159</span></a>        <span class="k">return</span> <span class="n">observed</span> <span class="o">-</span> <span class="n">predicted</span>
</span></pre></div>


    

                            </div>
                            <div id="Arrival.polarity" class="classattr">
                                <div class="attr variable">
            <span class="name">polarity</span>

        
    </div>
    <a class="headerlink" href="#Arrival.polarity"></a>
    
    

                            </div>
                            <div id="Arrival.pick" class="classattr">
                                <div class="attr variable">
            <span class="name">pick</span>

        
    </div>
    <a class="headerlink" href="#Arrival.pick"></a>
    
    

                            </div>
                            <div id="Arrival.time" class="classattr">
                                <div class="attr variable">
            <span class="name">time</span>

        
    </div>
    <a class="headerlink" href="#Arrival.time"></a>
    
    

                            </div>
                            <div id="Arrival.channel" class="classattr">
                                <div class="attr variable">
            <span class="name">channel</span>

        
    </div>
    <a class="headerlink" href="#Arrival.channel"></a>
    
    

                            </div>
                            <div id="Arrival.location" class="classattr">
                                <div class="attr variable">
            <span class="name">location</span>

        
    </div>
    <a class="headerlink" href="#Arrival.location"></a>
    
    

                            </div>
                            <div id="Arrival.station" class="classattr">
                                <div class="attr variable">
            <span class="name">station</span>

        
    </div>
    <a class="headerlink" href="#Arrival.station"></a>
    
    

                            </div>
                            <div id="Arrival.network" class="classattr">
                                <div class="attr variable">
            <span class="name">network</span>

        
    </div>
    <a class="headerlink" href="#Arrival.network"></a>
    
    

                            </div>
                            <div id="Arrival.velocity_model_id" class="classattr">
                                <div class="attr variable">
            <span class="name">velocity_model_id</span>

        
    </div>
    <a class="headerlink" href="#Arrival.velocity_model_id"></a>
    
    

                            </div>
                            <div id="Arrival.get_pick" class="classattr">
                                        <input id="Arrival.get_pick-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_pick</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Arrival.get_pick-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Arrival.get_pick"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Arrival.get_pick-1193"><a href="#Arrival.get_pick-1193"><span class="linenos">1193</span></a>    <span class="k">def</span> <span class="nf">get_pick</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Arrival.get_pick-1194"><a href="#Arrival.get_pick-1194"><span class="linenos">1194</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pick_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Arrival.get_pick-1195"><a href="#Arrival.get_pick-1195"><span class="linenos">1195</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pick_id</span><span class="o">.</span><span class="n">get_referred_object</span><span class="p">()</span>
</span></pre></div>


    

                            </div>
                            <div id="Arrival.get_sta" class="classattr">
                                        <input id="Arrival.get_sta-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_sta</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Arrival.get_sta-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Arrival.get_sta"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Arrival.get_sta-1197"><a href="#Arrival.get_sta-1197"><span class="linenos">1197</span></a>    <span class="k">def</span> <span class="nf">get_sta</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Arrival.get_sta-1198"><a href="#Arrival.get_sta-1198"><span class="linenos">1198</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pick_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Arrival.get_sta-1199"><a href="#Arrival.get_sta-1199"><span class="linenos">1199</span></a>            <span class="n">pick</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pick_id</span><span class="o">.</span><span class="n">get_referred_object</span><span class="p">()</span>
</span><span id="Arrival.get_sta-1200"><a href="#Arrival.get_sta-1200"><span class="linenos">1200</span></a>            <span class="k">return</span> <span class="n">pick</span><span class="o">.</span><span class="n">get_sta</span><span class="p">()</span>
</span></pre></div>


    

                            </div>
                            <div id="Arrival.get_station" class="classattr">
                                        <input id="Arrival.get_station-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_station</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Arrival.get_station-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Arrival.get_station"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Arrival.get_station-1202"><a href="#Arrival.get_station-1202"><span class="linenos">1202</span></a>    <span class="k">def</span> <span class="nf">get_station</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Arrival.get_station-1203"><a href="#Arrival.get_station-1203"><span class="linenos">1203</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sta</span><span class="p">()</span>
</span></pre></div>


    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>obspy.core.event.base._event_type_class_factory.&lt;locals&gt;.AbstractEventType</dt>
                                <dd id="Arrival.warn_on_non_default_key" class="variable">warn_on_non_default_key</dd>
                <dd id="Arrival.defaults" class="variable">defaults</dd>
                <dd id="Arrival.do_not_warn_on" class="variable">do_not_warn_on</dd>
                <dd id="Arrival.clear" class="function">clear</dd>
                <dd id="Arrival.copy" class="function">copy</dd>
                <dd id="Arrival.item" class="variable">item</dd>
                <dd id="Arrival.key" class="variable">key</dd>
                <dd id="Arrival.value" class="variable">value</dd>

            </div>
            <div><dt>obspy.core.util.attribdict.AttribDict</dt>
                                <dd id="Arrival.readonly" class="variable">readonly</dd>
                <dd id="Arrival.update" class="function">update</dd>

            </div>
            <div><dt>collections.abc.MutableMapping</dt>
                                <dd id="Arrival.pop" class="function">pop</dd>
                <dd id="Arrival.popitem" class="function">popitem</dd>
                <dd id="Arrival.setdefault" class="function">setdefault</dd>

            </div>
            <div><dt>collections.abc.Mapping</dt>
                                <dd id="Arrival.get" class="function">get</dd>
                <dd id="Arrival.keys" class="function">keys</dd>
                <dd id="Arrival.items" class="function">items</dd>
                <dd id="Arrival.values" class="function">values</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="get_arrival_from_pick">
                            <input id="get_arrival_from_pick-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_arrival_from_pick</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">arrivals</span>, </span><span class="param"><span class="n">pick</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="get_arrival_from_pick-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#get_arrival_from_pick"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="get_arrival_from_pick-1206"><a href="#get_arrival_from_pick-1206"><span class="linenos">1206</span></a><span class="k">def</span> <span class="nf">get_arrival_from_pick</span><span class="p">(</span><span class="n">arrivals</span><span class="p">,</span> <span class="n">pick</span><span class="p">):</span>
</span><span id="get_arrival_from_pick-1207"><a href="#get_arrival_from_pick-1207"><span class="linenos">1207</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="get_arrival_from_pick-1208"><a href="#get_arrival_from_pick-1208"><span class="linenos">1208</span></a><span class="sd">      return arrival corresponding to pick</span>
</span><span id="get_arrival_from_pick-1209"><a href="#get_arrival_from_pick-1209"><span class="linenos">1209</span></a>
</span><span id="get_arrival_from_pick-1210"><a href="#get_arrival_from_pick-1210"><span class="linenos">1210</span></a><span class="sd">      :param arrivals: list of arrivals</span>
</span><span id="get_arrival_from_pick-1211"><a href="#get_arrival_from_pick-1211"><span class="linenos">1211</span></a><span class="sd">      :type arrivals: list of either obspy.core.event.origin.Arrival</span>
</span><span id="get_arrival_from_pick-1212"><a href="#get_arrival_from_pick-1212"><span class="linenos">1212</span></a><span class="sd">                      or uquake.core.event.origin.Arrival</span>
</span><span id="get_arrival_from_pick-1213"><a href="#get_arrival_from_pick-1213"><span class="linenos">1213</span></a><span class="sd">      :param pick: P or S pick</span>
</span><span id="get_arrival_from_pick-1214"><a href="#get_arrival_from_pick-1214"><span class="linenos">1214</span></a><span class="sd">      :type pick: either obspy.core.event.origin.Pick</span>
</span><span id="get_arrival_from_pick-1215"><a href="#get_arrival_from_pick-1215"><span class="linenos">1215</span></a><span class="sd">                      or uquake.core.event.origin.Pick</span>
</span><span id="get_arrival_from_pick-1216"><a href="#get_arrival_from_pick-1216"><span class="linenos">1216</span></a><span class="sd">      :return arrival</span>
</span><span id="get_arrival_from_pick-1217"><a href="#get_arrival_from_pick-1217"><span class="linenos">1217</span></a><span class="sd">      :rtype: obspy.core.event.origin.Arrival or</span>
</span><span id="get_arrival_from_pick-1218"><a href="#get_arrival_from_pick-1218"><span class="linenos">1218</span></a><span class="sd">              uquake.core.event.origin.Arrival</span>
</span><span id="get_arrival_from_pick-1219"><a href="#get_arrival_from_pick-1219"><span class="linenos">1219</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="get_arrival_from_pick-1220"><a href="#get_arrival_from_pick-1220"><span class="linenos">1220</span></a>
</span><span id="get_arrival_from_pick-1221"><a href="#get_arrival_from_pick-1221"><span class="linenos">1221</span></a>    <span class="n">arrival</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="get_arrival_from_pick-1222"><a href="#get_arrival_from_pick-1222"><span class="linenos">1222</span></a>    <span class="k">for</span> <span class="n">arr</span> <span class="ow">in</span> <span class="n">arrivals</span><span class="p">:</span>
</span><span id="get_arrival_from_pick-1223"><a href="#get_arrival_from_pick-1223"><span class="linenos">1223</span></a>        <span class="k">if</span> <span class="n">arr</span><span class="o">.</span><span class="n">pick_id</span> <span class="o">==</span> <span class="n">pick</span><span class="o">.</span><span class="n">resource_id</span><span class="p">:</span>
</span><span id="get_arrival_from_pick-1224"><a href="#get_arrival_from_pick-1224"><span class="linenos">1224</span></a>            <span class="n">arrival</span> <span class="o">=</span> <span class="n">arr</span>
</span><span id="get_arrival_from_pick-1225"><a href="#get_arrival_from_pick-1225"><span class="linenos">1225</span></a>            <span class="k">break</span>
</span><span id="get_arrival_from_pick-1226"><a href="#get_arrival_from_pick-1226"><span class="linenos">1226</span></a>
</span><span id="get_arrival_from_pick-1227"><a href="#get_arrival_from_pick-1227"><span class="linenos">1227</span></a>    <span class="k">return</span> <span class="n">arrival</span>
</span></pre></div>


            <div class="docstring"><p>return arrival corresponding to pick</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>arrivals</strong>:  list of arrivals</li>
<li><strong>pick</strong>:  P or S pick
:return arrival</li>
</ul>
</div>


                </section>
                <section id="read_events">
                            <input id="read_events-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">read_events</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">filename</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="read_events-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#read_events"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="read_events-1230"><a href="#read_events-1230"><span class="linenos">1230</span></a><span class="k">def</span> <span class="nf">read_events</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="read_events-1231"><a href="#read_events-1231"><span class="linenos">1231</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">Path</span><span class="p">):</span>
</span><span id="read_events-1232"><a href="#read_events-1232"><span class="linenos">1232</span></a>        <span class="n">filename</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</span><span id="read_events-1233"><a href="#read_events-1233"><span class="linenos">1233</span></a>    <span class="c1"># converting the obspy object into uquake objects</span>
</span><span id="read_events-1234"><a href="#read_events-1234"><span class="linenos">1234</span></a>
</span><span id="read_events-1235"><a href="#read_events-1235"><span class="linenos">1235</span></a>    <span class="n">cat</span> <span class="o">=</span> <span class="n">obsevent</span><span class="o">.</span><span class="n">read_events</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="read_events-1236"><a href="#read_events-1236"><span class="linenos">1236</span></a>    <span class="n">mq_catalog</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">(</span><span class="n">obspy_obj</span><span class="o">=</span><span class="n">cat</span><span class="p">)</span>
</span><span id="read_events-1237"><a href="#read_events-1237"><span class="linenos">1237</span></a>
</span><span id="read_events-1238"><a href="#read_events-1238"><span class="linenos">1238</span></a>    <span class="k">return</span> <span class="n">mq_catalog</span>
</span></pre></div>


    

                </section>
                <section id="break_down">
                            <input id="break_down-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">break_down</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">event</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="break_down-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#break_down"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="break_down-1241"><a href="#break_down-1241"><span class="linenos">1241</span></a><span class="k">def</span> <span class="nf">break_down</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
</span><span id="break_down-1242"><a href="#break_down-1242"><span class="linenos">1242</span></a>    <span class="n">origin</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">origins</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="break_down-1243"><a href="#break_down-1243"><span class="linenos">1243</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;break_down: Here&#39;s what obspy reads:&quot;</span><span class="p">)</span>
</span><span id="break_down-1244"><a href="#break_down-1244"><span class="linenos">1244</span></a>    <span class="nb">print</span><span class="p">(</span><span class="n">origin</span><span class="p">)</span>
</span><span id="break_down-1245"><a href="#break_down-1245"><span class="linenos">1245</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;origin res id: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">origin</span><span class="o">.</span><span class="n">resource_id</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</span><span id="break_down-1246"><a href="#break_down-1246"><span class="linenos">1246</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;id(origin): </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nb">id</span><span class="p">(</span><span class="n">origin</span><span class="p">))</span>
</span><span id="break_down-1247"><a href="#break_down-1247"><span class="linenos">1247</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;id(origin.resource_id):</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nb">id</span><span class="p">(</span><span class="n">origin</span><span class="o">.</span><span class="n">resource_id</span><span class="p">))</span>
</span><span id="break_down-1248"><a href="#break_down-1248"><span class="linenos">1248</span></a>    <span class="n">ref_obj</span> <span class="o">=</span> <span class="n">origin</span><span class="o">.</span><span class="n">resource_id</span><span class="o">.</span><span class="n">get_referred_object</span><span class="p">()</span>
</span><span id="break_down-1249"><a href="#break_down-1249"><span class="linenos">1249</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;id(ref_obj):</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nb">id</span><span class="p">(</span><span class="n">ref_obj</span><span class="p">))</span>
</span><span id="break_down-1250"><a href="#break_down-1250"><span class="linenos">1250</span></a>
</span><span id="break_down-1251"><a href="#break_down-1251"><span class="linenos">1251</span></a>    <span class="k">return</span>
</span></pre></div>


    

                </section>
                <section id="make_pick">
                            <input id="make_pick-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">make_pick</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">time</span>,</span><span class="param">	<span class="n">phase</span><span class="o">=</span><span class="s1">&#39;P&#39;</span>,</span><span class="param">	<span class="n">wave_data</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">snr</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">mode</span><span class="o">=</span><span class="s1">&#39;automatic&#39;</span>,</span><span class="param">	<span class="n">status</span><span class="o">=</span><span class="s1">&#39;preliminary&#39;</span>,</span><span class="param">	<span class="n">method_string</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">resource_id</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="make_pick-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#make_pick"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="make_pick-1255"><a href="#make_pick-1255"><span class="linenos">1255</span></a><span class="k">def</span> <span class="nf">make_pick</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">wave_data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">snr</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;automatic&#39;</span><span class="p">,</span>
</span><span id="make_pick-1256"><a href="#make_pick-1256"><span class="linenos">1256</span></a>              <span class="n">status</span><span class="o">=</span><span class="s1">&#39;preliminary&#39;</span><span class="p">,</span> <span class="n">method_string</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="make_pick-1257"><a href="#make_pick-1257"><span class="linenos">1257</span></a>    <span class="n">this_pick</span> <span class="o">=</span> <span class="n">Pick</span><span class="p">()</span>
</span><span id="make_pick-1258"><a href="#make_pick-1258"><span class="linenos">1258</span></a>    <span class="n">this_pick</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="n">time</span>
</span><span id="make_pick-1259"><a href="#make_pick-1259"><span class="linenos">1259</span></a>    <span class="n">this_pick</span><span class="o">.</span><span class="n">phase_hint</span> <span class="o">=</span> <span class="n">phase</span>
</span><span id="make_pick-1260"><a href="#make_pick-1260"><span class="linenos">1260</span></a>    <span class="n">this_pick</span><span class="o">.</span><span class="n">evaluation_mode</span> <span class="o">=</span> <span class="n">mode</span>
</span><span id="make_pick-1261"><a href="#make_pick-1261"><span class="linenos">1261</span></a>    <span class="n">this_pick</span><span class="o">.</span><span class="n">evaluation_status</span> <span class="o">=</span> <span class="n">status</span>
</span><span id="make_pick-1262"><a href="#make_pick-1262"><span class="linenos">1262</span></a>
</span><span id="make_pick-1263"><a href="#make_pick-1263"><span class="linenos">1263</span></a>    <span class="n">this_pick</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="n">method_string</span>
</span><span id="make_pick-1264"><a href="#make_pick-1264"><span class="linenos">1264</span></a>    <span class="n">this_pick</span><span class="o">.</span><span class="n">snr</span> <span class="o">=</span> <span class="n">snr</span>
</span><span id="make_pick-1265"><a href="#make_pick-1265"><span class="linenos">1265</span></a>
</span><span id="make_pick-1266"><a href="#make_pick-1266"><span class="linenos">1266</span></a>    <span class="k">if</span> <span class="n">wave_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="make_pick-1267"><a href="#make_pick-1267"><span class="linenos">1267</span></a>        <span class="n">this_pick</span><span class="o">.</span><span class="n">waveform_id</span> <span class="o">=</span> <span class="n">WaveformStreamID</span><span class="p">(</span>
</span><span id="make_pick-1268"><a href="#make_pick-1268"><span class="linenos">1268</span></a>            <span class="n">network_code</span><span class="o">=</span><span class="n">wave_data</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">network</span><span class="p">,</span>
</span><span id="make_pick-1269"><a href="#make_pick-1269"><span class="linenos">1269</span></a>            <span class="n">station_code</span><span class="o">=</span><span class="n">wave_data</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">station</span><span class="p">,</span>
</span><span id="make_pick-1270"><a href="#make_pick-1270"><span class="linenos">1270</span></a>            <span class="n">location_code</span><span class="o">=</span><span class="n">wave_data</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">location</span><span class="p">,</span>
</span><span id="make_pick-1271"><a href="#make_pick-1271"><span class="linenos">1271</span></a>            <span class="n">channel_code</span><span class="o">=</span><span class="n">wave_data</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">channel</span><span class="p">)</span>
</span><span id="make_pick-1272"><a href="#make_pick-1272"><span class="linenos">1272</span></a>
</span><span id="make_pick-1273"><a href="#make_pick-1273"><span class="linenos">1273</span></a>        <span class="n">this_pick</span><span class="o">.</span><span class="n">trace_id</span> <span class="o">=</span> <span class="n">wave_data</span><span class="o">.</span><span class="n">get_id</span><span class="p">()</span>
</span><span id="make_pick-1274"><a href="#make_pick-1274"><span class="linenos">1274</span></a>
</span><span id="make_pick-1275"><a href="#make_pick-1275"><span class="linenos">1275</span></a>    <span class="k">return</span> <span class="n">this_pick</span>
</span></pre></div>


    

                </section>
                <section id="array_to_b64">
                            <input id="array_to_b64-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">array_to_b64</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">array</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="array_to_b64-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#array_to_b64"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="array_to_b64-1278"><a href="#array_to_b64-1278"><span class="linenos">1278</span></a><span class="k">def</span> <span class="nf">array_to_b64</span><span class="p">(</span><span class="n">array</span><span class="p">):</span>
</span><span id="array_to_b64-1279"><a href="#array_to_b64-1279"><span class="linenos">1279</span></a>    <span class="n">output</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">()</span>
</span><span id="array_to_b64-1280"><a href="#array_to_b64-1280"><span class="linenos">1280</span></a>    <span class="n">np</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="n">array</span><span class="p">)</span>
</span><span id="array_to_b64-1281"><a href="#array_to_b64-1281"><span class="linenos">1281</span></a>    <span class="n">content</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>
</span><span id="array_to_b64-1282"><a href="#array_to_b64-1282"><span class="linenos">1282</span></a>    <span class="n">encoded</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">content</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
</span><span id="array_to_b64-1283"><a href="#array_to_b64-1283"><span class="linenos">1283</span></a>    <span class="k">return</span> <span class="n">encoded</span>
</span></pre></div>


    

                </section>
                <section id="isfloat">
                            <input id="isfloat-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">isfloat</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">value</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="isfloat-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#isfloat"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="isfloat-1286"><a href="#isfloat-1286"><span class="linenos">1286</span></a><span class="k">def</span> <span class="nf">isfloat</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
</span><span id="isfloat-1287"><a href="#isfloat-1287"><span class="linenos">1287</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="isfloat-1288"><a href="#isfloat-1288"><span class="linenos">1288</span></a>        <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span id="isfloat-1289"><a href="#isfloat-1289"><span class="linenos">1289</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="isfloat-1290"><a href="#isfloat-1290"><span class="linenos">1290</span></a>    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
</span><span id="isfloat-1291"><a href="#isfloat-1291"><span class="linenos">1291</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


    

                </section>
                <section id="b64_to_array">
                            <input id="b64_to_array-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">b64_to_array</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">b64str</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="b64_to_array-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#b64_to_array"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="b64_to_array-1294"><a href="#b64_to_array-1294"><span class="linenos">1294</span></a><span class="k">def</span> <span class="nf">b64_to_array</span><span class="p">(</span><span class="n">b64str</span><span class="p">):</span>
</span><span id="b64_to_array-1295"><a href="#b64_to_array-1295"><span class="linenos">1295</span></a>    <span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">b64str</span><span class="p">)))</span>
</span><span id="b64_to_array-1296"><a href="#b64_to_array-1296"><span class="linenos">1296</span></a>    <span class="k">return</span> <span class="n">arr</span>
</span></pre></div>


    

                </section>
                <section id="pop_keys_matching">
                            <input id="pop_keys_matching-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">pop_keys_matching</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">dict_in</span>, </span><span class="param"><span class="n">keys</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="pop_keys_matching-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#pop_keys_matching"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="pop_keys_matching-1299"><a href="#pop_keys_matching-1299"><span class="linenos">1299</span></a><span class="k">def</span> <span class="nf">pop_keys_matching</span><span class="p">(</span><span class="n">dict_in</span><span class="p">,</span> <span class="n">keys</span><span class="p">):</span>
</span><span id="pop_keys_matching-1300"><a href="#pop_keys_matching-1300"><span class="linenos">1300</span></a>    <span class="c1"># Move keys from dict_in to dict_out</span>
</span><span id="pop_keys_matching-1301"><a href="#pop_keys_matching-1301"><span class="linenos">1301</span></a>    <span class="n">dict_out</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="pop_keys_matching-1302"><a href="#pop_keys_matching-1302"><span class="linenos">1302</span></a>    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
</span><span id="pop_keys_matching-1303"><a href="#pop_keys_matching-1303"><span class="linenos">1303</span></a>        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">dict_in</span><span class="p">:</span>
</span><span id="pop_keys_matching-1304"><a href="#pop_keys_matching-1304"><span class="linenos">1304</span></a>            <span class="n">dict_out</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">dict_in</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</span><span id="pop_keys_matching-1305"><a href="#pop_keys_matching-1305"><span class="linenos">1305</span></a>    <span class="k">return</span> <span class="n">dict_out</span>
</span></pre></div>


    

                </section>
                <section id="parse_string_val">
                            <input id="parse_string_val-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parse_string_val</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">val</span>, </span><span class="param"><span class="n">arr_flag</span><span class="o">=</span><span class="s1">&#39;npy64_&#39;</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="parse_string_val-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#parse_string_val"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="parse_string_val-1308"><a href="#parse_string_val-1308"><span class="linenos">1308</span></a><span class="k">def</span> <span class="nf">parse_string_val</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">arr_flag</span><span class="o">=</span><span class="s1">&#39;npy64_&#39;</span><span class="p">):</span>
</span><span id="parse_string_val-1309"><a href="#parse_string_val-1309"><span class="linenos">1309</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="parse_string_val-1310"><a href="#parse_string_val-1310"><span class="linenos">1310</span></a><span class="sd">    Parse extra args in quakeML which are all stored as string.</span>
</span><span id="parse_string_val-1311"><a href="#parse_string_val-1311"><span class="linenos">1311</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="parse_string_val-1312"><a href="#parse_string_val-1312"><span class="linenos">1312</span></a>    <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># hack for deepcopy ignoring isfloat try-except</span>
</span><span id="parse_string_val-1313"><a href="#parse_string_val-1313"><span class="linenos">1313</span></a>        <span class="n">val</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="parse_string_val-1314"><a href="#parse_string_val-1314"><span class="linenos">1314</span></a>    <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="o">==</span> <span class="n">AttribDict</span><span class="p">:</span>
</span><span id="parse_string_val-1315"><a href="#parse_string_val-1315"><span class="linenos">1315</span></a>        <span class="n">val</span> <span class="o">=</span> <span class="n">val</span>
</span><span id="parse_string_val-1316"><a href="#parse_string_val-1316"><span class="linenos">1316</span></a>    <span class="k">elif</span> <span class="n">isfloat</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
</span><span id="parse_string_val-1317"><a href="#parse_string_val-1317"><span class="linenos">1317</span></a>        <span class="n">val</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
</span><span id="parse_string_val-1318"><a href="#parse_string_val-1318"><span class="linenos">1318</span></a>    <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;None&#39;</span><span class="p">:</span>
</span><span id="parse_string_val-1319"><a href="#parse_string_val-1319"><span class="linenos">1319</span></a>        <span class="n">val</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="parse_string_val-1320"><a href="#parse_string_val-1320"><span class="linenos">1320</span></a>    <span class="k">elif</span> <span class="n">val</span><span class="p">[:</span><span class="nb">len</span><span class="p">(</span><span class="n">arr_flag</span><span class="p">)]</span> <span class="o">==</span> <span class="s1">&#39;npy64_&#39;</span><span class="p">:</span>
</span><span id="parse_string_val-1321"><a href="#parse_string_val-1321"><span class="linenos">1321</span></a>        <span class="n">val</span> <span class="o">=</span> <span class="n">b64_to_array</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">arr_flag</span><span class="p">):])</span>
</span><span id="parse_string_val-1322"><a href="#parse_string_val-1322"><span class="linenos">1322</span></a>    <span class="k">return</span> <span class="n">val</span>
</span></pre></div>


            <div class="docstring"><p>Parse extra args in quakeML which are all stored as string.</p>
</div>


                </section>
                <section id="calc_static_stress_drop">
                            <input id="calc_static_stress_drop-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">calc_static_stress_drop</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">Mw</span>, </span><span class="param"><span class="n">fc</span>, </span><span class="param"><span class="n">phase</span><span class="o">=</span><span class="s1">&#39;S&#39;</span>, </span><span class="param"><span class="n">v</span><span class="o">=</span><span class="mf">3.5</span>, </span><span class="param"><span class="n">use_brune</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="calc_static_stress_drop-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#calc_static_stress_drop"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="calc_static_stress_drop-1431"><a href="#calc_static_stress_drop-1431"><span class="linenos">1431</span></a><span class="k">def</span> <span class="nf">calc_static_stress_drop</span><span class="p">(</span><span class="n">Mw</span><span class="p">,</span> <span class="n">fc</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="mf">3.5</span><span class="p">,</span> <span class="n">use_brune</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="calc_static_stress_drop-1432"><a href="#calc_static_stress_drop-1432"><span class="linenos">1432</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="calc_static_stress_drop-1433"><a href="#calc_static_stress_drop-1433"><span class="linenos">1433</span></a><span class="sd">    Calculate static stress drop from moment/corner_freq relation</span>
</span><span id="calc_static_stress_drop-1434"><a href="#calc_static_stress_drop-1434"><span class="linenos">1434</span></a><span class="sd">    Note the brune model (instantaneous slip) gives stress drops ~ 8 x lower</span>
</span><span id="calc_static_stress_drop-1435"><a href="#calc_static_stress_drop-1435"><span class="linenos">1435</span></a><span class="sd">    than the Madariaga values for fcP, fcS</span>
</span><span id="calc_static_stress_drop-1436"><a href="#calc_static_stress_drop-1436"><span class="linenos">1436</span></a>
</span><span id="calc_static_stress_drop-1437"><a href="#calc_static_stress_drop-1437"><span class="linenos">1437</span></a><span class="sd">    :param Mw: moment magnitude</span>
</span><span id="calc_static_stress_drop-1438"><a href="#calc_static_stress_drop-1438"><span class="linenos">1438</span></a><span class="sd">    :type Mw: float</span>
</span><span id="calc_static_stress_drop-1439"><a href="#calc_static_stress_drop-1439"><span class="linenos">1439</span></a><span class="sd">    :param fc: corner frequency [Hz]</span>
</span><span id="calc_static_stress_drop-1440"><a href="#calc_static_stress_drop-1440"><span class="linenos">1440</span></a><span class="sd">    :type fc: float</span>
</span><span id="calc_static_stress_drop-1441"><a href="#calc_static_stress_drop-1441"><span class="linenos">1441</span></a><span class="sd">    :param phase: P or S phase</span>
</span><span id="calc_static_stress_drop-1442"><a href="#calc_static_stress_drop-1442"><span class="linenos">1442</span></a><span class="sd">    :type phase: string</span>
</span><span id="calc_static_stress_drop-1443"><a href="#calc_static_stress_drop-1443"><span class="linenos">1443</span></a><span class="sd">    :param v: P or S velocity [km/s] at source</span>
</span><span id="calc_static_stress_drop-1444"><a href="#calc_static_stress_drop-1444"><span class="linenos">1444</span></a><span class="sd">    :type v: float</span>
</span><span id="calc_static_stress_drop-1445"><a href="#calc_static_stress_drop-1445"><span class="linenos">1445</span></a><span class="sd">    :param use_brune: If true --&gt; use Brune&#39;s original scaling</span>
</span><span id="calc_static_stress_drop-1446"><a href="#calc_static_stress_drop-1446"><span class="linenos">1446</span></a><span class="sd">    :type use_brune: boolean</span>
</span><span id="calc_static_stress_drop-1447"><a href="#calc_static_stress_drop-1447"><span class="linenos">1447</span></a><span class="sd">    :returns: static stress drop [MPa]</span>
</span><span id="calc_static_stress_drop-1448"><a href="#calc_static_stress_drop-1448"><span class="linenos">1448</span></a><span class="sd">    :rtype: float</span>
</span><span id="calc_static_stress_drop-1449"><a href="#calc_static_stress_drop-1449"><span class="linenos">1449</span></a>
</span><span id="calc_static_stress_drop-1450"><a href="#calc_static_stress_drop-1450"><span class="linenos">1450</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="calc_static_stress_drop-1451"><a href="#calc_static_stress_drop-1451"><span class="linenos">1451</span></a>
</span><span id="calc_static_stress_drop-1452"><a href="#calc_static_stress_drop-1452"><span class="linenos">1452</span></a>    <span class="k">if</span> <span class="n">use_brune</span><span class="p">:</span>  <span class="c1"># Use Brune scaling</span>
</span><span id="calc_static_stress_drop-1453"><a href="#calc_static_stress_drop-1453"><span class="linenos">1453</span></a>        <span class="n">c</span> <span class="o">=</span> <span class="mf">.375</span>
</span><span id="calc_static_stress_drop-1454"><a href="#calc_static_stress_drop-1454"><span class="linenos">1454</span></a>    <span class="k">else</span><span class="p">:</span>  <span class="c1"># Use Madariaga scaling</span>
</span><span id="calc_static_stress_drop-1455"><a href="#calc_static_stress_drop-1455"><span class="linenos">1455</span></a>        <span class="k">if</span> <span class="n">phase</span> <span class="o">==</span> <span class="s1">&#39;S&#39;</span><span class="p">:</span>
</span><span id="calc_static_stress_drop-1456"><a href="#calc_static_stress_drop-1456"><span class="linenos">1456</span></a>            <span class="n">c</span> <span class="o">=</span> <span class="mf">.21</span>
</span><span id="calc_static_stress_drop-1457"><a href="#calc_static_stress_drop-1457"><span class="linenos">1457</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="calc_static_stress_drop-1458"><a href="#calc_static_stress_drop-1458"><span class="linenos">1458</span></a>            <span class="n">c</span> <span class="o">=</span> <span class="mf">.32</span>
</span><span id="calc_static_stress_drop-1459"><a href="#calc_static_stress_drop-1459"><span class="linenos">1459</span></a>
</span><span id="calc_static_stress_drop-1460"><a href="#calc_static_stress_drop-1460"><span class="linenos">1460</span></a>    <span class="n">v</span> <span class="o">*=</span> <span class="mf">1e5</span>  <span class="c1"># cm/s</span>
</span><span id="calc_static_stress_drop-1461"><a href="#calc_static_stress_drop-1461"><span class="linenos">1461</span></a>
</span><span id="calc_static_stress_drop-1462"><a href="#calc_static_stress_drop-1462"><span class="linenos">1462</span></a>    <span class="n">a</span> <span class="o">=</span> <span class="n">c</span> <span class="o">*</span> <span class="n">v</span> <span class="o">/</span> <span class="n">fc</span>  <span class="c1"># radius of circular fault from corner freq</span>
</span><span id="calc_static_stress_drop-1463"><a href="#calc_static_stress_drop-1463"><span class="linenos">1463</span></a>
</span><span id="calc_static_stress_drop-1464"><a href="#calc_static_stress_drop-1464"><span class="linenos">1464</span></a>    <span class="n">logM0</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">Mw</span> <span class="o">+</span> <span class="mf">9.1</span>  <span class="c1"># in N-m</span>
</span><span id="calc_static_stress_drop-1465"><a href="#calc_static_stress_drop-1465"><span class="linenos">1465</span></a>    <span class="n">M0</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">**</span> <span class="n">logM0</span> <span class="o">*</span> <span class="mf">1e7</span>  <span class="c1"># dyn-cm</span>
</span><span id="calc_static_stress_drop-1466"><a href="#calc_static_stress_drop-1466"><span class="linenos">1466</span></a>
</span><span id="calc_static_stress_drop-1467"><a href="#calc_static_stress_drop-1467"><span class="linenos">1467</span></a>    <span class="n">stress_drop</span> <span class="o">=</span> <span class="mf">7.</span> <span class="o">/</span> <span class="mf">16.</span> <span class="o">*</span> <span class="n">M0</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">a</span><span class="p">)</span> <span class="o">**</span> <span class="mi">3</span>  <span class="c1"># in dyn/cm^2</span>
</span><span id="calc_static_stress_drop-1468"><a href="#calc_static_stress_drop-1468"><span class="linenos">1468</span></a>    <span class="n">stress_drop</span> <span class="o">/=</span> <span class="mf">10.</span>  <span class="c1"># convert to Pa=N/m^2</span>
</span><span id="calc_static_stress_drop-1469"><a href="#calc_static_stress_drop-1469"><span class="linenos">1469</span></a>
</span><span id="calc_static_stress_drop-1470"><a href="#calc_static_stress_drop-1470"><span class="linenos">1470</span></a>    <span class="k">return</span> <span class="n">stress_drop</span> <span class="o">/</span> <span class="mf">1e6</span>  <span class="c1"># MPa</span>
</span></pre></div>


            <div class="docstring"><p>Calculate static stress drop from moment/corner_freq relation
Note the brune model (instantaneous slip) gives stress drops ~ 8 x lower
than the Madariaga values for fcP, fcS</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>Mw</strong>:  moment magnitude</li>
<li><strong>fc</strong>:  corner frequency [Hz]</li>
<li><strong>phase</strong>:  P or S phase</li>
<li><strong>v</strong>:  P or S velocity [km/s] at source</li>
<li><strong>use_brune</strong>:  If true --> use Brune's original scaling
:returns: static stress drop [MPa]</li>
</ul>
</div>


                </section>
                <section id="cos">
                    <div class="attr variable">
            <span class="name">cos</span>        =
<span class="default_value">&lt;ufunc &#39;cos&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#cos"></a>
    
    

                </section>
                <section id="sin">
                    <div class="attr variable">
            <span class="name">sin</span>        =
<span class="default_value">&lt;ufunc &#39;sin&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#sin"></a>
    
    

                </section>
                <section id="degs2rad">
                    <div class="attr variable">
            <span class="name">degs2rad</span>        =
<span class="default_value">0.017453292519943295</span>

        
    </div>
    <a class="headerlink" href="#degs2rad"></a>
    
    

                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>